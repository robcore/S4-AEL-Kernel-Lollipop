From 486b4638edd6eb9d730319691fa8ddd46afd7e3b Mon Sep 17 00:00:00 2001
From: ausdim <koronaios@gmail.com>
Date: Thu, 3 Jul 2014 12:02:08 +0300
Subject: [PATCH] Remove some clock debug info from dmesg

---
 arch/arm/mach-msm/clock-debug.c | 40 ++--------------------------------------
 1 file changed, 2 insertions(+), 38 deletions(-)

diff --git a/arch/arm/mach-msm/clock-debug.c b/arch/arm/mach-msm/clock-debug.c
index 965c8c4..a7d1237 100755
--- a/arch/arm/mach-msm/clock-debug.c
+++ b/arch/arm/mach-msm/clock-debug.c
@@ -405,38 +405,6 @@ int __init clock_debug_init(void)
 	return 0;
 }
 
-static int clock_debug_print_clock(struct clk_lookup *cl)
-{
-	char *start = "";
-	struct clk *c = cl->clk;
-	int dev = !(cl->dev_id == NULL);
-
-	if (!c || !c->prepare_count)
-		return 0;
-
-	pr_info("\t");
-	do {
-		if (c->vdd_class)
-			pr_cont("%s%s%s%s:%u:%u [%ld, %lu]", start,
-					c->dbg_name,
-					dev ? ":" : "",
-					dev ? cl->dev_id : "",
-					c->prepare_count, c->count, c->rate,
-					c->vdd_class->cur_level);
-		else
-			pr_cont("%s%s%s%s:%u:%u [%ld]", start, c->dbg_name,
-					dev ? ":" : "",
-					dev ? cl->dev_id : "",
-					c->prepare_count, c->count, c->rate);
-		start = " -> ";
-		dev = 0;
-	} while ((c = clk_get_parent(c)));
-
-	pr_cont("\n");
-
-	return 1;
-}
-
 /**
  * clock_debug_print_enabled() - Print names of enabled clocks for suspend debug
  *
@@ -444,14 +412,10 @@ static int clock_debug_print_clock(struct clk_lookup *cl)
  */
 void clock_debug_print_enabled(void)
 {
-	struct clk_table *table;
-	unsigned long flags;
-	int i, cnt = 0;
-
 	if (likely(!debug_suspend))
 		return;
 
-	pr_info("Enabled clocks:\n");
+	/*pr_info("Enabled clocks:\n");
 	spin_lock_irqsave(&clk_list_lock, flags);
 	list_for_each_entry(table, &clk_list, node) {
 		for (i = 0; i < table->num_clocks; i++)
@@ -462,6 +426,6 @@ void clock_debug_print_enabled(void)
 	if (cnt)
 		pr_info("Enabled clock count: %d\n", cnt);
 	else
-		pr_info("No clocks enabled.\n");
+		pr_info("No clocks enabled.\n");*/
 
 }
