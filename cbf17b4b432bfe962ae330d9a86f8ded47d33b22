



<!DOCTYPE html>
<html lang="en" class="">
  <head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# object: http://ogp.me/ns/object# article: http://ogp.me/ns/article# profile: http://ogp.me/ns/profile#">
    <meta charset='utf-8'>

    <link crossorigin="anonymous" href="https://assets-cdn.github.com/assets/frameworks-10be4979de26ab47dfee40bccfed139b7d31ae9c749c85e9139aecbcf39ade4f.css" media="all" rel="stylesheet" />
    <link crossorigin="anonymous" href="https://assets-cdn.github.com/assets/github-88453e1f94747492c57f3e1165dfcaf3f6e286adb30f58f167035a479ee2319a.css" media="all" rel="stylesheet" />
    
    
    
    <link crossorigin="anonymous" href="https://assets-cdn.github.com/assets/site-1bd23793fa6ea7331120b0c618363c3c479f68b6aa10e8e58097327cc3640a36.css" media="all" rel="stylesheet" />

    <link as="script" href="https://assets-cdn.github.com/assets/frameworks-eadd096b8f37795fc0cf0934c37c7ec3d1eb7f3020e9d6c817b0a6525c417b5a.js" rel="preload" />
    <link as="script" href="https://assets-cdn.github.com/assets/github-d8270eef9e7b4bbbab5ba50e23533b7663f84d8af12f38bdc7aeb7d1b1a53045.js" rel="preload" />

    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="Content-Language" content="en">
    <meta name="viewport" content="width=1020">
    
    
    <title>this adds back all cpugovs from Nova-Kernel, with features that are n… · Tkkg1994/StockKernel@cbf17b4 · GitHub</title>
    <link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="GitHub">
    <link rel="fluid-icon" href="https://github.com/fluidicon.png" title="GitHub">
    <link rel="apple-touch-icon" href="/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/apple-touch-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/apple-touch-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/apple-touch-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-touch-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/apple-touch-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon-180x180.png">
    <meta property="fb:app_id" content="1401488693436528">

      <meta content="https://avatars3.githubusercontent.com/u/10393524?v=3&amp;s=200" name="twitter:image:src" /><meta content="@github" name="twitter:site" /><meta content="summary" name="twitter:card" /><meta content="this adds back all cpugovs from Nova-Kernel, with features that are n… · Tkkg1994/StockKernel@cbf17b4" name="twitter:title" /><meta content="…eeeded, please check Nova-Kernel github for history!" name="twitter:description" />
      <meta content="https://avatars3.githubusercontent.com/u/10393524?v=3&amp;s=200" property="og:image" /><meta content="GitHub" property="og:site_name" /><meta content="object" property="og:type" /><meta content="this adds back all cpugovs from Nova-Kernel, with features that are n… · Tkkg1994/StockKernel@cbf17b4" property="og:title" /><meta content="https://github.com/Tkkg1994/StockKernel/commit/cbf17b4b432bfe962ae330d9a86f8ded47d33b22" property="og:url" /><meta content="…eeeded, please check Nova-Kernel github for history!" property="og:description" /><meta content="1458911625" property="og:updated_time" />
      <meta name="browser-stats-url" content="https://api.github.com/_private/browser/stats">
    <meta name="browser-errors-url" content="https://api.github.com/_private/browser/errors">
    <link rel="assets" href="https://assets-cdn.github.com/">
    
    <meta name="pjax-timeout" content="1000">
    

    <meta name="msapplication-TileImage" content="/windows-tile.png">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="selected-link" value="repo_commits" data-pjax-transient>

    <meta name="google-site-verification" content="KT5gs8h0wvaagLKAVWq8bbeNwnZZK1r1XQysX3xurLU">
<meta name="google-site-verification" content="ZzhVyEFwb7w3e0-uOTltm8Jsck2F5StVihD0exw2fsA">
    <meta name="google-analytics" content="UA-3769691-2">

<meta content="collector.githubapp.com" name="octolytics-host" /><meta content="github" name="octolytics-app-id" /><meta content="3241837E:7CE2:136A746B:56F68418" name="octolytics-dimension-request_id" />
<meta content="/&lt;user-name&gt;/&lt;repo-name&gt;/commit/show" data-pjax-transient="true" name="analytics-location" />



  <meta class="js-ga-set" name="dimension1" content="Logged Out">



        <meta name="hostname" content="github.com">
    <meta name="user-login" content="">

        <meta name="expected-hostname" content="github.com">
      <meta name="js-proxy-site-detection-payload" content="Y2U4Y2UwMjc1NTcyZWQyZTE1MTA1NDEwNjdlNDQyM2Q3MTllMjkxYTQ2OWNjNTczNDA0YjZkZTg1YjBjYTBkNXx7InJlbW90ZV9hZGRyZXNzIjoiNTAuNjUuMTMxLjEyNiIsInJlcXVlc3RfaWQiOiIzMjQxODM3RTo3Q0UyOjEzNkE3NDZCOjU2RjY4NDE4IiwidGltZXN0YW1wIjoxNDU4OTk2MjQ5fQ==">

      <link rel="mask-icon" href="https://assets-cdn.github.com/pinned-octocat.svg" color="#4078c0">
      <link rel="icon" type="image/x-icon" href="https://assets-cdn.github.com/favicon.ico">

    <meta content="12e5c767f79e3a861652dacc630940b46fee1418" name="form-nonce" />

    <meta http-equiv="x-pjax-version" content="59e432f59600332c909af74a73865906">
    

        <link data-pjax-transient="true" href="/Tkkg1994/StockKernel/commit/cbf17b4b432bfe962ae330d9a86f8ded47d33b22.diff" rel="alternate" type="text/plain+diff" />
  <link data-pjax-transient="true" href="/Tkkg1994/StockKernel/commit/cbf17b4b432bfe962ae330d9a86f8ded47d33b22.patch" rel="alternate" type="text/plain+patch" />

  <meta name="diff-view" content="unified" data-pjax-transient>

  <meta name="description" content="Contribute to StockKernel development by creating an account on GitHub.">
  <meta name="go-import" content="github.com/Tkkg1994/StockKernel git https://github.com/Tkkg1994/StockKernel.git">

  <meta content="10393524" name="octolytics-dimension-user_id" /><meta content="Tkkg1994" name="octolytics-dimension-user_login" /><meta content="54326745" name="octolytics-dimension-repository_id" /><meta content="Tkkg1994/StockKernel" name="octolytics-dimension-repository_nwo" /><meta content="true" name="octolytics-dimension-repository_public" /><meta content="false" name="octolytics-dimension-repository_is_fork" /><meta content="54326745" name="octolytics-dimension-repository_network_root_id" /><meta content="Tkkg1994/StockKernel" name="octolytics-dimension-repository_network_root_nwo" />
  <link href="https://github.com/Tkkg1994/StockKernel/commits/cbf17b4b432bfe962ae330d9a86f8ded47d33b22.atom" rel="alternate" title="Recent Commits to StockKernel:cbf17b4b432bfe962ae330d9a86f8ded47d33b22" type="application/atom+xml">


  </head>


  <body class="logged-out   env-production  vis-public">
    <div id="js-pjax-loader-bar" class="pjax-loader-bar"></div>
    <a href="#start-of-content" tabindex="1" class="accessibility-aid js-skip-to-content">Skip to content</a>

    
    
    



          <header class="site-header js-details-container" role="banner">
  <div class="container-responsive">
    <a class="header-logo-invertocat" href="https://github.com/" aria-label="Homepage" data-ga-click="(Logged out) Header, go to homepage, icon:logo-wordmark">
      <svg aria-hidden="true" class="octicon octicon-mark-github" height="32" role="img" version="1.1" viewBox="0 0 16 16" width="32"><path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59 0.4 0.07 0.55-0.17 0.55-0.38 0-0.19-0.01-0.82-0.01-1.49-2.01 0.37-2.53-0.49-2.69-0.94-0.09-0.23-0.48-0.94-0.82-1.13-0.28-0.15-0.68-0.52-0.01-0.53 0.63-0.01 1.08 0.58 1.23 0.82 0.72 1.21 1.87 0.87 2.33 0.66 0.07-0.52 0.28-0.87 0.51-1.07-1.78-0.2-3.64-0.89-3.64-3.95 0-0.87 0.31-1.59 0.82-2.15-0.08-0.2-0.36-1.02 0.08-2.12 0 0 0.67-0.21 2.2 0.82 0.64-0.18 1.32-0.27 2-0.27 0.68 0 1.36 0.09 2 0.27 1.53-1.04 2.2-0.82 2.2-0.82 0.44 1.1 0.16 1.92 0.08 2.12 0.51 0.56 0.82 1.27 0.82 2.15 0 3.07-1.87 3.75-3.65 3.95 0.29 0.25 0.54 0.73 0.54 1.48 0 1.07-0.01 1.93-0.01 2.2 0 0.21 0.15 0.46 0.55 0.38C13.71 14.53 16 11.53 16 8 16 3.58 12.42 0 8 0z"></path></svg>
    </a>

    <button class="btn-link right site-header-toggle js-details-target" type="button" aria-label="Toggle navigation">
      <svg aria-hidden="true" class="octicon octicon-three-bars" height="24" role="img" version="1.1" viewBox="0 0 12 16" width="18"><path d="M11.41 9H0.59c-0.59 0-0.59-0.41-0.59-1s0-1 0.59-1h10.81c0.59 0 0.59 0.41 0.59 1s0 1-0.59 1z m0-4H0.59c-0.59 0-0.59-0.41-0.59-1s0-1 0.59-1h10.81c0.59 0 0.59 0.41 0.59 1s0 1-0.59 1zM0.59 11h10.81c0.59 0 0.59 0.41 0.59 1s0 1-0.59 1H0.59c-0.59 0-0.59-0.41-0.59-1s0-1 0.59-1z"></path></svg>
    </button>

    <div class="site-header-menu">
      <nav class="site-header-nav site-header-nav-main">
        <a href="/personal" class="js-selected-navigation-item nav-item nav-item-personal" data-ga-click="Header, click, Nav menu - item:personal" data-selected-links="/personal /personal">
          Personal
</a>        <a href="/open-source" class="js-selected-navigation-item nav-item nav-item-opensource" data-ga-click="Header, click, Nav menu - item:opensource" data-selected-links="/open-source /open-source">
          Open source
</a>        <a href="/business" class="js-selected-navigation-item nav-item nav-item-business" data-ga-click="Header, click, Nav menu - item:business" data-selected-links="/business /business/features /business/customers /business">
          Business
</a>        <a href="/explore" class="js-selected-navigation-item nav-item nav-item-explore" data-ga-click="Header, click, Nav menu - item:explore" data-selected-links="/explore /trending /trending/developers /integrations /integrations/feature/code /integrations/feature/collaborate /integrations/feature/ship /explore">
          Explore
</a>      </nav>

      <div class="site-header-actions">
            <a class="btn btn-primary site-header-actions-btn" href="/join?source=header-repo" data-ga-click="(Logged out) Header, clicked Sign up, text:sign-up">Sign up</a>
          <a class="btn site-header-actions-btn mr-2" href="/login?return_to=%2FTkkg1994%2FStockKernel%2Fcommit%2Fcbf17b4b432bfe962ae330d9a86f8ded47d33b22" data-ga-click="(Logged out) Header, clicked Sign in, text:sign-in">Sign in</a>
      </div>

        <nav class="site-header-nav site-header-nav-secondary">
          <a class="nav-item" href="/pricing">Pricing</a>
          <a class="nav-item" href="/blog">Blog</a>
          <a class="nav-item" href="https://help.github.com">Support</a>
          <a class="nav-item header-search-link" href="https://github.com/search">Search GitHub</a>
              <div class="header-search scoped-search site-scoped-search js-site-search" role="search">
  <!-- </textarea> --><!-- '"` --><form accept-charset="UTF-8" action="/Tkkg1994/StockKernel/search" class="js-site-search-form" data-scoped-search-url="/Tkkg1994/StockKernel/search" data-unscoped-search-url="/search" method="get"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;" /></div>
    <label class="form-control header-search-wrapper js-chromeless-input-container">
      <div class="header-search-scope">This repository</div>
      <input type="text"
        class="form-control header-search-input js-site-search-focus js-site-search-field is-clearable"
        data-hotkey="s"
        name="q"
        placeholder="Search"
        aria-label="Search this repository"
        data-unscoped-placeholder="Search GitHub"
        data-scoped-placeholder="Search"
        tabindex="1"
        autocapitalize="off">
    </label>
</form></div>

        </nav>
    </div>
  </div>
</header>



    <div id="start-of-content" class="accessibility-aid"></div>

      <div id="js-flash-container">
</div>


    <div role="main" class="main-content">
        <div itemscope itemtype="http://schema.org/SoftwareSourceCode">
    <div id="js-repo-pjax-container" data-pjax-container>
      
<div class="pagehead repohead instapaper_ignore readability-menu experiment-repo-nav">
  <div class="container repohead-details-container">

    

<ul class="pagehead-actions">

  <li>
      <a href="/login?return_to=%2FTkkg1994%2FStockKernel"
    class="btn btn-sm btn-with-count tooltipped tooltipped-n"
    aria-label="You must be signed in to watch a repository" rel="nofollow">
    <svg aria-hidden="true" class="octicon octicon-eye" height="16" role="img" version="1.1" viewBox="0 0 16 16" width="16"><path d="M8.06 2C3 2 0 8 0 8s3 6 8.06 6c4.94 0 7.94-6 7.94-6S13 2 8.06 2z m-0.06 10c-2.2 0-4-1.78-4-4 0-2.2 1.8-4 4-4 2.22 0 4 1.8 4 4 0 2.22-1.78 4-4 4z m2-4c0 1.11-0.89 2-2 2s-2-0.89-2-2 0.89-2 2-2 2 0.89 2 2z"></path></svg>
    Watch
  </a>
  <a class="social-count" href="/Tkkg1994/StockKernel/watchers">
    1
  </a>

  </li>

  <li>
      <a href="/login?return_to=%2FTkkg1994%2FStockKernel"
    class="btn btn-sm btn-with-count tooltipped tooltipped-n"
    aria-label="You must be signed in to star a repository" rel="nofollow">
    <svg aria-hidden="true" class="octicon octicon-star" height="16" role="img" version="1.1" viewBox="0 0 14 16" width="14"><path d="M14 6l-4.9-0.64L7 1 4.9 5.36 0 6l3.6 3.26L2.67 14l4.33-2.33 4.33 2.33L10.4 9.26 14 6z"></path></svg>
    Star
  </a>

    <a class="social-count js-social-count" href="/Tkkg1994/StockKernel/stargazers">
      0
    </a>

  </li>

  <li>
      <a href="/login?return_to=%2FTkkg1994%2FStockKernel"
        class="btn btn-sm btn-with-count tooltipped tooltipped-n"
        aria-label="You must be signed in to fork a repository" rel="nofollow">
        <svg aria-hidden="true" class="octicon octicon-repo-forked" height="16" role="img" version="1.1" viewBox="0 0 10 16" width="10"><path d="M8 1c-1.11 0-2 0.89-2 2 0 0.73 0.41 1.38 1 1.72v1.28L5 8 3 6v-1.28c0.59-0.34 1-0.98 1-1.72 0-1.11-0.89-2-2-2S0 1.89 0 3c0 0.73 0.41 1.38 1 1.72v1.78l3 3v1.78c-0.59 0.34-1 0.98-1 1.72 0 1.11 0.89 2 2 2s2-0.89 2-2c0-0.73-0.41-1.38-1-1.72V9.5l3-3V4.72c0.59-0.34 1-0.98 1-1.72 0-1.11-0.89-2-2-2zM2 4.2c-0.66 0-1.2-0.55-1.2-1.2s0.55-1.2 1.2-1.2 1.2 0.55 1.2 1.2-0.55 1.2-1.2 1.2z m3 10c-0.66 0-1.2-0.55-1.2-1.2s0.55-1.2 1.2-1.2 1.2 0.55 1.2 1.2-0.55 1.2-1.2 1.2z m3-10c-0.66 0-1.2-0.55-1.2-1.2s0.55-1.2 1.2-1.2 1.2 0.55 1.2 1.2-0.55 1.2-1.2 1.2z"></path></svg>
        Fork
      </a>

    <a href="/Tkkg1994/StockKernel/network" class="social-count">
      0
    </a>
  </li>
</ul>

    <h1 class="entry-title public ">
  <svg aria-hidden="true" class="octicon octicon-repo" height="16" role="img" version="1.1" viewBox="0 0 12 16" width="12"><path d="M4 9h-1v-1h1v1z m0-3h-1v1h1v-1z m0-2h-1v1h1v-1z m0-2h-1v1h1v-1z m8-1v12c0 0.55-0.45 1-1 1H6v2l-1.5-1.5-1.5 1.5V14H1c-0.55 0-1-0.45-1-1V1C0 0.45 0.45 0 1 0h10c0.55 0 1 0.45 1 1z m-1 10H1v2h2v-1h3v1h5V11z m0-10H2v9h9V1z"></path></svg>
  <span class="author" itemprop="author"><a href="/Tkkg1994" class="url fn" rel="author">Tkkg1994</a></span><!--
--><span class="path-divider">/</span><!--
--><strong itemprop="name"><a href="/Tkkg1994/StockKernel" data-pjax="#js-repo-pjax-container">StockKernel</a></strong>

</h1>

  </div>
  <div class="container">
    
<nav class="reponav js-repo-nav js-sidenav-container-pjax"
     itemscope
     itemtype="http://schema.org/BreadcrumbList"
     role="navigation"
     data-pjax="#js-repo-pjax-container">

  <span itemscope itemtype="http://schema.org/ListItem" itemprop="itemListElement">
    <a href="/Tkkg1994/StockKernel" aria-selected="true" class="js-selected-navigation-item selected reponav-item" data-hotkey="g c" data-selected-links="repo_source repo_downloads repo_commits repo_releases repo_tags repo_branches /Tkkg1994/StockKernel" itemprop="url">
      <svg aria-hidden="true" class="octicon octicon-code" height="16" role="img" version="1.1" viewBox="0 0 14 16" width="14"><path d="M9.5 3l-1.5 1.5 3.5 3.5L8 11.5l1.5 1.5 4.5-5L9.5 3zM4.5 3L0 8l4.5 5 1.5-1.5L2.5 8l3.5-3.5L4.5 3z"></path></svg>
      <span itemprop="name">Code</span>
      <meta itemprop="position" content="1">
</a>  </span>

    <span itemscope itemtype="http://schema.org/ListItem" itemprop="itemListElement">
      <a href="/Tkkg1994/StockKernel/issues" class="js-selected-navigation-item reponav-item" data-hotkey="g i" data-selected-links="repo_issues repo_labels repo_milestones /Tkkg1994/StockKernel/issues" itemprop="url">
        <svg aria-hidden="true" class="octicon octicon-issue-opened" height="16" role="img" version="1.1" viewBox="0 0 14 16" width="14"><path d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7S10.14 13.7 7 13.7 1.3 11.14 1.3 8s2.56-5.7 5.7-5.7m0-1.3C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7S10.86 1 7 1z m1 3H6v5h2V4z m0 6H6v2h2V10z"></path></svg>
        <span itemprop="name">Issues</span>
        <span class="counter">0</span>
        <meta itemprop="position" content="2">
</a>    </span>

  <span itemscope itemtype="http://schema.org/ListItem" itemprop="itemListElement">
    <a href="/Tkkg1994/StockKernel/pulls" class="js-selected-navigation-item reponav-item" data-hotkey="g p" data-selected-links="repo_pulls /Tkkg1994/StockKernel/pulls" itemprop="url">
      <svg aria-hidden="true" class="octicon octicon-git-pull-request" height="16" role="img" version="1.1" viewBox="0 0 12 16" width="12"><path d="M11 11.28c0-1.73 0-6.28 0-6.28-0.03-0.78-0.34-1.47-0.94-2.06s-1.28-0.91-2.06-0.94c0 0-1.02 0-1 0V0L4 3l3 3V4h1c0.27 0.02 0.48 0.11 0.69 0.31s0.3 0.42 0.31 0.69v6.28c-0.59 0.34-1 0.98-1 1.72 0 1.11 0.89 2 2 2s2-0.89 2-2c0-0.73-0.41-1.38-1-1.72z m-1 2.92c-0.66 0-1.2-0.55-1.2-1.2s0.55-1.2 1.2-1.2 1.2 0.55 1.2 1.2-0.55 1.2-1.2 1.2zM4 3c0-1.11-0.89-2-2-2S0 1.89 0 3c0 0.73 0.41 1.38 1 1.72 0 1.55 0 5.56 0 6.56-0.59 0.34-1 0.98-1 1.72 0 1.11 0.89 2 2 2s2-0.89 2-2c0-0.73-0.41-1.38-1-1.72V4.72c0.59-0.34 1-0.98 1-1.72z m-0.8 10c0 0.66-0.55 1.2-1.2 1.2s-1.2-0.55-1.2-1.2 0.55-1.2 1.2-1.2 1.2 0.55 1.2 1.2z m-1.2-8.8c-0.66 0-1.2-0.55-1.2-1.2s0.55-1.2 1.2-1.2 1.2 0.55 1.2 1.2-0.55 1.2-1.2 1.2z"></path></svg>
      <span itemprop="name">Pull requests</span>
      <span class="counter">0</span>
      <meta itemprop="position" content="3">
</a>  </span>


  <a href="/Tkkg1994/StockKernel/pulse" class="js-selected-navigation-item reponav-item" data-selected-links="pulse /Tkkg1994/StockKernel/pulse">
    <svg aria-hidden="true" class="octicon octicon-pulse" height="16" role="img" version="1.1" viewBox="0 0 14 16" width="14"><path d="M11.5 8L8.8 5.4 6.6 8.5 5.5 1.6 2.38 8H0V10h3.6L4.5 8.2l0.9 5.4L9 8.5l1.6 1.5H14V8H11.5z"></path></svg>
    Pulse
</a>
  <a href="/Tkkg1994/StockKernel/graphs" class="js-selected-navigation-item reponav-item" data-selected-links="repo_graphs repo_contributors /Tkkg1994/StockKernel/graphs">
    <svg aria-hidden="true" class="octicon octicon-graph" height="16" role="img" version="1.1" viewBox="0 0 16 16" width="16"><path d="M16 14v1H0V0h1v14h15z m-11-1H3V8h2v5z m4 0H7V3h2v10z m4 0H11V6h2v7z"></path></svg>
    Graphs
</a>

</nav>

  </div>
</div>

<div class="container new-discussion-timeline experiment-repo-nav">
  <div class="repository-content">

    
<a href="/Tkkg1994/StockKernel/commit/cbf17b4b432bfe962ae330d9a86f8ded47d33b22" class="hidden js-permalink-shortcut" data-hotkey="y">Permalink</a>


<include-fragment class="is-hidden" src="/Tkkg1994/StockKernel/dsrc/cbf17b4b432bfe962ae330d9a86f8ded47d33b22"></include-fragment>



<div class="commit full-commit ">
  <a href="/Tkkg1994/StockKernel/tree/cbf17b4b432bfe962ae330d9a86f8ded47d33b22" class="btn btn-outline right" title="Browse the repository at this point in the history" rel="nofollow">Browse files</a>

    <p class="commit-title">
      this adds back all cpugovs from Nova-Kernel, with features that are n…
    </p>

    <div class="commit-desc"><pre>…eeeded, please check Nova-Kernel github for history!</pre></div>

  <div class="commit-branches">
    
    <svg aria-hidden="true" class="octicon octicon-git-branch" height="16" role="img" version="1.1" viewBox="0 0 10 16" width="10"><path d="M10 5c0-1.11-0.89-2-2-2s-2 0.89-2 2c0 0.73 0.41 1.38 1 1.72v0.3c-0.02 0.52-0.23 0.98-0.63 1.38s-0.86 0.61-1.38 0.63c-0.83 0.02-1.48 0.16-2 0.45V4.72c0.59-0.34 1-0.98 1-1.72 0-1.11-0.89-2-2-2S0 1.89 0 3c0 0.73 0.41 1.38 1 1.72v6.56C0.41 11.63 0 12.27 0 13c0 1.11 0.89 2 2 2s2-0.89 2-2c0-0.53-0.2-1-0.53-1.36 0.09-0.06 0.48-0.41 0.59-0.47 0.25-0.11 0.56-0.17 0.94-0.17 1.05-0.05 1.95-0.45 2.75-1.25s1.2-1.98 1.25-3.02h-0.02c0.61-0.36 1.02-1 1.02-1.73zM2 1.8c0.66 0 1.2 0.55 1.2 1.2s-0.55 1.2-1.2 1.2-1.2-0.55-1.2-1.2 0.55-1.2 1.2-1.2z m0 12.41c-0.66 0-1.2-0.55-1.2-1.2s0.55-1.2 1.2-1.2 1.2 0.55 1.2 1.2-0.55 1.2-1.2 1.2z m6-8c-0.66 0-1.2-0.55-1.2-1.2s0.55-1.2 1.2-1.2 1.2 0.55 1.2 1.2-0.55 1.2-1.2 1.2z"></path></svg>
    <ul class="branches-list">
        <li class="branch"><a href="/Tkkg1994/StockKernel">master</a></li>
    </ul>
    <svg aria-hidden="true" class="octicon octicon-tag" height="16" role="img" version="1.1" viewBox="0 0 14 16" width="14"><path d="M6.73 2.73c-0.47-0.47-1.11-0.73-1.77-0.73H2.5C1.13 2 0 3.13 0 4.5v2.47c0 0.66 0.27 1.3 0.73 1.77l6.06 6.06c0.39 0.39 1.02 0.39 1.41 0l4.59-4.59c0.39-0.39 0.39-1.02 0-1.41L6.73 2.73zM1.38 8.09c-0.31-0.3-0.47-0.7-0.47-1.13V4.5c0-0.88 0.72-1.59 1.59-1.59h2.47c0.42 0 0.83 0.16 1.13 0.47l6.14 6.13-4.73 4.73L1.38 8.09z m0.63-4.09h2v2H2V4z"></path></svg>
    <ul class="branches-tag-list js-details-container">
      <li><a href="/Tkkg1994/StockKernel/releases/tag/V1.2">V1.2</a></li>
    </ul>
  </div>

  <div class="commit-meta clearfix">
    <span class="right">
      <span class="sha-block" data-pjax>
        1 parent
          
          <a href="/Tkkg1994/StockKernel/commit/da69117e5a0b6c319bf4d2157dea6f0d21c33e74" class="sha" data-hotkey="p">da69117</a>
      </span>
      <span class="sha-block">commit <span class="sha user-select-contain">cbf17b4b432bfe962ae330d9a86f8ded47d33b22</span></span>
    </span>

    <span class="commit-author-section">
      <img alt="@Tkkg1994" class="avatar" height="24" src="https://avatars3.githubusercontent.com/u/10393524?v=3&amp;s=48" width="24" />
      <a href="/Tkkg1994" class="user-mention" rel="author">Tkkg1994</a>
      
      committed
      <time datetime="2016-03-25T13:13:45Z" is="relative-time">Mar 25, 2016</time>
      

    </span>
  </div>
</div>




    <a name="diff-stat"></a>
    <div id="toc" class="details-collapse table-of-contents js-details-container">
  <div class="btn-group right" data-ga-load="Diff, view, Viewed Unified Diff">
  <a class="btn btn-sm selected" href="https://github.com/Tkkg1994/StockKernel/commit/cbf17b4b432bfe962ae330d9a86f8ded47d33b22?diff=unified">
    Unified
  </a>
  <a class="btn btn-sm" href="https://github.com/Tkkg1994/StockKernel/commit/cbf17b4b432bfe962ae330d9a86f8ded47d33b22?diff=split">
    Split
  </a>
</div>


  <div class="toc-diff-stats">
    <svg aria-hidden="true" class="octicon octicon-diff" height="16" role="img" version="1.1" viewBox="0 0 14 16" width="14"><path d="M6 7h2v1H6v2h-1V8H3v-1h2V5h1v2zM3 13h5v-1H3v1z m4.5-11l3.5 3.5v9.5c0 0.55-0.45 1-1 1H1c-0.55 0-1-0.45-1-1V3c0-0.55 0.45-1 1-1h6.5z m2.5 4L7 3H1v12h9V6zM8.5 0S3 0 3 0v1h5l4 4v8h1V4.5L8.5 0z"></path></svg>
    Showing
    <button type="button" class="btn-link js-details-target">
      53 changed files
    </button>
    with
    <strong>17,217 additions</strong>
    and <strong>126 deletions</strong>.
  </div>

  <ol class="content collapse js-transitionable">
    <li>
      <span class="diffstat right">
          <span class="text-diff-added">
            +59
          </span>
          <span class="text-diff-deleted">
            −0
          </span>
          <a href="#diff-52e0de109fc317eb649a156593b96b3d" class="tooltipped tooltipped-s" aria-label="59 lines changed">
            <span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span>
          </a>
      </span>
      <svg aria-hidden="true" class="octicon octicon-diff-modified" height="16" role="img" title="modified" version="1.1" viewBox="0 0 14 16" width="14"><path d="M13 1H1C0.45 1 0 1.45 0 2v12c0 0.55 0.45 1 1 1h12c0.55 0 1-0.45 1-1V2c0-0.55-0.45-1-1-1z m0 13H1V2h12v12zM4 8c0-1.66 1.34-3 3-3s3 1.34 3 3-1.34 3-3 3-3-1.34-3-3z"></path></svg>
      <a href="#diff-52e0de109fc317eb649a156593b96b3d">arch/arm/configs/0StockKernel_SM-G901F_defconfig</a>
    </li>
    <li>
      <span class="diffstat right">
          <span class="text-diff-added">
            +32
          </span>
          <span class="text-diff-deleted">
            −108
          </span>
          <a href="#diff-461787deb1478c0558b2372cbda28798" class="tooltipped tooltipped-s" aria-label="140 lines changed">
            <span class="block-diff-added"></span><span class="block-diff-deleted"></span><span class="block-diff-deleted"></span><span class="block-diff-deleted"></span><span class="block-diff-neutral"></span>
          </a>
      </span>
      <svg aria-hidden="true" class="octicon octicon-diff-modified" height="16" role="img" title="modified" version="1.1" viewBox="0 0 14 16" width="14"><path d="M13 1H1C0.45 1 0 1.45 0 2v12c0 0.55 0.45 1 1 1h12c0.55 0 1-0.45 1-1V2c0-0.55-0.45-1-1-1z m0 13H1V2h12v12zM4 8c0-1.66 1.34-3 3-3s3 1.34 3 3-1.34 3-3 3-3-1.34-3-3z"></path></svg>
      <a href="#diff-461787deb1478c0558b2372cbda28798">arch/arm/mach-msm/alucard_hotplug.c</a>
    </li>
    <li>
      <span class="diffstat right">
          <span class="text-diff-added">
            +600
          </span>
          <span class="text-diff-deleted">
            −0
          </span>
          <a href="#diff-61f226c1c1f3a78524783445250fe875" class="tooltipped tooltipped-s" aria-label="600 lines changed">
            <span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span>
          </a>
      </span>
      <svg aria-hidden="true" class="octicon octicon-diff-modified" height="16" role="img" title="modified" version="1.1" viewBox="0 0 14 16" width="14"><path d="M13 1H1C0.45 1 0 1.45 0 2v12c0 0.55 0.45 1 1 1h12c0.55 0 1-0.45 1-1V2c0-0.55-0.45-1-1-1z m0 13H1V2h12v12zM4 8c0-1.66 1.34-3 3-3s3 1.34 3 3-1.34 3-3 3-3-1.34-3-3z"></path></svg>
      <a href="#diff-61f226c1c1f3a78524783445250fe875">drivers/cpufreq/Kconfig</a>
    </li>
    <li>
      <span class="diffstat right">
          <span class="text-diff-added">
            +44
          </span>
          <span class="text-diff-deleted">
            −12
          </span>
          <a href="#diff-ba85cd02ff38397bfd6c84c770d5a699" class="tooltipped tooltipped-s" aria-label="56 lines changed">
            <span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-deleted"></span><span class="block-diff-neutral"></span>
          </a>
      </span>
      <svg aria-hidden="true" class="octicon octicon-diff-modified" height="16" role="img" title="modified" version="1.1" viewBox="0 0 14 16" width="14"><path d="M13 1H1C0.45 1 0 1.45 0 2v12c0 0.55 0.45 1 1 1h12c0.55 0 1-0.45 1-1V2c0-0.55-0.45-1-1-1z m0 13H1V2h12v12zM4 8c0-1.66 1.34-3 3-3s3 1.34 3 3-1.34 3-3 3-3-1.34-3-3z"></path></svg>
      <a href="#diff-ba85cd02ff38397bfd6c84c770d5a699">drivers/cpufreq/Makefile</a>
    </li>
    <li>
      <span class="diffstat right">
          <span class="text-diff-added">
            +39
          </span>
          <span class="text-diff-deleted">
            −2
          </span>
          <a href="#diff-9cb8d0039fb739eef0bd6253de2acdd9" class="tooltipped tooltipped-s" aria-label="41 lines changed">
            <span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-neutral"></span>
          </a>
      </span>
      <svg aria-hidden="true" class="octicon octicon-diff-modified" height="16" role="img" title="modified" version="1.1" viewBox="0 0 14 16" width="14"><path d="M13 1H1C0.45 1 0 1.45 0 2v12c0 0.55 0.45 1 1 1h12c0.55 0 1-0.45 1-1V2c0-0.55-0.45-1-1-1z m0 13H1V2h12v12zM4 8c0-1.66 1.34-3 3-3s3 1.34 3 3-1.34 3-3 3-3-1.34-3-3z"></path></svg>
      <a href="#diff-9cb8d0039fb739eef0bd6253de2acdd9">drivers/cpufreq/cpufreq.c</a>
    </li>
    <li>
      <span class="diffstat right">
          <span class="text-diff-added">
            +854
          </span>
          <span class="text-diff-deleted">
            −0
          </span>
          <a href="#diff-db2e867f7989b12dc8b5cdd505e6a532" class="tooltipped tooltipped-s" aria-label="854 lines changed">
            <span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span>
          </a>
      </span>
      <svg aria-hidden="true" class="octicon octicon-diff-added" height="16" role="img" title="added" version="1.1" viewBox="0 0 14 16" width="14"><path d="M13 1H1C0.45 1 0 1.45 0 2v12c0 0.55 0.45 1 1 1h12c0.55 0 1-0.45 1-1V2c0-0.55-0.45-1-1-1z m0 13H1V2h12v12zM6 9H3V7h3V4h2v3h3v2H8v3H6V9z"></path></svg>
      <a href="#diff-db2e867f7989b12dc8b5cdd505e6a532">drivers/cpufreq/cpufreq_HYPER.c</a>
    </li>
    <li>
      <span class="diffstat right">
          <span class="text-diff-added">
            +831
          </span>
          <span class="text-diff-deleted">
            −0
          </span>
          <a href="#diff-ab593206b4093930784c20cf8501d7f9" class="tooltipped tooltipped-s" aria-label="831 lines changed">
            <span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span>
          </a>
      </span>
      <svg aria-hidden="true" class="octicon octicon-diff-added" height="16" role="img" title="added" version="1.1" viewBox="0 0 14 16" width="14"><path d="M13 1H1C0.45 1 0 1.45 0 2v12c0 0.55 0.45 1 1 1h12c0.55 0 1-0.45 1-1V2c0-0.55-0.45-1-1-1z m0 13H1V2h12v12zM6 9H3V7h3V4h2v3h3v2H8v3H6V9z"></path></svg>
      <a href="#diff-ab593206b4093930784c20cf8501d7f9">drivers/cpufreq/cpufreq_alucard.c</a>
    </li>
    <li>
      <span class="diffstat right">
          <span class="text-diff-added">
            +1,539
          </span>
          <span class="text-diff-deleted">
            −0
          </span>
          <a href="#diff-4a796377fc9ee429c3e7a709420a9413" class="tooltipped tooltipped-s" aria-label="1,539 lines changed">
            <span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span>
          </a>
      </span>
      <svg aria-hidden="true" class="octicon octicon-diff-added" height="16" role="img" title="added" version="1.1" viewBox="0 0 14 16" width="14"><path d="M13 1H1C0.45 1 0 1.45 0 2v12c0 0.55 0.45 1 1 1h12c0.55 0 1-0.45 1-1V2c0-0.55-0.45-1-1-1z m0 13H1V2h12v12zM6 9H3V7h3V4h2v3h3v2H8v3H6V9z"></path></svg>
      <a href="#diff-4a796377fc9ee429c3e7a709420a9413">drivers/cpufreq/cpufreq_barry_allen.c</a>
    </li>
    <li>
      <span class="diffstat right">
          <span class="text-diff-added">
            +590
          </span>
          <span class="text-diff-deleted">
            −0
          </span>
          <a href="#diff-c936faba4c025c6dce871283b7005aca" class="tooltipped tooltipped-s" aria-label="590 lines changed">
            <span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span>
          </a>
      </span>
      <svg aria-hidden="true" class="octicon octicon-diff-added" height="16" role="img" title="added" version="1.1" viewBox="0 0 14 16" width="14"><path d="M13 1H1C0.45 1 0 1.45 0 2v12c0 0.55 0.45 1 1 1h12c0.55 0 1-0.45 1-1V2c0-0.55-0.45-1-1-1z m0 13H1V2h12v12zM6 9H3V7h3V4h2v3h3v2H8v3H6V9z"></path></svg>
      <a href="#diff-c936faba4c025c6dce871283b7005aca">drivers/cpufreq/cpufreq_bioshock.c</a>
    </li>
    <li>
      <span class="diffstat right">
          <span class="text-diff-added">
            +1,206
          </span>
          <span class="text-diff-deleted">
            −0
          </span>
          <a href="#diff-19aea1202cef31a9a95958068e51933b" class="tooltipped tooltipped-s" aria-label="1,206 lines changed">
            <span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span>
          </a>
      </span>
      <svg aria-hidden="true" class="octicon octicon-diff-added" height="16" role="img" title="added" version="1.1" viewBox="0 0 14 16" width="14"><path d="M13 1H1C0.45 1 0 1.45 0 2v12c0 0.55 0.45 1 1 1h12c0.55 0 1-0.45 1-1V2c0-0.55-0.45-1-1-1z m0 13H1V2h12v12zM6 9H3V7h3V4h2v3h3v2H8v3H6V9z"></path></svg>
      <a href="#diff-19aea1202cef31a9a95958068e51933b">drivers/cpufreq/cpufreq_blu_active.c</a>
    </li>
    <li>
      <span class="diffstat right">
          <span class="text-diff-added">
            +1,851
          </span>
          <span class="text-diff-deleted">
            −0
          </span>
          <a href="#diff-b75a1c11c6af572764e03b4e0ab72bd7" class="tooltipped tooltipped-s" aria-label="1,851 lines changed">
            <span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span>
          </a>
      </span>
      <svg aria-hidden="true" class="octicon octicon-diff-added" height="16" role="img" title="added" version="1.1" viewBox="0 0 14 16" width="14"><path d="M13 1H1C0.45 1 0 1.45 0 2v12c0 0.55 0.45 1 1 1h12c0.55 0 1-0.45 1-1V2c0-0.55-0.45-1-1-1z m0 13H1V2h12v12zM6 9H3V7h3V4h2v3h3v2H8v3H6V9z"></path></svg>
      <a href="#diff-b75a1c11c6af572764e03b4e0ab72bd7">drivers/cpufreq/cpufreq_cafactive.c</a>
    </li>
    <li>
      <span class="diffstat right">
          <span class="text-diff-added">
            +503
          </span>
          <span class="text-diff-deleted">
            −0
          </span>
          <a href="#diff-27878bce581dda989cf8cf824d247a9c" class="tooltipped tooltipped-s" aria-label="503 lines changed">
            <span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span>
          </a>
      </span>
      <svg aria-hidden="true" class="octicon octicon-diff-added" height="16" role="img" title="added" version="1.1" viewBox="0 0 14 16" width="14"><path d="M13 1H1C0.45 1 0 1.45 0 2v12c0 0.55 0.45 1 1 1h12c0.55 0 1-0.45 1-1V2c0-0.55-0.45-1-1-1z m0 13H1V2h12v12zM6 9H3V7h3V4h2v3h3v2H8v3H6V9z"></path></svg>
      <a href="#diff-27878bce581dda989cf8cf824d247a9c">drivers/cpufreq/cpufreq_conservative_x.c</a>
    </li>
    <li>
      <span class="diffstat right">
          <span class="text-diff-added">
            +417
          </span>
          <span class="text-diff-deleted">
            −0
          </span>
          <a href="#diff-aa09ee7187c7aa142ca66d78f75a3a71" class="tooltipped tooltipped-s" aria-label="417 lines changed">
            <span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span>
          </a>
      </span>
      <svg aria-hidden="true" class="octicon octicon-diff-added" height="16" role="img" title="added" version="1.1" viewBox="0 0 14 16" width="14"><path d="M13 1H1C0.45 1 0 1.45 0 2v12c0 0.55 0.45 1 1 1h12c0.55 0 1-0.45 1-1V2c0-0.55-0.45-1-1-1z m0 13H1V2h12v12zM6 9H3V7h3V4h2v3h3v2H8v3H6V9z"></path></svg>
      <a href="#diff-aa09ee7187c7aa142ca66d78f75a3a71">drivers/cpufreq/cpufreq_darkness.c</a>
    </li>
    <li>
      <span class="diffstat right">
          <span class="text-diff-added">
            +550
          </span>
          <span class="text-diff-deleted">
            −0
          </span>
          <a href="#diff-b9c4f1a4b00c8e4f233781b4fcae5589" class="tooltipped tooltipped-s" aria-label="550 lines changed">
            <span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span>
          </a>
      </span>
      <svg aria-hidden="true" class="octicon octicon-diff-added" height="16" role="img" title="added" version="1.1" viewBox="0 0 14 16" width="14"><path d="M13 1H1C0.45 1 0 1.45 0 2v12c0 0.55 0.45 1 1 1h12c0.55 0 1-0.45 1-1V2c0-0.55-0.45-1-1-1z m0 13H1V2h12v12zM6 9H3V7h3V4h2v3h3v2H8v3H6V9z"></path></svg>
      <a href="#diff-b9c4f1a4b00c8e4f233781b4fcae5589">drivers/cpufreq/cpufreq_despair.c</a>
    </li>
    <li>
      <span class="diffstat right">
          <span class="text-diff-added">
            +1,612
          </span>
          <span class="text-diff-deleted">
            −0
          </span>
          <a href="#diff-3565c9c49695eba77892b00b9d87447a" class="tooltipped tooltipped-s" aria-label="1,612 lines changed">
            <span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span>
          </a>
      </span>
      <svg aria-hidden="true" class="octicon octicon-diff-added" height="16" role="img" title="added" version="1.1" viewBox="0 0 14 16" width="14"><path d="M13 1H1C0.45 1 0 1.45 0 2v12c0 0.55 0.45 1 1 1h12c0.55 0 1-0.45 1-1V2c0-0.55-0.45-1-1-1z m0 13H1V2h12v12zM6 9H3V7h3V4h2v3h3v2H8v3H6V9z"></path></svg>
      <a href="#diff-3565c9c49695eba77892b00b9d87447a">drivers/cpufreq/cpufreq_electroactive.c</a>
    </li>
    <li>
      <span class="diffstat right">
          <span class="text-diff-added">
            +1,130
          </span>
          <span class="text-diff-deleted">
            −0
          </span>
          <a href="#diff-8fb727323edd4c0a32ca4372b944b553" class="tooltipped tooltipped-s" aria-label="1,130 lines changed">
            <span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span>
          </a>
      </span>
      <svg aria-hidden="true" class="octicon octicon-diff-added" height="16" role="img" title="added" version="1.1" viewBox="0 0 14 16" width="14"><path d="M13 1H1C0.45 1 0 1.45 0 2v12c0 0.55 0.45 1 1 1h12c0.55 0 1-0.45 1-1V2c0-0.55-0.45-1-1-1z m0 13H1V2h12v12zM6 9H3V7h3V4h2v3h3v2H8v3H6V9z"></path></svg>
      <a href="#diff-8fb727323edd4c0a32ca4372b944b553">drivers/cpufreq/cpufreq_electrodemand.c</a>
    </li>
    <li>
      <span class="diffstat right">
          <span class="text-diff-added">
            +589
          </span>
          <span class="text-diff-deleted">
            −0
          </span>
          <a href="#diff-1b12b91108319bb626968ca2df82ef03" class="tooltipped tooltipped-s" aria-label="589 lines changed">
            <span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span>
          </a>
      </span>
      <svg aria-hidden="true" class="octicon octicon-diff-added" height="16" role="img" title="added" version="1.1" viewBox="0 0 14 16" width="14"><path d="M13 1H1C0.45 1 0 1.45 0 2v12c0 0.55 0.45 1 1 1h12c0.55 0 1-0.45 1-1V2c0-0.55-0.45-1-1-1z m0 13H1V2h12v12zM6 9H3V7h3V4h2v3h3v2H8v3H6V9z"></path></svg>
      <a href="#diff-1b12b91108319bb626968ca2df82ef03">drivers/cpufreq/cpufreq_elementalx.c</a>
    </li>
    <li>
      <span class="diffstat right">
          <span class="text-diff-added">
            +95
          </span>
          <span class="text-diff-deleted">
            −4
          </span>
          <a href="#diff-ba009d3eca1d52565a8c581777f58361" class="tooltipped tooltipped-s" aria-label="99 lines changed">
            <span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-neutral"></span>
          </a>
      </span>
      <svg aria-hidden="true" class="octicon octicon-diff-modified" height="16" role="img" title="modified" version="1.1" viewBox="0 0 14 16" width="14"><path d="M13 1H1C0.45 1 0 1.45 0 2v12c0 0.55 0.45 1 1 1h12c0.55 0 1-0.45 1-1V2c0-0.55-0.45-1-1-1z m0 13H1V2h12v12zM4 8c0-1.66 1.34-3 3-3s3 1.34 3 3-1.34 3-3 3-3-1.34-3-3z"></path></svg>
      <a href="#diff-ba009d3eca1d52565a8c581777f58361">drivers/cpufreq/cpufreq_governor.c</a>
    </li>
    <li>
      <span class="diffstat right">
          <span class="text-diff-added">
            +36
          </span>
          <span class="text-diff-deleted">
            −0
          </span>
          <a href="#diff-41feaf7b700fe8d8e2f5784b70019af4" class="tooltipped tooltipped-s" aria-label="36 lines changed">
            <span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span>
          </a>
      </span>
      <svg aria-hidden="true" class="octicon octicon-diff-modified" height="16" role="img" title="modified" version="1.1" viewBox="0 0 14 16" width="14"><path d="M13 1H1C0.45 1 0 1.45 0 2v12c0 0.55 0.45 1 1 1h12c0.55 0 1-0.45 1-1V2c0-0.55-0.45-1-1-1z m0 13H1V2h12v12zM4 8c0-1.66 1.34-3 3-3s3 1.34 3 3-1.34 3-3 3-3-1.34-3-3z"></path></svg>
      <a href="#diff-41feaf7b700fe8d8e2f5784b70019af4">drivers/cpufreq/cpufreq_governor.h</a>
    </li>
    <li>
      <span class="diffstat right">
          <span class="text-diff-added">
            +1,548
          </span>
          <span class="text-diff-deleted">
            −0
          </span>
          <a href="#diff-ba228da1eb20d9d10794f02a92ec64cb" class="tooltipped tooltipped-s" aria-label="1,548 lines changed">
            <span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span>
          </a>
      </span>
      <svg aria-hidden="true" class="octicon octicon-diff-added" height="16" role="img" title="added" version="1.1" viewBox="0 0 14 16" width="14"><path d="M13 1H1C0.45 1 0 1.45 0 2v12c0 0.55 0.45 1 1 1h12c0.55 0 1-0.45 1-1V2c0-0.55-0.45-1-1-1z m0 13H1V2h12v12zM6 9H3V7h3V4h2v3h3v2H8v3H6V9z"></path></svg>
      <a href="#diff-ba228da1eb20d9d10794f02a92ec64cb">drivers/cpufreq/cpufreq_hellsactive.c</a>
    </li>
    <li>
      <span class="diffstat right">
          <span class="text-diff-added">
            +1,653
          </span>
          <span class="text-diff-deleted">
            −0
          </span>
          <a href="#diff-a3868800aadebc75e1239d00dbbbce5b" class="tooltipped tooltipped-s" aria-label="1,653 lines changed">
            <span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span>
          </a>
      </span>
      <svg aria-hidden="true" class="octicon octicon-diff-added" height="16" role="img" title="added" version="1.1" viewBox="0 0 14 16" width="14"><path d="M13 1H1C0.45 1 0 1.45 0 2v12c0 0.55 0.45 1 1 1h12c0.55 0 1-0.45 1-1V2c0-0.55-0.45-1-1-1z m0 13H1V2h12v12zM6 9H3V7h3V4h2v3h3v2H8v3H6V9z"></path></svg>
      <a href="#diff-a3868800aadebc75e1239d00dbbbce5b">drivers/cpufreq/cpufreq_impulse.c</a>
    </li>
    <li>
      <span class="diffstat right">
          <span class="text-diff-added">
            +1,439
          </span>
          <span class="text-diff-deleted">
            −0
          </span>
          <a href="#diff-2bbd4012b78fe96173447fbc39e1d1a1" class="tooltipped tooltipped-s" aria-label="1,439 lines changed">
            <span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span>
          </a>
      </span>
      <svg aria-hidden="true" class="octicon octicon-diff-added" height="16" role="img" title="added" version="1.1" viewBox="0 0 14 16" width="14"><path d="M13 1H1C0.45 1 0 1.45 0 2v12c0 0.55 0.45 1 1 1h12c0.55 0 1-0.45 1-1V2c0-0.55-0.45-1-1-1z m0 13H1V2h12v12zM6 9H3V7h3V4h2v3h3v2H8v3H6V9z"></path></svg>
      <a href="#diff-2bbd4012b78fe96173447fbc39e1d1a1">drivers/cpufreq/cpufreq_intelliactive.c</a>
    </li>
  </ol>
</div>

  <div id="files" class="diff-view ">
      <div class="flash-messages">
        <div class="flash flash-warn">
          Sorry, we could not display the entire diff because it was too big.
        </div>
      </div>
    
      <a name="diff-52e0de109fc317eb649a156593b96b3d"></a>
      <div id="diff-0"
           class="file js-details-container
                   
                   
                   
                   
                   show-inline-notes
                 ">
        <div class="file-header" data-path="arch/arm/configs/0StockKernel_SM-G901F_defconfig">
          <div class="file-actions">
              <span class="show-file-notes">
                <label>
                  <input type="checkbox" checked="checked" class="js-toggle-file-notes">
                  Show notes
                </label>
              </span>

                <a href="/Tkkg1994/StockKernel/blob/cbf17b4b432bfe962ae330d9a86f8ded47d33b22/arch/arm/configs/0StockKernel_SM-G901F_defconfig" class="btn btn-sm tooltipped tooltipped-nw" rel="nofollow" aria-label="View the whole file at version cbf17b4 ">View</a>


          </div>
          <div class="file-info">
              <span class="diffstat tooltipped tooltipped-e" aria-label="59 additions &amp; 0 deletions">59 <span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span></span>

            <span class="user-select-contain" title="arch/arm/configs/0StockKernel_SM-G901F_defconfig">
              arch/arm/configs/0StockKernel_SM-G901F_defconfig
            </span>
            
          </div>
        </div>

            <div class="data highlight blob-wrapper">
              <table class="diff-table tab-size  " data-tab-size="8">
                
      <tr class="js-expandable-line" data-position="0">
    <td class="blob-num blob-num-expandable" colspan="2">
      <a href="#diff-52e0de109fc317eb649a156593b96b3d"
            class="diff-expander js-expand" title="Expand" aria-label="Expand"
            data-url="/Tkkg1994/StockKernel/blob_excerpt/fbbd127407e4ceee63bf396ea4d8ae9353f89624?diff=unified&amp;left_hunk_size=6&amp;mode=100644&amp;next_line_num_left=693&amp;next_line_num_right=693&amp;path=arch%2Farm%2Fconfigs%2F0StockKernel_SM-G901F_defconfig&amp;prev_line_num_left=&amp;prev_line_num_right=&amp;right_hunk_size=35"
            data-left-range="1-692" data-right-range="1-692">
        <svg aria-hidden="true" class="octicon octicon-unfold" height="16" role="img" version="1.1" viewBox="0 0 14 16" width="14"><path d="M11.5 8.5l2.5 2.5c0 0.55-0.45 1-1 1H9v-1h3.5L10.5 9H3.5L1.5 11h3.5v1H1c-0.55 0-1-0.45-1-1l2.5-2.5L0 6c0-0.55 0.45-1 1-1h4v1H1.5l2 2h7l2-2H9v-1h4c0.55 0 1 0.45 1 1L11.5 8.5z m-5.5-1.5h2V4h2L7 1 4 4h2v3z m2 3H6v3H4l3 3 3-3H8V10z"></path></svg>
      </a>
    </td>
    <td class="blob-code blob-code-inner blob-code-hunk">@@ -693,6 +693,35 @@ CONFIG_CPU_FREQ_DEFAULT_GOV_PERFORMANCE=y</td>
  </tr>

    <tr>
    <td id="diff-52e0de109fc317eb649a156593b96b3dL693" data-line-number="693"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-52e0de109fc317eb649a156593b96b3dR693" data-line-number="693"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> # CONFIG_CPU_FREQ_DEFAULT_GOV_ONDEMAND is not set</span>

  </td>
</tr>


    <tr>
    <td id="diff-52e0de109fc317eb649a156593b96b3dL694" data-line-number="694"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-52e0de109fc317eb649a156593b96b3dR694" data-line-number="694"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> # CONFIG_CPU_FREQ_DEFAULT_GOV_CONSERVATIVE is not set</span>

  </td>
</tr>


    <tr>
    <td id="diff-52e0de109fc317eb649a156593b96b3dL695" data-line-number="695"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-52e0de109fc317eb649a156593b96b3dR695" data-line-number="695"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> # CONFIG_CPU_FREQ_DEFAULT_GOV_INTERACTIVE is not set</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-52e0de109fc317eb649a156593b96b3dR696" data-line-number="696"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+# CONFIG_CPU_FREQ_DEFAULT_GOV_ZZMOOVE is not set</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-52e0de109fc317eb649a156593b96b3dR697" data-line-number="697"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+# CONFIG_CPU_FREQ_DEFAULT_GOV_BARRY_ALLEN is not set</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-52e0de109fc317eb649a156593b96b3dR698" data-line-number="698"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+# CONFIG_CPU_FREQ_DEFAULT_GOV_NIGHTMARE is not set</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-52e0de109fc317eb649a156593b96b3dR699" data-line-number="699"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+# CONFIG_CPU_FREQ_DEFAULT_GOV_DARKNESS is not set</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-52e0de109fc317eb649a156593b96b3dR700" data-line-number="700"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+# CONFIG_CPU_FREQ_DEFAULT_GOV_PEGASUSQ is not set</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-52e0de109fc317eb649a156593b96b3dR701" data-line-number="701"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+# CONFIG_CPU_FREQ_DEFAULT_GOV_YANKACTIVE is not set</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-52e0de109fc317eb649a156593b96b3dR702" data-line-number="702"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+# CONFIG_CPU_FREQ_DEFAULT_GOV_INTELLIACTIVE is not set</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-52e0de109fc317eb649a156593b96b3dR703" data-line-number="703"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+# CONFIG_CPU_FREQ_DEFAULT_GOV_ONDEMANDPLUS is not set</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-52e0de109fc317eb649a156593b96b3dR704" data-line-number="704"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+# CONFIG_CPU_FREQ_DEFAULT_GOV_INTELLIMM is not set</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-52e0de109fc317eb649a156593b96b3dR705" data-line-number="705"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+# CONFIG_CPU_FREQ_DEFAULT_GOV_UMBRELLA_CORE is not set</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-52e0de109fc317eb649a156593b96b3dR706" data-line-number="706"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+# CONFIG_CPU_FREQ_DEFAULT_GOV_BIOSHOCK is not set</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-52e0de109fc317eb649a156593b96b3dR707" data-line-number="707"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+# CONFIG_CPU_FREQ_DEFAULT_GOV_RACCOON_CITY is not set</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-52e0de109fc317eb649a156593b96b3dR708" data-line-number="708"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+# CONFIG_CPU_FREQ_DEFAULT_GOV_LIONHEART is not set</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-52e0de109fc317eb649a156593b96b3dR709" data-line-number="709"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+# CONFIG_CPU_FREQ_DEFAULT_GOV_SMARTMAX is not set</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-52e0de109fc317eb649a156593b96b3dR710" data-line-number="710"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+# CONFIG_CPU_FREQ_DEFAULT_GOV_SMARTASS2 is not set</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-52e0de109fc317eb649a156593b96b3dR711" data-line-number="711"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+# CONFIG_CPU_FREQ_DEFAULT_GOV_SMARTMAX_EPS is not set</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-52e0de109fc317eb649a156593b96b3dR712" data-line-number="712"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+# CONFIG_CPU_FREQ_DEFAULT_GOV_ALUCARD is not set</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-52e0de109fc317eb649a156593b96b3dR713" data-line-number="713"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+# CONFIG_CPU_FREQ_DEFAULT_GOV_ELEMENTALX is not set</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-52e0de109fc317eb649a156593b96b3dR714" data-line-number="714"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+# CONFIG_CPU_FREQ_DEFAULT_GOV_BLU_ACTIVE is not set</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-52e0de109fc317eb649a156593b96b3dR715" data-line-number="715"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+# CONFIG_CPU_FREQ_DEFAULT_GOV_CAFACTIVE is not set</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-52e0de109fc317eb649a156593b96b3dR716" data-line-number="716"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+# CONFIG_CPU_FREQ_DEFAULT_GOV_ELECTROACTIVE is not set</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-52e0de109fc317eb649a156593b96b3dR717" data-line-number="717"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+# CONFIG_CPU_FREQ_DEFAULT_GOV_ELECTRODEMAND is not set</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-52e0de109fc317eb649a156593b96b3dR718" data-line-number="718"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+# CONFIG_CPU_FREQ_DEFAULT_GOV_ONDEMAND_X is not set</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-52e0de109fc317eb649a156593b96b3dR719" data-line-number="719"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+# CONFIG_CPU_FREQ_DEFAULT_GOV_HYPER is not set</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-52e0de109fc317eb649a156593b96b3dR720" data-line-number="720"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+# CONFIG_CPU_FREQ_DEFAULT_GOV_INTELLIDEMAND is not set</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-52e0de109fc317eb649a156593b96b3dR721" data-line-number="721"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+# CONFIG_CPU_FREQ_DEFAULT_GOV_DESPAIR is not set</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-52e0de109fc317eb649a156593b96b3dR722" data-line-number="722"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+# CONFIG_CPU_FREQ_DEFAULT_GOV_HELLSACTIVE is not set</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-52e0de109fc317eb649a156593b96b3dR723" data-line-number="723"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+# CONFIG_CPU_FREQ_DEFAULT_GOV_INTERACTIVE_X is not set</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-52e0de109fc317eb649a156593b96b3dR724" data-line-number="724"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+# CONFIG_CPU_FREQ_DEFAULT_GOV_CONSERVATIVE_X is not set</span>

  </td>
</tr>


    <tr>
    <td id="diff-52e0de109fc317eb649a156593b96b3dL696" data-line-number="696"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-52e0de109fc317eb649a156593b96b3dR725" data-line-number="725"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> # CONFIG_CPU_FREQ_DEFAULT_GOV_ARTERACTIVE is not set</span>

  </td>
</tr>


    <tr>
    <td id="diff-52e0de109fc317eb649a156593b96b3dL697" data-line-number="697"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-52e0de109fc317eb649a156593b96b3dR726" data-line-number="726"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> CONFIG_CPU_FREQ_GOV_PERFORMANCE=y</span>

  </td>
</tr>


    <tr>
    <td id="diff-52e0de109fc317eb649a156593b96b3dL698" data-line-number="698"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-52e0de109fc317eb649a156593b96b3dR727" data-line-number="727"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> CONFIG_CPU_FREQ_GOV_POWERSAVE=y</span>

  </td>
</tr>


      <tr class="js-expandable-line" data-position="36">
    <td class="blob-num blob-num-expandable" colspan="2">
      <a href="#diff-52e0de109fc317eb649a156593b96b3d"
            class="diff-expander js-expand" title="Expand" aria-label="Expand"
            data-url="/Tkkg1994/StockKernel/blob_excerpt/fbbd127407e4ceee63bf396ea4d8ae9353f89624?diff=unified&amp;left_hunk_size=6&amp;mode=100644&amp;next_line_num_left=700&amp;next_line_num_right=729&amp;path=arch%2Farm%2Fconfigs%2F0StockKernel_SM-G901F_defconfig&amp;prev_line_num_left=698&amp;prev_line_num_right=727&amp;right_hunk_size=35"
            data-left-range="699-699" data-right-range="728-728">
        <svg aria-hidden="true" class="octicon octicon-unfold" height="16" role="img" version="1.1" viewBox="0 0 14 16" width="14"><path d="M11.5 8.5l2.5 2.5c0 0.55-0.45 1-1 1H9v-1h3.5L10.5 9H3.5L1.5 11h3.5v1H1c-0.55 0-1-0.45-1-1l2.5-2.5L0 6c0-0.55 0.45-1 1-1h4v1H1.5l2 2h7l2-2H9v-1h4c0.55 0 1 0.45 1 1L11.5 8.5z m-5.5-1.5h2V4h2L7 1 4 4h2v3z m2 3H6v3H4l3 3 3-3H8V10z"></path></svg>
      </a>
    </td>
    <td class="blob-code blob-code-inner blob-code-hunk">@@ -700,6 +729,35 @@ CONFIG_CPU_FREQ_GOV_USERSPACE=y</td>
  </tr>

    <tr>
    <td id="diff-52e0de109fc317eb649a156593b96b3dL700" data-line-number="700"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-52e0de109fc317eb649a156593b96b3dR729" data-line-number="729"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> CONFIG_CPU_FREQ_GOV_ONDEMAND=y</span>

  </td>
</tr>


    <tr>
    <td id="diff-52e0de109fc317eb649a156593b96b3dL701" data-line-number="701"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-52e0de109fc317eb649a156593b96b3dR730" data-line-number="730"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> CONFIG_CPU_FREQ_GOV_INTERACTIVE=y</span>

  </td>
</tr>


    <tr>
    <td id="diff-52e0de109fc317eb649a156593b96b3dL702" data-line-number="702"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-52e0de109fc317eb649a156593b96b3dR731" data-line-number="731"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> CONFIG_CPU_FREQ_GOV_CONSERVATIVE=y</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-52e0de109fc317eb649a156593b96b3dR732" data-line-number="732"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+CONFIG_CPU_FREQ_GOV_ZZMOOVE=y</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-52e0de109fc317eb649a156593b96b3dR733" data-line-number="733"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+CONFIG_CPU_FREQ_GOV_BARRY_ALLEN=y</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-52e0de109fc317eb649a156593b96b3dR734" data-line-number="734"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+CONFIG_CPU_FREQ_GOV_NIGHTMARE=y</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-52e0de109fc317eb649a156593b96b3dR735" data-line-number="735"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+CONFIG_CPU_FREQ_GOV_DARKNESS=y</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-52e0de109fc317eb649a156593b96b3dR736" data-line-number="736"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+CONFIG_CPU_FREQ_GOV_PEGASUSQ=y</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-52e0de109fc317eb649a156593b96b3dR737" data-line-number="737"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+CONFIG_CPU_FREQ_GOV_YANKACTIVE=y</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-52e0de109fc317eb649a156593b96b3dR738" data-line-number="738"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+CONFIG_CPU_FREQ_GOV_INTELLIACTIVE=y</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-52e0de109fc317eb649a156593b96b3dR739" data-line-number="739"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+CONFIG_CPU_FREQ_GOV_ONDEMANDPLUS=y</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-52e0de109fc317eb649a156593b96b3dR740" data-line-number="740"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+CONFIG_CPU_FREQ_GOV_INTELLIMM=y</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-52e0de109fc317eb649a156593b96b3dR741" data-line-number="741"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+CONFIG_CPU_FREQ_GOV_UMBRELLA_CORE=y</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-52e0de109fc317eb649a156593b96b3dR742" data-line-number="742"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+CONFIG_CPU_FREQ_GOV_BIOSHOCK=y</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-52e0de109fc317eb649a156593b96b3dR743" data-line-number="743"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+# CONFIG_CPU_FREQ_GOV_RACCOON_CITY is not set</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-52e0de109fc317eb649a156593b96b3dR744" data-line-number="744"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+CONFIG_CPU_FREQ_GOV_LIONHEART=y</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-52e0de109fc317eb649a156593b96b3dR745" data-line-number="745"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+CONFIG_CPU_FREQ_GOV_SMARTMAX=y</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-52e0de109fc317eb649a156593b96b3dR746" data-line-number="746"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+CONFIG_CPU_FREQ_GOV_SMARTASS2=y</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-52e0de109fc317eb649a156593b96b3dR747" data-line-number="747"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+CONFIG_CPU_FREQ_GOV_SMARTMAX_EPS=y</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-52e0de109fc317eb649a156593b96b3dR748" data-line-number="748"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+CONFIG_CPU_FREQ_GOV_ALUCARD=y</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-52e0de109fc317eb649a156593b96b3dR749" data-line-number="749"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+CONFIG_CPU_FREQ_GOV_ELEMENTALX=y</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-52e0de109fc317eb649a156593b96b3dR750" data-line-number="750"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+CONFIG_CPU_FREQ_GOV_BLU_ACTIVE=y</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-52e0de109fc317eb649a156593b96b3dR751" data-line-number="751"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+CONFIG_CPU_FREQ_GOV_CAFACTIVE=y</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-52e0de109fc317eb649a156593b96b3dR752" data-line-number="752"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+CONFIG_CPU_FREQ_GOV_ELECTROACTIVE=y</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-52e0de109fc317eb649a156593b96b3dR753" data-line-number="753"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+CONFIG_CPU_FREQ_GOV_ELECTRODEMAND=y</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-52e0de109fc317eb649a156593b96b3dR754" data-line-number="754"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+CONFIG_CPU_FREQ_GOV_ONDEMAND_X=y</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-52e0de109fc317eb649a156593b96b3dR755" data-line-number="755"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+CONFIG_CPU_FREQ_GOV_HYPER=y</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-52e0de109fc317eb649a156593b96b3dR756" data-line-number="756"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+CONFIG_CPU_FREQ_GOV_INTELLIDEMAND=y</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-52e0de109fc317eb649a156593b96b3dR757" data-line-number="757"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+CONFIG_CPU_FREQ_GOV_DESPAIR=y</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-52e0de109fc317eb649a156593b96b3dR758" data-line-number="758"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+# CONFIG_CPU_FREQ_GOV_HELLSACTIVE is not set</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-52e0de109fc317eb649a156593b96b3dR759" data-line-number="759"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+CONFIG_CPU_FREQ_GOV_INTERACTIVE_X=y</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-52e0de109fc317eb649a156593b96b3dR760" data-line-number="760"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+# CONFIG_CPU_FREQ_GOV_CONSERVATIVE_X is not set</span>

  </td>
</tr>


    <tr>
    <td id="diff-52e0de109fc317eb649a156593b96b3dL703" data-line-number="703"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-52e0de109fc317eb649a156593b96b3dR761" data-line-number="761"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> CONFIG_CPU_FREQ_GOV_ARTERACTIVE=y</span>

  </td>
</tr>


    <tr>
    <td id="diff-52e0de109fc317eb649a156593b96b3dL704" data-line-number="704"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-52e0de109fc317eb649a156593b96b3dR762" data-line-number="762"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> CONFIG_CPU_BOOST=y</span>

  </td>
</tr>


    <tr>
    <td id="diff-52e0de109fc317eb649a156593b96b3dL705" data-line-number="705"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-52e0de109fc317eb649a156593b96b3dR763" data-line-number="763"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> CONFIG_SUSPEND_BOOSTER=y</span>

  </td>
</tr>


      <tr class="js-expandable-line" data-position="72">
    <td class="blob-num blob-num-expandable" colspan="2">
      <a href="#diff-52e0de109fc317eb649a156593b96b3d"
            class="diff-expander js-expand" title="Expand" aria-label="Expand"
            data-url="/Tkkg1994/StockKernel/blob_excerpt/fbbd127407e4ceee63bf396ea4d8ae9353f89624?diff=unified&amp;left_hunk_size=6&amp;mode=100644&amp;next_line_num_left=2060&amp;next_line_num_right=2118&amp;path=arch%2Farm%2Fconfigs%2F0StockKernel_SM-G901F_defconfig&amp;prev_line_num_left=705&amp;prev_line_num_right=763&amp;right_hunk_size=7"
            data-left-range="706-2059" data-right-range="764-2117">
        <svg aria-hidden="true" class="octicon octicon-unfold" height="16" role="img" version="1.1" viewBox="0 0 14 16" width="14"><path d="M11.5 8.5l2.5 2.5c0 0.55-0.45 1-1 1H9v-1h3.5L10.5 9H3.5L1.5 11h3.5v1H1c-0.55 0-1-0.45-1-1l2.5-2.5L0 6c0-0.55 0.45-1 1-1h4v1H1.5l2 2h7l2-2H9v-1h4c0.55 0 1 0.45 1 1L11.5 8.5z m-5.5-1.5h2V4h2L7 1 4 4h2v3z m2 3H6v3H4l3 3 3-3H8V10z"></path></svg>
      </a>
    </td>
    <td class="blob-code blob-code-inner blob-code-hunk">@@ -2060,6 +2118,7 @@ CONFIG_INPUT_TOUCHSCREEN=y</td>
  </tr>

    <tr>
    <td id="diff-52e0de109fc317eb649a156593b96b3dL2060" data-line-number="2060"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-52e0de109fc317eb649a156593b96b3dR2118" data-line-number="2118"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> # CONFIG_TOUCHSCREEN_SYNAPTICS_I2C_RMI4 is not set</span>

  </td>
</tr>


    <tr>
    <td id="diff-52e0de109fc317eb649a156593b96b3dL2061" data-line-number="2061"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-52e0de109fc317eb649a156593b96b3dR2119" data-line-number="2119"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> # CONFIG_TOUCHSCREEN_GT9XX is not set</span>

  </td>
</tr>


    <tr>
    <td id="diff-52e0de109fc317eb649a156593b96b3dL2062" data-line-number="2062"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-52e0de109fc317eb649a156593b96b3dR2120" data-line-number="2120"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> # CONFIG_SEC_STRING_ENABLE is not set</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-52e0de109fc317eb649a156593b96b3dR2121" data-line-number="2121"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+CONFIG_TOUCHBOOST=y</span>

  </td>
</tr>


    <tr>
    <td id="diff-52e0de109fc317eb649a156593b96b3dL2063" data-line-number="2063"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-52e0de109fc317eb649a156593b96b3dR2122" data-line-number="2122"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> # CONFIG_INPUT_WACOM is not set</span>

  </td>
</tr>


    <tr>
    <td id="diff-52e0de109fc317eb649a156593b96b3dL2064" data-line-number="2064"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-52e0de109fc317eb649a156593b96b3dR2123" data-line-number="2123"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> # CONFIG_WACOM_LCD_FREQ_COMPENSATE is not set</span>

  </td>
</tr>


    <tr>
    <td id="diff-52e0de109fc317eb649a156593b96b3dL2065" data-line-number="2065"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-52e0de109fc317eb649a156593b96b3dR2124" data-line-number="2124"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> # CONFIG_TOUCHSCREEN_SYNAPTICS_I2C_RMI is not set</span>

  </td>
</tr>


  <tr class="js-expandable-line">
   <td class="blob-num blob-num-expandable" colspan="2">
     <a href="#diff-52e0de109fc317eb649a156593b96b3d"
          class="diff-expander js-expand" title="Expand" aria-label="Expand"
          data-url="/Tkkg1994/StockKernel/blob_excerpt/fbbd127407e4ceee63bf396ea4d8ae9353f89624?diff=unified&amp;mode=100644&amp;path=arch%2Farm%2Fconfigs%2F0StockKernel_SM-G901F_defconfig&amp;prev_line_num_left=2065&amp;prev_line_num_right=2124"
          data-left-range="2066-5058"
          data-right-range="2125-5058">
       <svg aria-hidden="true" class="octicon octicon-unfold" height="16" role="img" version="1.1" viewBox="0 0 14 16" width="14"><path d="M11.5 8.5l2.5 2.5c0 0.55-0.45 1-1 1H9v-1h3.5L10.5 9H3.5L1.5 11h3.5v1H1c-0.55 0-1-0.45-1-1l2.5-2.5L0 6c0-0.55 0.45-1 1-1h4v1H1.5l2 2h7l2-2H9v-1h4c0.55 0 1 0.45 1 1L11.5 8.5z m-5.5-1.5h2V4h2L7 1 4 4h2v3z m2 3H6v3H4l3 3 3-3H8V10z"></path></svg>
     </a>
   </td>
   <td class="blob-code blob-code-expandable"></td>
  </tr>

              </table>
            </div>
      </div>

      <a name="diff-461787deb1478c0558b2372cbda28798"></a>
      <div id="diff-1"
           class="file js-details-container
                   
                   
                   
                   
                   show-inline-notes
                 ">
        <div class="file-header" data-path="arch/arm/mach-msm/alucard_hotplug.c">
          <div class="file-actions">
              <span class="show-file-notes">
                <label>
                  <input type="checkbox" checked="checked" class="js-toggle-file-notes">
                  Show notes
                </label>
              </span>

                <a href="/Tkkg1994/StockKernel/blob/cbf17b4b432bfe962ae330d9a86f8ded47d33b22/arch/arm/mach-msm/alucard_hotplug.c" class="btn btn-sm tooltipped tooltipped-nw" rel="nofollow" aria-label="View the whole file at version cbf17b4 ">View</a>


          </div>
          <div class="file-info">
              <span class="diffstat tooltipped tooltipped-e" aria-label="32 additions &amp; 108 deletions">140 <span class="block-diff-added"></span><span class="block-diff-deleted"></span><span class="block-diff-deleted"></span><span class="block-diff-deleted"></span><span class="block-diff-neutral"></span></span>

            <span class="user-select-contain" title="arch/arm/mach-msm/alucard_hotplug.c">
              arch/arm/mach-msm/alucard_hotplug.c
            </span>
            
          </div>
        </div>

            <div class="data highlight blob-wrapper">
              <table class="diff-table tab-size  " data-tab-size="8">
                
      <tr class="js-expandable-line" data-position="0">
    <td class="blob-num blob-num-expandable" colspan="2">
      <a href="#diff-461787deb1478c0558b2372cbda28798"
            class="diff-expander js-expand" title="Expand" aria-label="Expand"
            data-url="/Tkkg1994/StockKernel/blob_excerpt/27f70ce08601acdd11dddd986592ca61b649a844?diff=unified&amp;left_hunk_size=10&amp;mode=100644&amp;next_line_num_left=35&amp;next_line_num_right=35&amp;path=arch%2Farm%2Fmach-msm%2Falucard_hotplug.c&amp;prev_line_num_left=&amp;prev_line_num_right=&amp;right_hunk_size=10"
            data-left-range="1-34" data-right-range="1-34">
        <svg aria-hidden="true" class="octicon octicon-unfold" height="16" role="img" version="1.1" viewBox="0 0 14 16" width="14"><path d="M11.5 8.5l2.5 2.5c0 0.55-0.45 1-1 1H9v-1h3.5L10.5 9H3.5L1.5 11h3.5v1H1c-0.55 0-1-0.45-1-1l2.5-2.5L0 6c0-0.55 0.45-1 1-1h4v1H1.5l2 2h7l2-2H9v-1h4c0.55 0 1 0.45 1 1L11.5 8.5z m-5.5-1.5h2V4h2L7 1 4 4h2v3z m2 3H6v3H4l3 3 3-3H8V10z"></path></svg>
      </a>
    </td>
    <td class="blob-code blob-code-inner blob-code-hunk">@@ -35,10 +35,10 @@</td>
  </tr>

    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L35" data-line-number="35"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-461787deb1478c0558b2372cbda28798R35" data-line-number="35"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> <span class="pl-k">static</span> <span class="pl-en">DEFINE_MUTEX</span>(alucard_hotplug_mutex);</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L36" data-line-number="36"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-461787deb1478c0558b2372cbda28798R36" data-line-number="36"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> </span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L37" data-line-number="37"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-461787deb1478c0558b2372cbda28798R37" data-line-number="37"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> <span class="pl-k">struct</span> hotplug_cpuinfo {</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L38" data-line-number="38"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-	<span class="x x-first x-last">u64 prev_cpu_wall</span>;</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L39" data-line-number="39"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-	<span class="x x-first x-last">u64 prev_cpu_idle</span>;</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L40" data-line-number="40"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-	<span class="pl-k x x-first">unsigned</span><span class="x"> </span><span class="pl-k x">int</span><span class="x x-last"> prev_load</span>;</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L41" data-line-number="41"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-	<span class="pl-c1">ktime_t</span> <span class="x x-first x-last">time_stamp</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-461787deb1478c0558b2372cbda28798R38" data-line-number="38"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k x x-first">unsigned</span><span class="x"> </span><span class="pl-k x">int</span><span class="x x-last"> load</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-461787deb1478c0558b2372cbda28798R39" data-line-number="39"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k x x-first">unsigned</span><span class="x"> </span><span class="pl-k x">int</span><span class="x x-last"> sampling_rate_us</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-461787deb1478c0558b2372cbda28798R40" data-line-number="40"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1 x x-first">ktime_t</span><span class="x x-last"> now</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-461787deb1478c0558b2372cbda28798R41" data-line-number="41"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">ktime_t</span> <span class="x x-first x-last">pre</span>;</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L42" data-line-number="42"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-461787deb1478c0558b2372cbda28798R42" data-line-number="42"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> };</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L43" data-line-number="43"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-461787deb1478c0558b2372cbda28798R43" data-line-number="43"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> </span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L44" data-line-number="44"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-461787deb1478c0558b2372cbda28798R44" data-line-number="44"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> <span class="pl-k">static</span> <span class="pl-k">unsigned</span> <span class="pl-k">int</span> last_online_cpus;</span>

  </td>
</tr>


      <tr class="js-expandable-line" data-position="15">
    <td class="blob-num blob-num-expandable" colspan="2">
      <a href="#diff-461787deb1478c0558b2372cbda28798"
            class="diff-expander js-expand" title="Expand" aria-label="Expand"
            data-url="/Tkkg1994/StockKernel/blob_excerpt/27f70ce08601acdd11dddd986592ca61b649a844?diff=unified&amp;left_hunk_size=9&amp;mode=100644&amp;next_line_num_left=140&amp;next_line_num_right=140&amp;path=arch%2Farm%2Fmach-msm%2Falucard_hotplug.c&amp;prev_line_num_left=44&amp;prev_line_num_right=44&amp;right_hunk_size=7"
            data-left-range="45-139" data-right-range="45-139">
        <svg aria-hidden="true" class="octicon octicon-unfold" height="16" role="img" version="1.1" viewBox="0 0 14 16" width="14"><path d="M11.5 8.5l2.5 2.5c0 0.55-0.45 1-1 1H9v-1h3.5L10.5 9H3.5L1.5 11h3.5v1H1c-0.55 0-1-0.45-1-1l2.5-2.5L0 6c0-0.55 0.45-1 1-1h4v1H1.5l2 2h7l2-2H9v-1h4c0.55 0 1 0.45 1 1L11.5 8.5z m-5.5-1.5h2V4h2L7 1 4 4h2v3z m2 3H6v3H4l3 3 3-3H8V10z"></path></svg>
      </a>
    </td>
    <td class="blob-code blob-code-inner blob-code-hunk">@@ -140,9 +140,7 @@ static void __ref hotplug_work_fn(struct work_struct *work)</td>
  </tr>

    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L140" data-line-number="140"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-461787deb1478c0558b2372cbda28798R140" data-line-number="140"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> sum_load = <span class="pl-c1">0</span>, sum_freq = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L141" data-line-number="141"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-461787deb1478c0558b2372cbda28798R141" data-line-number="141"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 	<span class="pl-k">bool</span> rq_avg_calc = <span class="pl-c1">true</span>;</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L142" data-line-number="142"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-461787deb1478c0558b2372cbda28798R142" data-line-number="142"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 	<span class="pl-k">int</span> online_cpus = <span class="pl-c1">0</span>, delay;</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L143" data-line-number="143"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> sampling_rate =</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L144" data-line-number="144"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-		hotplug_tuners_ins.<span class="pl-smi">hotplug_sampling_rate</span>;</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L145" data-line-number="145"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-	<span class="pl-k">struct</span> cpufreq_policy policy;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-461787deb1478c0558b2372cbda28798R143" data-line-number="143"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> sampling_rate = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L146" data-line-number="146"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-461787deb1478c0558b2372cbda28798R144" data-line-number="144"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> </span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L147" data-line-number="147"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-461787deb1478c0558b2372cbda28798R145" data-line-number="145"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 	<span class="pl-k">if</span> (hotplug_tuners_ins.<span class="pl-smi">suspended</span>) {</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L148" data-line-number="148"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-461787deb1478c0558b2372cbda28798R146" data-line-number="146"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 		upmaxcoreslimit = hotplug_tuners_ins.<span class="pl-smi">maxcoreslimit_sleep</span>;</span>

  </td>
</tr>


      <tr class="js-expandable-line" data-position="26">
    <td class="blob-num blob-num-expandable" colspan="2">
      <a href="#diff-461787deb1478c0558b2372cbda28798"
            class="diff-expander js-expand" title="Expand" aria-label="Expand"
            data-url="/Tkkg1994/StockKernel/blob_excerpt/27f70ce08601acdd11dddd986592ca61b649a844?diff=unified&amp;left_hunk_size=79&amp;mode=100644&amp;next_line_num_left=152&amp;next_line_num_right=150&amp;path=arch%2Farm%2Fmach-msm%2Falucard_hotplug.c&amp;prev_line_num_left=148&amp;prev_line_num_right=146&amp;right_hunk_size=16"
            data-left-range="149-151" data-right-range="147-149">
        <svg aria-hidden="true" class="octicon octicon-unfold" height="16" role="img" version="1.1" viewBox="0 0 14 16" width="14"><path d="M11.5 8.5l2.5 2.5c0 0.55-0.45 1-1 1H9v-1h3.5L10.5 9H3.5L1.5 11h3.5v1H1c-0.55 0-1-0.45-1-1l2.5-2.5L0 6c0-0.55 0.45-1 1-1h4v1H1.5l2 2h7l2-2H9v-1h4c0.55 0 1 0.45 1 1L11.5 8.5z m-5.5-1.5h2V4h2L7 1 4 4h2v3z m2 3H6v3H4l3 3 3-3H8V10z"></path></svg>
      </a>
    </td>
    <td class="blob-code blob-code-inner blob-code-hunk">@@ -152,79 +150,16 @@ static void __ref hotplug_work_fn(struct work_struct *work)</td>
  </tr>

    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L152" data-line-number="152"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-461787deb1478c0558b2372cbda28798R150" data-line-number="150"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 	<span class="pl-c1">for_each_online_cpu</span>(cpu) {</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L153" data-line-number="153"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-461787deb1478c0558b2372cbda28798R151" data-line-number="151"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 		<span class="pl-k">struct</span> hotplug_cpuinfo *pcpu_info =</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L154" data-line-number="154"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-461787deb1478c0558b2372cbda28798R152" data-line-number="152"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 			&amp;<span class="pl-c1">per_cpu</span>(ac_hp_cpuinfo, cpu);</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L155" data-line-number="155"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-		u64 cur_wall_time, cur_idle_time;</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L156" data-line-number="156"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-		<span class="pl-k">unsigned</span> <span class="pl-k">int</span> wall_time, idle_time;</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L157" data-line-number="157"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-461787deb1478c0558b2372cbda28798R153" data-line-number="153"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 		<span class="pl-k">unsigned</span> <span class="pl-k">int</span> cur_load = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L158" data-line-number="158"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-461787deb1478c0558b2372cbda28798R154" data-line-number="154"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 		<span class="pl-k">unsigned</span> <span class="pl-k">int</span> cur_freq = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L159" data-line-number="159"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-		<span class="pl-c1">ktime_t</span> time_now = <span class="pl-c1">ktime_get</span>();</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L160" data-line-number="160"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-		s64 delta_us;</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L161" data-line-number="161"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-461787deb1478c0558b2372cbda28798R155" data-line-number="155"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> </span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L162" data-line-number="162"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-		delta_us = <span class="pl-c1">ktime_us_delta</span>(time_now, pcpu_info-&gt;time_stamp);</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L163" data-line-number="163"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-		<span class="pl-c">/* Do nothing if cpu recently has become online */</span></span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L164" data-line-number="164"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-		<span class="pl-k">if</span> (delta_us &lt; (s64)(sampling_rate / <span class="pl-c1">2</span>)) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-461787deb1478c0558b2372cbda28798R156" data-line-number="156"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (<span class="pl-c1">ktime_equal</span>(pcpu_info-&gt;pre, pcpu_info-&gt;now)) {</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L165" data-line-number="165"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-461787deb1478c0558b2372cbda28798R157" data-line-number="157"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 			<span class="pl-k">continue</span>;</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L166" data-line-number="166"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-461787deb1478c0558b2372cbda28798R158" data-line-number="158"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 		}</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L167" data-line-number="167"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L168" data-line-number="168"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-		cur_idle_time = <span class="pl-c1">get_cpu_idle_time</span>(</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L169" data-line-number="169"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-				cpu, &amp;cur_wall_time,</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L170" data-line-number="170"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-				<span class="pl-c1">0</span>);</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L171" data-line-number="171"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L172" data-line-number="172"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-		wall_time = (<span class="pl-k">unsigned</span> <span class="pl-k">int</span>)</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L173" data-line-number="173"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-				(cur_wall_time -</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L174" data-line-number="174"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-					pcpu_info-&gt;prev_cpu_wall);</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L175" data-line-number="175"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-		pcpu_info-&gt;prev_cpu_wall = cur_wall_time;</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L176" data-line-number="176"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L177" data-line-number="177"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-		idle_time = (<span class="pl-k">unsigned</span> <span class="pl-k">int</span>)</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L178" data-line-number="178"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-				(cur_idle_time -</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L179" data-line-number="179"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-					pcpu_info-&gt;prev_cpu_idle);</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L180" data-line-number="180"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-		pcpu_info-&gt;prev_cpu_idle = cur_idle_time;</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L181" data-line-number="181"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L182" data-line-number="182"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-		pcpu_info-&gt;time_stamp = time_now;</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L183" data-line-number="183"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L184" data-line-number="184"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-		<span class="pl-c">/* if wall_time &lt; idle_time or wall_time == 0, evaluate cpu load next time */</span></span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L185" data-line-number="185"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-		<span class="pl-k">if</span> (<span class="pl-c1">unlikely</span>(!wall_time || wall_time &lt; idle_time))</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L186" data-line-number="186"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-			<span class="pl-k">continue</span>;</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L187" data-line-number="187"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L188" data-line-number="188"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-		<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L189" data-line-number="189"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-<span class="pl-c">		 * If the CPU had gone completely idle, and a task just woke up</span></span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L190" data-line-number="190"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-<span class="pl-c">		 * on this CPU now, it would be unfair to calculate &#39;load&#39; the</span></span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L191" data-line-number="191"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-<span class="pl-c">		 * usual way for this elapsed time-window, because it will show</span></span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L192" data-line-number="192"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-<span class="pl-c">		 * near-zero load, irrespective of how CPU intensive that task</span></span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L193" data-line-number="193"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-<span class="pl-c">		 * actually is. This is undesirable for latency-sensitive bursty</span></span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L194" data-line-number="194"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-<span class="pl-c">		 * workloads.</span></span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L195" data-line-number="195"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-<span class="pl-c">		 *</span></span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L196" data-line-number="196"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-<span class="pl-c">		 * To avoid this, we reuse the &#39;load&#39; from the previous</span></span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L197" data-line-number="197"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-<span class="pl-c">		 * time-window and give this task a chance to start with a</span></span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L198" data-line-number="198"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-<span class="pl-c">		 * reasonably high CPU frequency. (However, we shouldn&#39;t over-do</span></span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L199" data-line-number="199"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-<span class="pl-c">		 * this copy, lest we get stuck at a high load (high frequency)</span></span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L200" data-line-number="200"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-<span class="pl-c">		 * for too long, even when the current system load has actually</span></span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L201" data-line-number="201"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-<span class="pl-c">		 * dropped down. So we perform the copy only once, upon the</span></span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L202" data-line-number="202"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-<span class="pl-c">		 * first wake-up from idle.)</span></span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L203" data-line-number="203"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-<span class="pl-c">		 *</span></span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L204" data-line-number="204"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-<span class="pl-c">		 * Detecting this situation is easy: the governor&#39;s deferrable</span></span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L205" data-line-number="205"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-<span class="pl-c">		 * timer would not have fired during CPU-idle periods. Hence</span></span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L206" data-line-number="206"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-<span class="pl-c">		 * an unusually large &#39;wall_time&#39; (as compared to the sampling</span></span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L207" data-line-number="207"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-<span class="pl-c">		 * rate) indicates this scenario.</span></span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L208" data-line-number="208"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-<span class="pl-c">		 *</span></span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L209" data-line-number="209"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-<span class="pl-c">		 * prev_load can be zero in two cases and we must recalculate it</span></span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L210" data-line-number="210"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-<span class="pl-c">		 * for both cases:</span></span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L211" data-line-number="211"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-<span class="pl-c">		 * - during long idle intervals</span></span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L212" data-line-number="212"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-<span class="pl-c">		 * - explicitly set to zero</span></span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L213" data-line-number="213"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-<span class="pl-c">		 */</span></span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L214" data-line-number="214"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-		<span class="pl-k">if</span> (<span class="pl-c1">unlikely</span>(wall_time &gt; (<span class="pl-c1">2</span> * sampling_rate) &amp;&amp;</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L215" data-line-number="215"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-			     pcpu_info-&gt;prev_load)) {</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L216" data-line-number="216"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-			cur_load = pcpu_info-&gt;prev_load;</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L217" data-line-number="217"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L218" data-line-number="218"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-			<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L219" data-line-number="219"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-<span class="pl-c">			 * Perform a destructive copy, to ensure that we copy</span></span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L220" data-line-number="220"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-<span class="pl-c">			 * the previous load only once, upon the first wake-up</span></span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L221" data-line-number="221"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-<span class="pl-c">			 * from idle.</span></span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L222" data-line-number="222"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-<span class="pl-c">			 */</span></span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L223" data-line-number="223"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-			pcpu_info-&gt;prev_load = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L224" data-line-number="224"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-		} <span class="pl-k">else</span> {</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L225" data-line-number="225"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-			cur_load = <span class="pl-c1">100</span> * (wall_time - idle_time) / wall_time;</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L226" data-line-number="226"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-			pcpu_info-&gt;prev_load = cur_load;</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L227" data-line-number="227"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-		}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-461787deb1478c0558b2372cbda28798R159" data-line-number="159"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		cur_load = pcpu_info-&gt;load;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-461787deb1478c0558b2372cbda28798R160" data-line-number="160"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (pcpu_info-&gt;sampling_rate_us &gt; sampling_rate)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-461787deb1478c0558b2372cbda28798R161" data-line-number="161"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			sampling_rate = pcpu_info-&gt;sampling_rate_us;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-461787deb1478c0558b2372cbda28798R162" data-line-number="162"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		pcpu_info-&gt;pre = pcpu_info-&gt;now;</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L228" data-line-number="228"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-461787deb1478c0558b2372cbda28798R163" data-line-number="163"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> </span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L229" data-line-number="229"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-461787deb1478c0558b2372cbda28798R164" data-line-number="164"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 		<span class="pl-c">/* get the cpu current frequency */</span></span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L230" data-line-number="230"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-461787deb1478c0558b2372cbda28798R165" data-line-number="165"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 		cur_freq = <span class="pl-c1">cpufreq_quick_get</span>(cpu);</span>

  </td>
</tr>


      <tr class="js-expandable-line" data-position="111">
    <td class="blob-num blob-num-expandable" colspan="2">
      <a href="#diff-461787deb1478c0558b2372cbda28798"
            class="diff-expander js-expand" title="Expand" aria-label="Expand"
            data-url="/Tkkg1994/StockKernel/blob_excerpt/27f70ce08601acdd11dddd986592ca61b649a844?diff=unified&amp;left_hunk_size=7&amp;mode=100644&amp;next_line_num_left=325&amp;next_line_num_right=260&amp;path=arch%2Farm%2Fmach-msm%2Falucard_hotplug.c&amp;prev_line_num_left=230&amp;prev_line_num_right=165&amp;right_hunk_size=10"
            data-left-range="231-324" data-right-range="166-259">
        <svg aria-hidden="true" class="octicon octicon-unfold" height="16" role="img" version="1.1" viewBox="0 0 14 16" width="14"><path d="M11.5 8.5l2.5 2.5c0 0.55-0.45 1-1 1H9v-1h3.5L10.5 9H3.5L1.5 11h3.5v1H1c-0.55 0-1-0.45-1-1l2.5-2.5L0 6c0-0.55 0.45-1 1-1h4v1H1.5l2 2h7l2-2H9v-1h4c0.55 0 1 0.45 1 1L11.5 8.5z m-5.5-1.5h2V4h2L7 1 4 4h2v3z m2 3H6v3H4l3 3 3-3H8V10z"></path></svg>
      </a>
    </td>
    <td class="blob-code blob-code-inner blob-code-hunk">@@ -325,7 +260,10 @@ static void __ref hotplug_work_fn(struct work_struct *work)</td>
  </tr>

    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L325" data-line-number="325"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-461787deb1478c0558b2372cbda28798R260" data-line-number="260"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 	}</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L326" data-line-number="326"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-461787deb1478c0558b2372cbda28798R261" data-line-number="261"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> </span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L327" data-line-number="327"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-461787deb1478c0558b2372cbda28798R262" data-line-number="262"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> next_loop:</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L328" data-line-number="328"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-	delay = <span class="pl-c1">msecs_to_jiffies</span>(sampling_rate);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-461787deb1478c0558b2372cbda28798R263" data-line-number="263"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (!sampling_rate)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-461787deb1478c0558b2372cbda28798R264" data-line-number="264"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		delay = <span class="pl-c1">msecs_to_jiffies</span>(hotplug_tuners_ins.<span class="pl-smi">hotplug_sampling_rate</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-461787deb1478c0558b2372cbda28798R265" data-line-number="265"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">else</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-461787deb1478c0558b2372cbda28798R266" data-line-number="266"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		delay = <span class="pl-c1">usecs_to_jiffies</span>(sampling_rate);</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L329" data-line-number="329"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-461787deb1478c0558b2372cbda28798R267" data-line-number="267"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 	<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L330" data-line-number="330"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-461787deb1478c0558b2372cbda28798R268" data-line-number="268"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> <span class="pl-c">	 * We want hotplug governor to do sampling</span></span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L331" data-line-number="331"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-461787deb1478c0558b2372cbda28798R269" data-line-number="269"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> <span class="pl-c">	 * just one jiffy later on cpu governor sampling</span></span>

  </td>
</tr>


      <tr class="js-expandable-line" data-position="123">
    <td class="blob-num blob-num-expandable" colspan="2">
      <a href="#diff-461787deb1478c0558b2372cbda28798"
            class="diff-expander js-expand" title="Expand" aria-label="Expand"
            data-url="/Tkkg1994/StockKernel/blob_excerpt/27f70ce08601acdd11dddd986592ca61b649a844?diff=unified&amp;left_hunk_size=21&amp;mode=100644&amp;next_line_num_left=377&amp;next_line_num_right=315&amp;path=arch%2Farm%2Fmach-msm%2Falucard_hotplug.c&amp;prev_line_num_left=331&amp;prev_line_num_right=269&amp;right_hunk_size=15"
            data-left-range="332-376" data-right-range="270-314">
        <svg aria-hidden="true" class="octicon octicon-unfold" height="16" role="img" version="1.1" viewBox="0 0 14 16" width="14"><path d="M11.5 8.5l2.5 2.5c0 0.55-0.45 1-1 1H9v-1h3.5L10.5 9H3.5L1.5 11h3.5v1H1c-0.55 0-1-0.45-1-1l2.5-2.5L0 6c0-0.55 0.45-1 1-1h4v1H1.5l2 2h7l2-2H9v-1h4c0.55 0 1 0.45 1 1L11.5 8.5z m-5.5-1.5h2V4h2L7 1 4 4h2v3z m2 3H6v3H4l3 3 3-3H8V10z"></path></svg>
      </a>
    </td>
    <td class="blob-code blob-code-inner blob-code-hunk">@@ -377,21 +315,15 @@ static int state_notifier_callback(struct notifier_block *this,</td>
  </tr>

    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L377" data-line-number="377"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-461787deb1478c0558b2372cbda28798R315" data-line-number="315"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> <span class="pl-k">static</span> <span class="pl-k">int</span> <span class="pl-en">alucard_hotplug_callback</span>(<span class="pl-k">struct</span> notifier_block *nb,</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L378" data-line-number="378"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-461787deb1478c0558b2372cbda28798R316" data-line-number="316"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 			<span class="pl-k">unsigned</span> <span class="pl-k">long</span> action, <span class="pl-k">void</span> *data)</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L379" data-line-number="379"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-461787deb1478c0558b2372cbda28798R317" data-line-number="317"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> {</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L380" data-line-number="380"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> cpu = (<span class="pl-k">unsigned</span> <span class="pl-k">long</span>)data;</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L381" data-line-number="381"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-461787deb1478c0558b2372cbda28798R318" data-line-number="318"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 	<span class="pl-k">struct</span> hotplug_cpuinfo *pcpu_info = <span class="pl-c1">NULL</span>;</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L382" data-line-number="382"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-	<span class="pl-k x x-first">unsigned</span><span class="x"> </span><span class="pl-k x">int</span><span class="x x-last"> prev_load</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-461787deb1478c0558b2372cbda28798R319" data-line-number="319"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k x x-first">struct</span><span class="x x-last"> cpufreq_govinfo *govinfo = data</span>;</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L383" data-line-number="383"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-461787deb1478c0558b2372cbda28798R320" data-line-number="320"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> </span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L384" data-line-number="384"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-461787deb1478c0558b2372cbda28798R321" data-line-number="321"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 	<span class="pl-k">switch</span> (action) {</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L385" data-line-number="385"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-	<span class="pl-k">case</span> CPU_ONLINE:</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L386" data-line-number="386"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-		pcpu_info = &amp;<span class="pl-c1">per_cpu</span>(ac_hp_cpuinfo, cpu);</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L387" data-line-number="387"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-		pcpu_info-&gt;prev_cpu_idle = <span class="pl-c1">get_cpu_idle_time</span>(cpu,</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L388" data-line-number="388"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-				&amp;pcpu_info-&gt;prev_cpu_wall,</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L389" data-line-number="389"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-				<span class="pl-c1">0</span>);</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L390" data-line-number="390"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-		pcpu_info-&gt;time_stamp = <span class="pl-c1">ktime_get</span>();</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L391" data-line-number="391"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-		prev_load = (<span class="pl-k">unsigned</span> <span class="pl-k">int</span>)</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L392" data-line-number="392"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-				(pcpu_info-&gt;prev_cpu_wall - pcpu_info-&gt;prev_cpu_idle);</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L393" data-line-number="393"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-		pcpu_info-&gt;prev_load = <span class="pl-c1">100</span> * prev_load /</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L394" data-line-number="394"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-				(<span class="pl-k">unsigned</span> <span class="pl-k">int</span>) pcpu_info-&gt;prev_cpu_wall;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-461787deb1478c0558b2372cbda28798R322" data-line-number="322"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">case</span> CPUFREQ_LOAD_CHANGE:</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-461787deb1478c0558b2372cbda28798R323" data-line-number="323"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		pcpu_info = &amp;<span class="pl-c1">per_cpu</span>(ac_hp_cpuinfo, govinfo-&gt;cpu);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-461787deb1478c0558b2372cbda28798R324" data-line-number="324"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		pcpu_info-&gt;load = govinfo-&gt;load;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-461787deb1478c0558b2372cbda28798R325" data-line-number="325"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		pcpu_info-&gt;sampling_rate_us = govinfo-&gt;sampling_rate_us;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-461787deb1478c0558b2372cbda28798R326" data-line-number="326"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		pcpu_info-&gt;now = <span class="pl-c1">ktime_get</span>();</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L395" data-line-number="395"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-461787deb1478c0558b2372cbda28798R327" data-line-number="327"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 		<span class="pl-k">break</span>;</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L396" data-line-number="396"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-461787deb1478c0558b2372cbda28798R328" data-line-number="328"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 	<span class="pl-k">default</span>:</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L397" data-line-number="397"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-461787deb1478c0558b2372cbda28798R329" data-line-number="329"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 		<span class="pl-k">break</span>;</span>

  </td>
</tr>


      <tr class="js-expandable-line" data-position="151">
    <td class="blob-num blob-num-expandable" colspan="2">
      <a href="#diff-461787deb1478c0558b2372cbda28798"
            class="diff-expander js-expand" title="Expand" aria-label="Expand"
            data-url="/Tkkg1994/StockKernel/blob_excerpt/27f70ce08601acdd11dddd986592ca61b649a844?diff=unified&amp;left_hunk_size=30&amp;mode=100644&amp;next_line_num_left=423&amp;next_line_num_right=355&amp;path=arch%2Farm%2Fmach-msm%2Falucard_hotplug.c&amp;prev_line_num_left=397&amp;prev_line_num_right=329&amp;right_hunk_size=23"
            data-left-range="398-422" data-right-range="330-354">
        <svg aria-hidden="true" class="octicon octicon-unfold" height="16" role="img" version="1.1" viewBox="0 0 14 16" width="14"><path d="M11.5 8.5l2.5 2.5c0 0.55-0.45 1-1 1H9v-1h3.5L10.5 9H3.5L1.5 11h3.5v1H1c-0.55 0-1-0.45-1-1l2.5-2.5L0 6c0-0.55 0.45-1 1-1h4v1H1.5l2 2h7l2-2H9v-1h4c0.55 0 1 0.45 1 1L11.5 8.5z m-5.5-1.5h2V4h2L7 1 4 4h2v3z m2 3H6v3H4l3 3 3-3H8V10z"></path></svg>
      </a>
    </td>
    <td class="blob-code blob-code-inner blob-code-hunk">@@ -423,30 +355,23 @@ static int hotplug_start(void)</td>
  </tr>

    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L423" data-line-number="423"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-461787deb1478c0558b2372cbda28798R355" data-line-number="355"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 		<span class="pl-k">return</span> -EINVAL;</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L424" data-line-number="424"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-461787deb1478c0558b2372cbda28798R356" data-line-number="356"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 	}</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L425" data-line-number="425"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-461787deb1478c0558b2372cbda28798R357" data-line-number="357"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> </span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L426" data-line-number="426"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-	<span class="pl-c1">get_online_cpus</span>();</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L427" data-line-number="427"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-461787deb1478c0558b2372cbda28798R358" data-line-number="358"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 	<span class="pl-c1">for_each_possible_cpu</span>(cpu) {</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L428" data-line-number="428"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-		<span class="pl-k">struct</span> hotplug_cpuinfo *pcpu_info = <span class="pl-c1">NULL</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-461787deb1478c0558b2372cbda28798R359" data-line-number="359"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">struct</span> hotplug_cpuinfo *pcpu_info =</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-461787deb1478c0558b2372cbda28798R360" data-line-number="360"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			&amp;<span class="pl-c1">per_cpu</span>(ac_hp_cpuinfo, cpu);</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L429" data-line-number="429"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-461787deb1478c0558b2372cbda28798R361" data-line-number="361"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 		<span class="pl-k">struct</span> hotplug_cpuparm *pcpu_parm =</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L430" data-line-number="430"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-461787deb1478c0558b2372cbda28798R362" data-line-number="362"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 			&amp;<span class="pl-c1">per_cpu</span>(ac_hp_cpuparm, cpu);</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L431" data-line-number="431"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-		<span class="pl-k">unsigned</span> <span class="pl-k">int</span> prev_load;</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L432" data-line-number="432"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L433" data-line-number="433"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-		<span class="pl-k">if</span> (<span class="pl-c1">cpu_online</span>(cpu)) {</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L434" data-line-number="434"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-			pcpu_info = &amp;<span class="pl-c1">per_cpu</span>(ac_hp_cpuinfo, cpu);</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L435" data-line-number="435"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-			pcpu_info-&gt;prev_cpu_idle = <span class="pl-c1">get_cpu_idle_time</span>(cpu,</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L436" data-line-number="436"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-					&amp;pcpu_info-&gt;prev_cpu_wall,</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L437" data-line-number="437"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-					<span class="pl-c1">0</span>);</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L438" data-line-number="438"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-			pcpu_info-&gt;time_stamp = <span class="pl-c1">ktime_get</span>();</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L439" data-line-number="439"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-			prev_load = (<span class="pl-k">unsigned</span> <span class="pl-k">int</span>)</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L440" data-line-number="440"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-				(pcpu_info-&gt;prev_cpu_wall - pcpu_info-&gt;prev_cpu_idle);</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L441" data-line-number="441"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-			pcpu_info-&gt;prev_load = <span class="pl-c1">100</span> * prev_load /</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L442" data-line-number="442"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-					(<span class="pl-k">unsigned</span> <span class="pl-k">int</span>) pcpu_info-&gt;prev_cpu_wall;</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L443" data-line-number="443"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-		}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-461787deb1478c0558b2372cbda28798R363" data-line-number="363"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">ktime_t</span> now = <span class="pl-c1">ktime_get</span>();</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-461787deb1478c0558b2372cbda28798R364" data-line-number="364"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		pcpu_info = &amp;<span class="pl-c1">per_cpu</span>(ac_hp_cpuinfo, cpu);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-461787deb1478c0558b2372cbda28798R365" data-line-number="365"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		pcpu_info-&gt;load = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-461787deb1478c0558b2372cbda28798R366" data-line-number="366"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		pcpu_info-&gt;sampling_rate_us = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-461787deb1478c0558b2372cbda28798R367" data-line-number="367"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		pcpu_info-&gt;now = now;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-461787deb1478c0558b2372cbda28798R368" data-line-number="368"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		pcpu_info-&gt;pre = now;</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L444" data-line-number="444"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-461787deb1478c0558b2372cbda28798R369" data-line-number="369"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 		pcpu_parm-&gt;cur_up_rate = <span class="pl-c1">1</span>;</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L445" data-line-number="445"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-461787deb1478c0558b2372cbda28798R370" data-line-number="370"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 		pcpu_parm-&gt;cur_down_rate = <span class="pl-c1">1</span>;</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L446" data-line-number="446"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-461787deb1478c0558b2372cbda28798R371" data-line-number="371"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 	}</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L447" data-line-number="447"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-461787deb1478c0558b2372cbda28798R372" data-line-number="372"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 	last_online_cpus = <span class="pl-c1">num_online_cpus</span>();</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L448" data-line-number="448"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-	<span class="pl-c1 x x-first x-last">register_hotcpu_notifier</span>(&amp;alucard_hotplug_nb<span class="x x-first x-last">);</span></span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L449" data-line-number="449"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-	<span class="pl-c1 x x-first">put_online_cpus</span><span class="x x-last">(</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-461787deb1478c0558b2372cbda28798R373" data-line-number="373"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1 x x-first x-last">cpufreq_register_notifier</span>(&amp;alucard_hotplug_nb<span class="x x-first x-last">,</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-461787deb1478c0558b2372cbda28798R374" data-line-number="374"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="x x-first x-last">				CPUFREQ_GOVINFO_NOTIFIER</span>);</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L450" data-line-number="450"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-461787deb1478c0558b2372cbda28798R375" data-line-number="375"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> </span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L451" data-line-number="451"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-461787deb1478c0558b2372cbda28798R376" data-line-number="376"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 	delay = <span class="pl-c1">msecs_to_jiffies</span>(hotplug_tuners_ins.<span class="pl-smi">hotplug_sampling_rate</span>);</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L452" data-line-number="452"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-461787deb1478c0558b2372cbda28798R377" data-line-number="377"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 	<span class="pl-c">/*</span></span>

  </td>
</tr>


      <tr class="js-expandable-line" data-position="192">
    <td class="blob-num blob-num-expandable" colspan="2">
      <a href="#diff-461787deb1478c0558b2372cbda28798"
            class="diff-expander js-expand" title="Expand" aria-label="Expand"
            data-url="/Tkkg1994/StockKernel/blob_excerpt/27f70ce08601acdd11dddd986592ca61b649a844?diff=unified&amp;left_hunk_size=9&amp;mode=100644&amp;next_line_num_left=478&amp;next_line_num_right=403&amp;path=arch%2Farm%2Fmach-msm%2Falucard_hotplug.c&amp;prev_line_num_left=452&amp;prev_line_num_right=377&amp;right_hunk_size=8"
            data-left-range="453-477" data-right-range="378-402">
        <svg aria-hidden="true" class="octicon octicon-unfold" height="16" role="img" version="1.1" viewBox="0 0 14 16" width="14"><path d="M11.5 8.5l2.5 2.5c0 0.55-0.45 1-1 1H9v-1h3.5L10.5 9H3.5L1.5 11h3.5v1H1c-0.55 0-1-0.45-1-1l2.5-2.5L0 6c0-0.55 0.45-1 1-1h4v1H1.5l2 2h7l2-2H9v-1h4c0.55 0 1 0.45 1 1L11.5 8.5z m-5.5-1.5h2V4h2L7 1 4 4h2v3z m2 3H6v3H4l3 3 3-3H8V10z"></path></svg>
      </a>
    </td>
    <td class="blob-code blob-code-inner blob-code-hunk">@@ -478,9 +403,8 @@ static void hotplug_stop(void)</td>
  </tr>

    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L478" data-line-number="478"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-461787deb1478c0558b2372cbda28798R403" data-line-number="403"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 	notif.<span class="pl-smi">notifier_call</span> = <span class="pl-c1">NULL</span>;</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L479" data-line-number="479"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-461787deb1478c0558b2372cbda28798R404" data-line-number="404"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> #<span class="pl-k">endif</span></span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L480" data-line-number="480"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-461787deb1478c0558b2372cbda28798R405" data-line-number="405"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 	<span class="pl-c1">cancel_delayed_work_sync</span>(&amp;alucard_hotplug_work);</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L481" data-line-number="481"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-	<span class="pl-c1">get_online_cpus</span>();</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L482" data-line-number="482"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-	<span class="pl-c1">unregister_hotcpu_notifier</span>(&amp;alucard_hotplug_nb);</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L483" data-line-number="483"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-	<span class="pl-c1">put_online_cpus</span>();</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-461787deb1478c0558b2372cbda28798R406" data-line-number="406"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">cpufreq_unregister_notifier</span>(&amp;alucard_hotplug_nb,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-461787deb1478c0558b2372cbda28798R407" data-line-number="407"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+						CPUFREQ_GOVINFO_NOTIFIER);</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L484" data-line-number="484"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-461787deb1478c0558b2372cbda28798R408" data-line-number="408"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 	<span class="pl-c1">destroy_workqueue</span>(alucard_hp_wq);</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L485" data-line-number="485"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-461787deb1478c0558b2372cbda28798R409" data-line-number="409"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 	<span class="pl-c1">mutex_unlock</span>(&amp;alucard_hotplug_mutex);</span>

  </td>
</tr>


    <tr>
    <td id="diff-461787deb1478c0558b2372cbda28798L486" data-line-number="486"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-461787deb1478c0558b2372cbda28798R410" data-line-number="410"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> }</span>

  </td>
</tr>


  <tr class="js-expandable-line">
   <td class="blob-num blob-num-expandable" colspan="2">
     <a href="#diff-461787deb1478c0558b2372cbda28798"
          class="diff-expander js-expand" title="Expand" aria-label="Expand"
          data-url="/Tkkg1994/StockKernel/blob_excerpt/27f70ce08601acdd11dddd986592ca61b649a844?diff=unified&amp;mode=100644&amp;path=arch%2Farm%2Fmach-msm%2Falucard_hotplug.c&amp;prev_line_num_left=486&amp;prev_line_num_right=410"
          data-left-range="487-812"
          data-right-range="411-812">
       <svg aria-hidden="true" class="octicon octicon-unfold" height="16" role="img" version="1.1" viewBox="0 0 14 16" width="14"><path d="M11.5 8.5l2.5 2.5c0 0.55-0.45 1-1 1H9v-1h3.5L10.5 9H3.5L1.5 11h3.5v1H1c-0.55 0-1-0.45-1-1l2.5-2.5L0 6c0-0.55 0.45-1 1-1h4v1H1.5l2 2h7l2-2H9v-1h4c0.55 0 1 0.45 1 1L11.5 8.5z m-5.5-1.5h2V4h2L7 1 4 4h2v3z m2 3H6v3H4l3 3 3-3H8V10z"></path></svg>
     </a>
   </td>
   <td class="blob-code blob-code-expandable"></td>
  </tr>

              </table>
            </div>
      </div>

      <a name="diff-61f226c1c1f3a78524783445250fe875"></a>
      <div id="diff-2"
           class="file js-details-container
                   
                   
                   
                   
                   show-inline-notes
                 ">
        <div class="file-header" data-path="drivers/cpufreq/Kconfig">
          <div class="file-actions">
              <span class="show-file-notes">
                <label>
                  <input type="checkbox" checked="checked" class="js-toggle-file-notes">
                  Show notes
                </label>
              </span>

                <a href="/Tkkg1994/StockKernel/blob/cbf17b4b432bfe962ae330d9a86f8ded47d33b22/drivers/cpufreq/Kconfig" class="btn btn-sm tooltipped tooltipped-nw" rel="nofollow" aria-label="View the whole file at version cbf17b4 ">View</a>


          </div>
          <div class="file-info">
              <span class="diffstat tooltipped tooltipped-e" aria-label="600 additions &amp; 0 deletions">600 <span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span></span>

            <span class="user-select-contain" title="drivers/cpufreq/Kconfig">
              drivers/cpufreq/Kconfig
            </span>
            
          </div>
        </div>

            <div class="data highlight blob-wrapper">
              <table class="diff-table tab-size  " data-tab-size="8">
                
      <tr class="js-expandable-line" data-position="0">
    <td class="blob-num blob-num-expandable" colspan="2">
      <a href="#diff-61f226c1c1f3a78524783445250fe875"
            class="diff-expander js-expand" title="Expand" aria-label="Expand"
            data-url="/Tkkg1994/StockKernel/blob_excerpt/d7ae3641f39c6b0d742cf343c1fd3930671264a0?diff=unified&amp;left_hunk_size=6&amp;mode=100755&amp;next_line_num_left=114&amp;next_line_num_right=114&amp;path=drivers%2Fcpufreq%2FKconfig&amp;prev_line_num_left=&amp;prev_line_num_right=&amp;right_hunk_size=268"
            data-left-range="1-113" data-right-range="1-113">
        <svg aria-hidden="true" class="octicon octicon-unfold" height="16" role="img" version="1.1" viewBox="0 0 14 16" width="14"><path d="M11.5 8.5l2.5 2.5c0 0.55-0.45 1-1 1H9v-1h3.5L10.5 9H3.5L1.5 11h3.5v1H1c-0.55 0-1-0.45-1-1l2.5-2.5L0 6c0-0.55 0.45-1 1-1h4v1H1.5l2 2h7l2-2H9v-1h4c0.55 0 1 0.45 1 1L11.5 8.5z m-5.5-1.5h2V4h2L7 1 4 4h2v3z m2 3H6v3H4l3 3 3-3H8V10z"></path></svg>
      </a>
    </td>
    <td class="blob-code blob-code-inner blob-code-hunk">@@ -114,6 +114,268 @@ config CPU_FREQ_DEFAULT_GOV_INTERACTIVE</td>
  </tr>

    <tr>
    <td id="diff-61f226c1c1f3a78524783445250fe875L114" data-line-number="114"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R114" data-line-number="114"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 	  loading your cpufreq low-level hardware driver, using the</span>

  </td>
</tr>


    <tr>
    <td id="diff-61f226c1c1f3a78524783445250fe875L115" data-line-number="115"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R115" data-line-number="115"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 	  &#39;interactive&#39; governor for latency-sensitive workloads.</span>

  </td>
</tr>


    <tr>
    <td id="diff-61f226c1c1f3a78524783445250fe875L116" data-line-number="116"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R116" data-line-number="116"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> </span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R117" data-line-number="117"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+config CPU_FREQ_DEFAULT_GOV_ZZMOOVE</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R118" data-line-number="118"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	bool &quot;zzmoove&quot;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R119" data-line-number="119"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	select CPU_FREQ_GOV_ZZMOOVE</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R120" data-line-number="120"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	select CPU_FREQ_GOV_PERFORMANCE</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R121" data-line-number="121"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	help</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R122" data-line-number="122"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  Use the CPUFreq governor &#39;zzmoove&#39; as default, using predefined</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R123" data-line-number="123"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  frequency lookup tables and optimized scaling triggers instead of</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R124" data-line-number="124"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  % frequency steps to get smooth up/downscaling dependant on CPU load.</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R125" data-line-number="125"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R126" data-line-number="126"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+config CPU_FREQ_DEFAULT_GOV_IMPULSE</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R127" data-line-number="127"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	bool &quot;impulse&quot;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R128" data-line-number="128"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	depends on SCHED_FREQ_INPUT</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R129" data-line-number="129"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	select CPU_FREQ_GOV_IMPULSE</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R130" data-line-number="130"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	help</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R131" data-line-number="131"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  Use the CPUFreq governor &#39;impulse&#39; as default. This allows</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R132" data-line-number="132"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  you to get a full dynamic cpu frequency capable system by simply</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R133" data-line-number="133"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  loading your cpufreq low-level hardware driver, using the</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R134" data-line-number="134"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  &#39;impulse&#39; governor for latency-sensitive workloads.</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R135" data-line-number="135"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R136" data-line-number="136"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+config CPU_FREQ_DEFAULT_GOV_BARRY_ALLEN</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R137" data-line-number="137"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	bool &quot;barry_allen&quot;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R138" data-line-number="138"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	select CPU_FREQ_GOV_BARRY_ALLEN</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R139" data-line-number="139"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	help</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R140" data-line-number="140"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  Use the CPUFreq governor &#39;barry_allen&#39; as default. This allows</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R141" data-line-number="141"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  you to get a full dynamic cpu frequency capable system by simply</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R142" data-line-number="142"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  loading your cpufreq low-level hardware driver, using the</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R143" data-line-number="143"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  &#39;barry_allen&#39; governor for latency-sensitive workloads.</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R144" data-line-number="144"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R145" data-line-number="145"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+config CPU_FREQ_DEFAULT_GOV_NIGHTMARE</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R146" data-line-number="146"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	bool &quot;nightmare&quot;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R147" data-line-number="147"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	select CPU_FREQ_GOV_NIGHTMARE</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R148" data-line-number="148"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	help</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R149" data-line-number="149"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  Use the CPUFreq governor &#39;Nightmare&#39; as default.</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R150" data-line-number="150"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R151" data-line-number="151"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+config CPU_FREQ_DEFAULT_GOV_DARKNESS</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R152" data-line-number="152"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	bool &quot;darkness&quot;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R153" data-line-number="153"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	select CPU_FREQ_GOV_DARKNESS</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R154" data-line-number="154"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	help</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R155" data-line-number="155"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  Use the CPUFreq governor &#39;Darkness&#39; as default.</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R156" data-line-number="156"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R157" data-line-number="157"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+config CPU_FREQ_DEFAULT_GOV_PEGASUSQ</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R158" data-line-number="158"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	bool &quot;pegasusq&quot;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R159" data-line-number="159"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	select CPU_FREQ_GOV_PEGASUSQ</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R160" data-line-number="160"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	help</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R161" data-line-number="161"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  Use the CPUFreq governor &#39;pegasusq&#39; as default.</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R162" data-line-number="162"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R163" data-line-number="163"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+config CPU_FREQ_DEFAULT_GOV_YANKACTIVE</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R164" data-line-number="164"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	bool &quot;yankactive&quot;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R165" data-line-number="165"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	select CPU_FREQ_GOV_YANKACTIVE</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R166" data-line-number="166"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	help</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R167" data-line-number="167"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  Use the CPUFreq governor &#39;yankactive&#39; as default. This allows</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R168" data-line-number="168"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  you to get a full dynamic cpu frequency capable system by simply</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R169" data-line-number="169"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  loading your cpufreq low-level hardware driver, using the</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R170" data-line-number="170"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  &#39;yankactive&#39; governor for latency-sensitive workloads.</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R171" data-line-number="171"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R172" data-line-number="172"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+config CPU_FREQ_DEFAULT_GOV_INTELLIACTIVE</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R173" data-line-number="173"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	bool &quot;intelliactive&quot;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R174" data-line-number="174"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	select CPU_FREQ_GOV_INTELLIACTIVE</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R175" data-line-number="175"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	help</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R176" data-line-number="176"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  Use the CPUFreq governor &#39;intelliactive&#39; as default. This allows</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R177" data-line-number="177"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  you to get a full dynamic cpu frequency capable system by simply</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R178" data-line-number="178"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  loading your cpufreq low-level hardware driver, using the</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R179" data-line-number="179"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  &#39;interactive&#39; governor for latency-sensitive workloads.</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R180" data-line-number="180"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R181" data-line-number="181"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+config CPU_FREQ_DEFAULT_GOV_ONDEMANDPLUS</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R182" data-line-number="182"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	bool &quot;ondemandplus&quot;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R183" data-line-number="183"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	select CPU_FREQ_GOV_ONDEMANDPLUS</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R184" data-line-number="184"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	select CPU_FREQ_GOV_PERFORMANCE</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R185" data-line-number="185"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	help</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R186" data-line-number="186"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  Use the CPUFreq governor &#39;ondemandplus&#39; as default. This allows</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R187" data-line-number="187"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  you to get a full dynamic frequency capable system by simply</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R188" data-line-number="188"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  loading your cpufreq low-level hardware driver.</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R189" data-line-number="189"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  Be aware that not all cpufreq drivers support the ondemandplus</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R190" data-line-number="190"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  governor. If unsure have a look at the help section of the</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R191" data-line-number="191"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  driver. Fallback governor will be the performance governor.</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R192" data-line-number="192"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R193" data-line-number="193"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+config CPU_FREQ_DEFAULT_GOV_INTERACTIVE_PRO</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R194" data-line-number="194"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	bool &quot;interactive_pro&quot;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R195" data-line-number="195"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	depends on SCHED_FREQ_INPUT</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R196" data-line-number="196"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	select CPU_FREQ_GOV_INTERACTIVE_PRO</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R197" data-line-number="197"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	help</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R198" data-line-number="198"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  Use the CPUFreq governor &#39;interactive_pro&#39; as default.</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R199" data-line-number="199"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R200" data-line-number="200"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+config CPU_FREQ_DEFAULT_GOV_INTELLIMM</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R201" data-line-number="201"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+       bool &quot;intelliminmax&quot;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R202" data-line-number="202"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+       select CPU_FREQ_GOV_INTELLIMM</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R203" data-line-number="203"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+       help</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R204" data-line-number="204"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+         Use the CPUFreq governor &#39;intelliminmax&#39; as default. This is</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R205" data-line-number="205"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+         governor will use only 3 different frequencies, idle, UI and max</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R206" data-line-number="206"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R207" data-line-number="207"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+config CPU_FREQ_DEFAULT_GOV_UMBRELLA_CORE</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R208" data-line-number="208"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	bool &quot;umbrella_core&quot;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R209" data-line-number="209"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	select CPU_FREQ_GOV_UMBRELLA_CORE</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R210" data-line-number="210"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	help</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R211" data-line-number="211"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  Use the CPUFreq governor &#39;umbrella_core&#39; as default. This allows</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R212" data-line-number="212"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  you to get a full dynamic cpu frequency capable system by simply</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R213" data-line-number="213"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  loading your cpufreq low-level hardware driver, using the</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R214" data-line-number="214"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  &#39;umbrella_core&#39; governor for latency-sensitive workloads.</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R215" data-line-number="215"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R216" data-line-number="216"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+config CPU_FREQ_DEFAULT_GOV_BIOSHOCK</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R217" data-line-number="217"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	bool &quot;BioShock&quot;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R218" data-line-number="218"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	select CPU_FREQ_GOV_BIOSHOCK</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R219" data-line-number="219"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	help</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R220" data-line-number="220"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  Default governor of BioShock kernel</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R221" data-line-number="221"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R222" data-line-number="222"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+config CPU_FREQ_DEFAULT_GOV_RACCOON_CITY</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R223" data-line-number="223"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	bool &quot;raccoon_city&quot;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R224" data-line-number="224"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	select CPU_FREQ_GOV_RACCOON_CITY</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R225" data-line-number="225"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	help</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R226" data-line-number="226"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  Use the CPUFreq governor &#39;raccoon_city&#39; as default. This sets</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R227" data-line-number="227"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  the frequency statically to the lowest frequency supported by</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R228" data-line-number="228"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  the CPU, while considering battery life to prevent unnecessary</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R229" data-line-number="229"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  drain during suspend.</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R230" data-line-number="230"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R231" data-line-number="231"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+config CPU_FREQ_DEFAULT_GOV_LIONHEART</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R232" data-line-number="232"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	bool &quot;lionheart&quot;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R233" data-line-number="233"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	select CPU_FREQ_GOV_LIONHEART</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R234" data-line-number="234"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	help</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R235" data-line-number="235"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  Use the CPUFreq governor &#39;lionheart&#39; as default.</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R236" data-line-number="236"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R237" data-line-number="237"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+config CPU_FREQ_DEFAULT_GOV_SMARTMAX</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R238" data-line-number="238"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	bool &quot;smartmax&quot;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R239" data-line-number="239"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	select CPU_FREQ_GOV_SMARTMAX</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R240" data-line-number="240"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	help</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R241" data-line-number="241"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  Use the CPUFreq governor &#39;smartmax&#39; as default.</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R242" data-line-number="242"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R243" data-line-number="243"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+config CPU_FREQ_DEFAULT_GOV_SMARTASS2</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R244" data-line-number="244"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	bool &quot;smartassV2&quot;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R245" data-line-number="245"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	select CPU_FREQ_GOV_SMARTASS2</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R246" data-line-number="246"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	help</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R247" data-line-number="247"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  Use the CPUFreq governor &#39;smartass2&#39; as default.</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R248" data-line-number="248"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R249" data-line-number="249"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+config CPU_FREQ_DEFAULT_GOV_IRONACTIVE</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R250" data-line-number="250"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	bool &quot;ironactive&quot;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R251" data-line-number="251"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	depends on SCHED_FREQ_INPUT</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R252" data-line-number="252"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	select CPU_FREQ_GOV_IRONACTIVE</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R253" data-line-number="253"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	help</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R254" data-line-number="254"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  Use the CPUFreq governor &#39;ironactive&#39; as default. This cpugovernor</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R255" data-line-number="255"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  is based on the &#39;interactive&#39; governor with many changes made by</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R256" data-line-number="256"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  CAF.</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R257" data-line-number="257"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R258" data-line-number="258"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+config CPU_FREQ_DEFAULT_GOV_SMARTMAX_EPS</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R259" data-line-number="259"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	bool &quot;smartmax_eps&quot;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R260" data-line-number="260"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	select CPU_FREQ_GOV_SMARTMAX_EPS</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R261" data-line-number="261"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	help</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R262" data-line-number="262"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  Use the CPUFreq governor &#39;smartmax eps&#39; as default</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R263" data-line-number="263"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R264" data-line-number="264"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+config CPU_FREQ_DEFAULT_GOV_ALUCARD</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R265" data-line-number="265"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	bool &quot;alucard&quot;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R266" data-line-number="266"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	select CPU_FREQ_GOV_ALUCARD</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R267" data-line-number="267"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	help</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R268" data-line-number="268"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R269" data-line-number="269"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+config CPU_FREQ_DEFAULT_GOV_ELEMENTALX</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R270" data-line-number="270"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	bool &quot;elementalx&quot;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R271" data-line-number="271"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	select CPU_FREQ_GOV_ELEMENTALX</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R272" data-line-number="272"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	select CPU_FREQ_GOV_PERFORMANCE</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R273" data-line-number="273"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	help</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R274" data-line-number="274"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  Use the CPUFreq governor &#39;elementalx&#39; as default.</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R275" data-line-number="275"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R276" data-line-number="276"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+config CPU_FREQ_DEFAULT_GOV_BLU_ACTIVE</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R277" data-line-number="277"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	bool &quot;blu_active&quot;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R278" data-line-number="278"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	select CPU_FREQ_GOV_BLU_ACTIVE</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R279" data-line-number="279"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	help</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R280" data-line-number="280"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  Use the CPUFreq governor &#39;blu_active&#39; as default. This allows</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R281" data-line-number="281"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  you to get a full dynamic cpu frequency capable system by simply</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R282" data-line-number="282"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  loading your cpufreq low-level hardware driver, using the</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R283" data-line-number="283"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  &#39;interactive&#39; governor for latency-sensitive workloads.</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R284" data-line-number="284"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R285" data-line-number="285"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+config CPU_FREQ_DEFAULT_GOV_CAFACTIVE</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R286" data-line-number="286"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	bool &quot;cafactive&quot;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R287" data-line-number="287"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	select CPU_FREQ_GOV_CAFACTIVE</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R288" data-line-number="288"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	help</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R289" data-line-number="289"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  Use the CPUFreq governor &#39;cafactive&#39; as default. This allows</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R290" data-line-number="290"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  you to get a full dynamic cpu frequency capable system by simply</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R291" data-line-number="291"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  loading your cpufreq low-level hardware driver, using the</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R292" data-line-number="292"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  &#39;cafactive&#39; governor for latency-sensitive workloads.</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R293" data-line-number="293"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R294" data-line-number="294"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+config CPU_FREQ_DEFAULT_GOV_ELECTROACTIVE</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R295" data-line-number="295"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	bool &quot;electroactive&quot;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R296" data-line-number="296"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	select CPU_FREQ_GOV_ELECTROACTIVE</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R297" data-line-number="297"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+        select CPU_FREQ_GOV_PERFORMANCE</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R298" data-line-number="298"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	help</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R299" data-line-number="299"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  Use the CPUFreq governor &#39;electroactive&#39; as default. This allows</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R300" data-line-number="300"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  you to get a full dynamic cpu frequency capable system by simply</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R301" data-line-number="301"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  loading your cpufreq low-level hardware driver, using the</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R302" data-line-number="302"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  &#39;electroactive&#39; governor for latency-sensitive workloads.</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R303" data-line-number="303"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R304" data-line-number="304"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R305" data-line-number="305"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+config CPU_FREQ_DEFAULT_GOV_ELECTRODEMAND</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R306" data-line-number="306"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	bool &quot;electrodemand&quot;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R307" data-line-number="307"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	select CPU_FREQ_GOV_ELECTRODEMAND</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R308" data-line-number="308"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+        select CPU_FREQ_GOV_PERFORMANCE</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R309" data-line-number="309"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	help</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R310" data-line-number="310"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  Use the CPUFreq governor &#39;electrodemand&#39; as default. This allows</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R311" data-line-number="311"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  you to get a full dynamic cpu frequency capable system by simply</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R312" data-line-number="312"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  loading your cpufreq low-level hardware driver, using the</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R313" data-line-number="313"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  &#39;electrodemand&#39; governor for latency-sensitive workloads.</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R314" data-line-number="314"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R315" data-line-number="315"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+config CPU_FREQ_DEFAULT_GOV_ONDEMAND_X</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R316" data-line-number="316"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	bool &quot;ondemand_x&quot;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R317" data-line-number="317"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	select CPU_FREQ_GOV_ONDEMAND_X</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R318" data-line-number="318"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	select CPU_FREQ_GOV_PERFORMANCE</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R319" data-line-number="319"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	help</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R320" data-line-number="320"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  Use the CPUFreq governor &#39;ondemand_x&#39; as default. This allows</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R321" data-line-number="321"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  you to get a full dynamic frequency capable system by simply</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R322" data-line-number="322"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  loading your cpufreq low-level hardware driver.</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R323" data-line-number="323"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  Be aware that not all cpufreq drivers support the ondemand_x</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R324" data-line-number="324"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  governor. If unsure have a look at the help section of the</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R325" data-line-number="325"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  driver. Fallback governor will be the performance governor.</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R326" data-line-number="326"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R327" data-line-number="327"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+config CPU_FREQ_DEFAULT_GOV_HYPER</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R328" data-line-number="328"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	bool &quot;HYPER&quot;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R329" data-line-number="329"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	select CPU_FREQ_GOV_HYPER</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R330" data-line-number="330"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	---help---</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R331" data-line-number="331"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  Use the CPUFreq governor &#39;HYPER&#39; as default.</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R332" data-line-number="332"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R333" data-line-number="333"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+config CPU_FREQ_DEFAULT_GOV_INTELLIDEMAND</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R334" data-line-number="334"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	bool &quot;intellidemand&quot;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R335" data-line-number="335"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	select CPU_FREQ_GOV_INTELLIDEMAND</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R336" data-line-number="336"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	help</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R337" data-line-number="337"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  Use the CPUFreq governor &#39;intellidemand&#39; as default. This is</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R338" data-line-number="338"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  based on Ondemand with browsing detection based on GPU loading</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R339" data-line-number="339"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R340" data-line-number="340"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+config CPU_FREQ_DEFAULT_GOV_DESPAIR</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R341" data-line-number="341"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	bool &quot;despair&quot;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R342" data-line-number="342"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	depends on TOUCHBOOST</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R343" data-line-number="343"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	select CPU_FREQ_GOV_DESPAIR</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R344" data-line-number="344"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	help</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R345" data-line-number="345"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R346" data-line-number="346"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+config CPU_FREQ_DEFAULT_GOV_HELLSACTIVE</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R347" data-line-number="347"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	bool &quot;hellsactive&quot;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R348" data-line-number="348"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	depends on TOUCHBOOST</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R349" data-line-number="349"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	select CPU_FREQ_GOV_HELLSACTIVE</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R350" data-line-number="350"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	help</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R351" data-line-number="351"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  Use the CPUFreq governor &#39;hellsactive&#39; as default. This allows</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R352" data-line-number="352"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  you to get a full dynamic cpu frequency capable system by simply</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R353" data-line-number="353"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  loading your cpufreq low-level hardware driver, using the</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R354" data-line-number="354"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  &#39;interactive&#39; governor for latency-sensitive workloads.</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R355" data-line-number="355"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R356" data-line-number="356"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+config CPU_FREQ_DEFAULT_GOV_INTERACTIVE_X</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R357" data-line-number="357"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	bool &quot;interactive_x&quot;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R358" data-line-number="358"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	depends on TOUCHBOOST</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R359" data-line-number="359"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	select CPU_FREQ_GOV_INTERACTIVE_X</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R360" data-line-number="360"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	help</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R361" data-line-number="361"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  Use the CPUFreq governor &#39;interactive_x&#39; as default. This allows</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R362" data-line-number="362"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  you to get a full dynamic cpu frequency capable system by simply</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R363" data-line-number="363"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  loading your cpufreq low-level hardware driver, using the</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R364" data-line-number="364"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  &#39;interactive&#39; governor for latency-sensitive workloads.</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R365" data-line-number="365"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R366" data-line-number="366"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+config CPU_FREQ_DEFAULT_GOV_CONSERVATIVE_X</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R367" data-line-number="367"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	bool &quot;conservative_x&quot;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R368" data-line-number="368"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	depends on TOUCHBOOST</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R369" data-line-number="369"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	select CPU_FREQ_GOV_CONSERVATIVE_X</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R370" data-line-number="370"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	select CPU_FREQ_GOV_PERFORMANCE</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R371" data-line-number="371"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	help</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R372" data-line-number="372"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  Use the CPUFreq governor &#39;conservative_x&#39; as default. This allows</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R373" data-line-number="373"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  you to get a full dynamic frequency capable system by simply</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R374" data-line-number="374"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  loading your cpufreq low-level hardware driver.</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R375" data-line-number="375"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  Be aware that not all cpufreq drivers support the conservative</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R376" data-line-number="376"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  governor. If unsure have a look at the help section of the</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R377" data-line-number="377"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  driver. Fallback governor will be the performance governor.</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R378" data-line-number="378"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td id="diff-61f226c1c1f3a78524783445250fe875L117" data-line-number="117"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R379" data-line-number="379"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> config CPU_FREQ_DEFAULT_GOV_ARTERACTIVE</span>

  </td>
</tr>


    <tr>
    <td id="diff-61f226c1c1f3a78524783445250fe875L118" data-line-number="118"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R380" data-line-number="380"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 	bool &quot;arteractive&quot;</span>

  </td>
</tr>


    <tr>
    <td id="diff-61f226c1c1f3a78524783445250fe875L119" data-line-number="119"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R381" data-line-number="381"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 	select CPU_FREQ_GOV_ARTERACTIVE</span>

  </td>
</tr>


      <tr class="js-expandable-line" data-position="269">
    <td class="blob-num blob-num-expandable" colspan="2">
      <a href="#diff-61f226c1c1f3a78524783445250fe875"
            class="diff-expander js-expand" title="Expand" aria-label="Expand"
            data-url="/Tkkg1994/StockKernel/blob_excerpt/d7ae3641f39c6b0d742cf343c1fd3930671264a0?diff=unified&amp;left_hunk_size=6&amp;mode=100755&amp;next_line_num_left=221&amp;next_line_num_right=483&amp;path=drivers%2Fcpufreq%2FKconfig&amp;prev_line_num_left=119&amp;prev_line_num_right=381&amp;right_hunk_size=344"
            data-left-range="120-220" data-right-range="382-482">
        <svg aria-hidden="true" class="octicon octicon-unfold" height="16" role="img" version="1.1" viewBox="0 0 14 16" width="14"><path d="M11.5 8.5l2.5 2.5c0 0.55-0.45 1-1 1H9v-1h3.5L10.5 9H3.5L1.5 11h3.5v1H1c-0.55 0-1-0.45-1-1l2.5-2.5L0 6c0-0.55 0.45-1 1-1h4v1H1.5l2 2h7l2-2H9v-1h4c0.55 0 1 0.45 1 1L11.5 8.5z m-5.5-1.5h2V4h2L7 1 4 4h2v3z m2 3H6v3H4l3 3 3-3H8V10z"></path></svg>
      </a>
    </td>
    <td class="blob-code blob-code-inner blob-code-hunk">@@ -221,6 +483,344 @@ config CPU_FREQ_GOV_CONSERVATIVE</td>
  </tr>

    <tr>
    <td id="diff-61f226c1c1f3a78524783445250fe875L221" data-line-number="221"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R483" data-line-number="483"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> </span>

  </td>
</tr>


    <tr>
    <td id="diff-61f226c1c1f3a78524783445250fe875L222" data-line-number="222"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R484" data-line-number="484"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 	  If in doubt, say N.</span>

  </td>
</tr>


    <tr>
    <td id="diff-61f226c1c1f3a78524783445250fe875L223" data-line-number="223"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R485" data-line-number="485"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> </span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R486" data-line-number="486"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+config CPU_FREQ_GOV_ZZMOOVE</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R487" data-line-number="487"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	tristate &quot;&#39;zzmoove&#39; cpufreq governor&quot;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R488" data-line-number="488"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	depends on CPU_FREQ</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R489" data-line-number="489"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	help</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R490" data-line-number="490"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  &#39;zzmoove&#39; - based on cpufreq_conservative, using predefined</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R491" data-line-number="491"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  frequency lookup tables and optimized scaling triggers instead of</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R492" data-line-number="492"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  % frequency steps to get smooth up/downscaling dependant on CPU load.</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R493" data-line-number="493"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  If in doubt, say N.</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R494" data-line-number="494"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R495" data-line-number="495"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+config CPU_FREQ_GOV_IMPULSE</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R496" data-line-number="496"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	tristate &quot;&#39;interactive&#39; cpufreq policy governor&quot;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R497" data-line-number="497"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	depends on SCHED_FREQ_INPUT</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R498" data-line-number="498"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	help</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R499" data-line-number="499"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  &#39;impulse&#39; - This driver adds a dynamic cpufreq policy governor</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R500" data-line-number="500"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  designed for latency-sensitive workloads.</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R501" data-line-number="501"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R502" data-line-number="502"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  If in doubt, say N.</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R503" data-line-number="503"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R504" data-line-number="504"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+config CPU_FREQ_GOV_BARRY_ALLEN</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R505" data-line-number="505"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	tristate &quot;&#39;barry_allen&#39; cpufreq policy governor&quot;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R506" data-line-number="506"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	help</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R507" data-line-number="507"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  &#39;barry_allen&#39; - This driver adds a dynamic cpufreq policy governor</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R508" data-line-number="508"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  designed for latency-sensitive workloads.</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R509" data-line-number="509"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R510" data-line-number="510"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  This governor attempts to reduce the latency of clock</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R511" data-line-number="511"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  increases so that the system is more responsive to</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R512" data-line-number="512"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  barry_allen workloads.</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R513" data-line-number="513"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R514" data-line-number="514"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  To compile this driver as a module, choose M here: the</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R515" data-line-number="515"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  module will be called cpufreq_barry_allen.</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R516" data-line-number="516"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R517" data-line-number="517"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  For details, take a look at linux/Documentation/cpu-freq.</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R518" data-line-number="518"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R519" data-line-number="519"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  If in doubt, say N.</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R520" data-line-number="520"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R521" data-line-number="521"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+config CPU_FREQ_GOV_NIGHTMARE</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R522" data-line-number="522"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	tristate &quot;&#39;nightmare&#39; cpufreq governor&quot;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R523" data-line-number="523"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	depends on CPU_FREQ</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R524" data-line-number="524"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R525" data-line-number="525"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+config CPU_FREQ_GOV_DARKNESS</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R526" data-line-number="526"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	tristate &quot;&#39;darkness&#39; cpufreq governor&quot;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R527" data-line-number="527"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	depends on CPU_FREQ</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R528" data-line-number="528"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R529" data-line-number="529"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+config CPU_FREQ_GOV_PEGASUSQ</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R530" data-line-number="530"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	tristate &quot;&#39;pegasusq&#39; cpufreq policy governor&quot;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R531" data-line-number="531"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R532" data-line-number="532"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+config CPU_FREQ_GOV_YANKACTIVE</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R533" data-line-number="533"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	tristate &quot;&#39;yankactive&#39; cpufreq policy governor&quot;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R534" data-line-number="534"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	help</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R535" data-line-number="535"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  &#39;yankactive&#39; - This driver adds a dynamic cpufreq policy governor</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R536" data-line-number="536"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  designed for latency-sensitive workloads.</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R537" data-line-number="537"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R538" data-line-number="538"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  The governor is based on interactive with just different default settings</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R539" data-line-number="539"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  and can be achieved using interactive with a script. This is added for</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R540" data-line-number="540"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  simplification purposes for myself.</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R541" data-line-number="541"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R542" data-line-number="542"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+config CPU_FREQ_GOV_INTELLIACTIVE</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R543" data-line-number="543"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	tristate &quot;&#39;intelliactive&#39; cpufreq policy governor&quot;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R544" data-line-number="544"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	help</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R545" data-line-number="545"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  &#39;intelliactive&#39; - This driver adds a dynamic cpufreq policy governor</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R546" data-line-number="546"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  designed for latency-sensitive workloads.</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R547" data-line-number="547"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R548" data-line-number="548"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  This governor attempts to reduce the latency of clock</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R549" data-line-number="549"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  increases so that the system is more responsive to</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R550" data-line-number="550"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  interactive workloads.</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R551" data-line-number="551"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R552" data-line-number="552"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  To compile this driver as a module, choose M here: the</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R553" data-line-number="553"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  module will be called cpufreq_interactive.</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R554" data-line-number="554"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R555" data-line-number="555"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  For details, take a look at linux/Documentation/cpu-freq.</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R556" data-line-number="556"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R557" data-line-number="557"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  If in doubt, say N.</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R558" data-line-number="558"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R559" data-line-number="559"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+config CPU_FREQ_GOV_ONDEMANDPLUS</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R560" data-line-number="560"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	tristate &quot;&#39;ondemandplus&#39; cpufreq policy governor&quot;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R561" data-line-number="561"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	select CPU_FREQ_TABLE</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R562" data-line-number="562"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	help</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R563" data-line-number="563"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  &#39;ondemandplus&#39; - This driver adds a dynamic cpufreq policy</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R564" data-line-number="564"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  governor. The governor does a periodic polling and</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R565" data-line-number="565"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  changes frequency based on the CPU utilization.</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R566" data-line-number="566"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  The support for this governor depends on CPU capability to</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R567" data-line-number="567"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  do fast frequency switching (i.e, very low latency frequency</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R568" data-line-number="568"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  transitions).</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R569" data-line-number="569"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  To compile this driver as a module, choose M here: the</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R570" data-line-number="570"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  module will be called cpufreq_ondemandplus.</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R571" data-line-number="571"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  For details, take a look at linux/Documentation/cpu-freq.</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R572" data-line-number="572"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  If in doubt, say N.</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R573" data-line-number="573"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R574" data-line-number="574"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+config CPU_FREQ_GOV_INTERACTIVE_PRO</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R575" data-line-number="575"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	tristate &quot;&#39;interactive_pro&#39; cpufreq governor&quot;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R576" data-line-number="576"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	depends on SCHED_FREQ_INPUT</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R577" data-line-number="577"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	depends on CPU_FREQ</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R578" data-line-number="578"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R579" data-line-number="579"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+config CPU_FREQ_GOV_INTELLIMM</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R580" data-line-number="580"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+       tristate &quot;&#39;intelliminmax&#39; cpufreq policy governor&quot;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R581" data-line-number="581"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+       help</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R582" data-line-number="582"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+         To compile this driver as a module, choose M here: the</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R583" data-line-number="583"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+         module will be called cpufreq_interactive.</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R584" data-line-number="584"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R585" data-line-number="585"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+         For details, take a look at linux/Documentation/cpu-freq.</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R586" data-line-number="586"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R587" data-line-number="587"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+         If in doubt, say N.</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R588" data-line-number="588"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R589" data-line-number="589"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+config CPU_FREQ_GOV_UMBRELLA_CORE</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R590" data-line-number="590"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	tristate &quot;&#39;umbrella_core&#39; cpufreq policy governor&quot;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R591" data-line-number="591"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	help</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R592" data-line-number="592"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  &#39;umbrella_core&#39; - This driver adds a dynamic cpufreq policy governor</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R593" data-line-number="593"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  designed for latency-sensitive workloads.</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R594" data-line-number="594"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R595" data-line-number="595"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  The governor is based on interactive to provide a resident controller</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R596" data-line-number="596"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  which interprets unnecessary battery drain as evil.</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R597" data-line-number="597"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R598" data-line-number="598"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+config CPU_FREQ_GOV_BIOSHOCK</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R599" data-line-number="599"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	tristate &quot;&#39;bioshock&#39; cpufreq bioshock&quot;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R600" data-line-number="600"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	depends on CPU_FREQ</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R601" data-line-number="601"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	help</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R602" data-line-number="602"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  &#39;bioshock&#39; - More aggressive version of conservative</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R603" data-line-number="603"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R604" data-line-number="604"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+config CPU_FREQ_GOV_RACCOON_CITY</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R605" data-line-number="605"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	tristate &quot;&#39;raccoon_city&#39; cpufreq policy governor&quot;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R606" data-line-number="606"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	help</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R607" data-line-number="607"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  &#39;raccoon_city&#39; - This driver adds a dynamic cpufreq policy governor</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R608" data-line-number="608"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  designed for latency-sensitive workloads.</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R609" data-line-number="609"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R610" data-line-number="610"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  The governor is based on interactive to provide a resident controller</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R611" data-line-number="611"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  which interprets unnecessary battery drain as evil.</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R612" data-line-number="612"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R613" data-line-number="613"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+config CPU_FREQ_GOV_LIONHEART</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R614" data-line-number="614"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	tristate &quot;&#39;lionheart&#39; cpufreq governor&quot;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R615" data-line-number="615"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	depends on CPU_FREQ</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R616" data-line-number="616"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	help</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R617" data-line-number="617"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  lionheart&#39; - a &quot;smart&quot; optimized governor!</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R618" data-line-number="618"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  If in doubt, say N.</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R619" data-line-number="619"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R620" data-line-number="620"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+config CPU_FREQ_GOV_SMARTMAX</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R621" data-line-number="621"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	tristate &quot;&#39;smartmax&#39; cpufreq governor&quot;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R622" data-line-number="622"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	depends on CPU_FREQ</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R623" data-line-number="623"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	help</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R624" data-line-number="624"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  &#39;smartmax&#39; - a &quot;smart&quot; optimized governor!</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R625" data-line-number="625"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  If in doubt, say N.</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R626" data-line-number="626"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R627" data-line-number="627"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+config CPU_FREQ_GOV_SMARTASS2</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R628" data-line-number="628"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	tristate &quot;&#39;smartassV2&#39; cpufreq governor&quot;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R629" data-line-number="629"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	depends on CPU_FREQ</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R630" data-line-number="630"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	help</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R631" data-line-number="631"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  &#39;smartassV2&#39; - a &quot;smart&quot; governor</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R632" data-line-number="632"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R633" data-line-number="633"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+config CPU_FREQ_GOV_IRONACTIVE</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R634" data-line-number="634"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	tristate &quot;&#39;ironactive&#39; cpufreq policy governor&quot;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R635" data-line-number="635"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	depends on SCHED_FREQ_INPUT</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R636" data-line-number="636"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	help</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R637" data-line-number="637"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  &#39;ironactive&#39; - This driver adds a dynamic cpufreq policy governor</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R638" data-line-number="638"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R639" data-line-number="639"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  This governor attempts to reduce the latency of clock</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R640" data-line-number="640"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  increases so that the system is more responsive to</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R641" data-line-number="641"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  ironactive workloads. Based on &#39;interactive&#39; governor</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R642" data-line-number="642"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  with many changes compared to our stock &#39;interactive&#39;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R643" data-line-number="643"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  governor we have from samsung. Mainly CAF changes.</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R644" data-line-number="644"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R645" data-line-number="645"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  To compile this driver as a module, choose M here: the</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R646" data-line-number="646"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  module will be called cpufreq_ironactive.</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R647" data-line-number="647"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R648" data-line-number="648"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  If in doubt, say N.</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R649" data-line-number="649"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R650" data-line-number="650"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+config CPU_FREQ_GOV_SMARTMAX_EPS</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R651" data-line-number="651"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	tristate &quot;&#39;smartmax EPS&#39; cpufreq policy governor&quot;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R652" data-line-number="652"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	select CPU_FREQ_TABLE</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R653" data-line-number="653"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	help</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R654" data-line-number="654"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  &#39;smartmax EPS&#39; is the extreme powersaving version of smartmax</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R655" data-line-number="655"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R656" data-line-number="656"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+config CPU_FREQ_GOV_ALUCARD</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R657" data-line-number="657"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	tristate &quot;&#39;alucard&#39; cpufreq governor&quot;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R658" data-line-number="658"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	depends on CPU_FREQ</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R659" data-line-number="659"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R660" data-line-number="660"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+config CPU_FREQ_GOV_ELEMENTALX</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R661" data-line-number="661"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	tristate &quot;&#39;elementalx&#39; cpufreq policy governor&quot;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R662" data-line-number="662"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	select CPU_FREQ_TABLE</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R663" data-line-number="663"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	help</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R664" data-line-number="664"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  &#39;elementalx&#39; - This driver adds a dynamic cpufreq policy governor.</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R665" data-line-number="665"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R666" data-line-number="666"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  To compile this driver as a module, choose M here: the</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R667" data-line-number="667"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  module will be called cpufreq_elementalx.</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R668" data-line-number="668"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R669" data-line-number="669"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  For details, take a look at linux/Documentation/cpu-freq.</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R670" data-line-number="670"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R671" data-line-number="671"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  If in doubt, say N.</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R672" data-line-number="672"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R673" data-line-number="673"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+config CPU_FREQ_GOV_BLU_ACTIVE</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R674" data-line-number="674"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	tristate &quot;&#39;blu_active&#39; cpufreq policy governor&quot;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R675" data-line-number="675"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	help</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R676" data-line-number="676"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  &#39;blu_active&#39; - This driver adds a dynamic cpufreq policy governor</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R677" data-line-number="677"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  interactive workloads.</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R678" data-line-number="678"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R679" data-line-number="679"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  To compile this driver as a module, choose M here: the</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R680" data-line-number="680"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  module will be called cpufreq_blu_active.</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R681" data-line-number="681"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  designed for latency-sensitive workloads.</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R682" data-line-number="682"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R683" data-line-number="683"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+config CPU_FREQ_GOV_CAFACTIVE</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R684" data-line-number="684"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	tristate &quot;&#39;cafactive&#39; cpufreq policy governor&quot;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R685" data-line-number="685"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	help</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R686" data-line-number="686"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  &#39;cafactive&#39; - CodeAurora(Qualcomm) version of interactive</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R687" data-line-number="687"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  cpufreq policy governor.</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R688" data-line-number="688"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R689" data-line-number="689"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  To compile this driver as a module, choose M here: the</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R690" data-line-number="690"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  module will be called cpufreq_cafactive.</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R691" data-line-number="691"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R692" data-line-number="692"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  If in doubt, say N.</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R693" data-line-number="693"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R694" data-line-number="694"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+config CPU_FREQ_GOV_ELECTROACTIVE</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R695" data-line-number="695"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	tristate &quot;&#39;electroactive&#39; cpufreq policy governor&quot;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R696" data-line-number="696"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+        select CPU_FREQ_TABLE</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R697" data-line-number="697"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	help</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R698" data-line-number="698"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  &#39;electroactive&#39; - A tweaked &quot;hybrid&quot; based smart and smooth optimized</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R699" data-line-number="699"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+           governor designed for optimization in transition and a balance between</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R700" data-line-number="700"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+           performance and power.</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R701" data-line-number="701"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R702" data-line-number="702"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	   If in doubt, say N.</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R703" data-line-number="703"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R704" data-line-number="704"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+config CPU_FREQ_GOV_ELECTRODEMAND</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R705" data-line-number="705"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	tristate &quot;&#39;electrodemand&#39; cpufreq policy governor&quot;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R706" data-line-number="706"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+        depends on CPU_FREQ</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R707" data-line-number="707"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	help</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R708" data-line-number="708"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  &#39;electrodemand&#39; - A tweaked &quot;ondemand&quot; based smart and smooth optimized</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R709" data-line-number="709"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+           governor designed for optimization in transition and a balance between</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R710" data-line-number="710"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+           performance and power.</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R711" data-line-number="711"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R712" data-line-number="712"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	   If in doubt, say N.</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R713" data-line-number="713"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R714" data-line-number="714"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+config CPU_FREQ_GOV_ONDEMAND_X</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R715" data-line-number="715"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	tristate &quot;&#39;ondemand_x&#39; cpufreq policy governor&quot;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R716" data-line-number="716"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	select CPU_FREQ_TABLE</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R717" data-line-number="717"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	help</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R718" data-line-number="718"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  &#39;ondemand_x&#39; - This driver adds a dynamic cpufreq policy governor.</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R719" data-line-number="719"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  The governor does a periodic polling and </span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R720" data-line-number="720"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  changes frequency based on the CPU utilization.</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R721" data-line-number="721"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  The support for this governor depends on CPU capability to</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R722" data-line-number="722"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  do fast frequency switching (i.e, very low latency frequency</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R723" data-line-number="723"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  transitions). </span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R724" data-line-number="724"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R725" data-line-number="725"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  To compile this driver as a module, choose M here: the</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R726" data-line-number="726"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  module will be called cpufreq_ondemand_x.</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R727" data-line-number="727"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R728" data-line-number="728"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  For details, take a look at linux/Documentation/cpu-freq.</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R729" data-line-number="729"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R730" data-line-number="730"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  If in doubt, say N.</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R731" data-line-number="731"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R732" data-line-number="732"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+config CPU_FREQ_GOV_HYPER</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R733" data-line-number="733"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	tristate &quot;&#39;HYPER&#39; cpufreq governor&quot;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R734" data-line-number="734"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	depends on CPU_FREQ</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R735" data-line-number="735"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	---help---</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R736" data-line-number="736"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  &#39;HYPER&#39; - a tweaked &quot;ondemand&quot; based smart and smooth optimized governor!</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R737" data-line-number="737"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R738" data-line-number="738"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  If in doubt, say Y</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R739" data-line-number="739"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R740" data-line-number="740"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+config CPU_FREQ_GOV_INTELLIDEMAND</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R741" data-line-number="741"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+        tristate &quot;&#39;intellidemand&#39; cpufreq policy governor&quot;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R742" data-line-number="742"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+        select CPU_FREQ_TABLE</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R743" data-line-number="743"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+        help</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R744" data-line-number="744"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+          &#39;intellidemand&#39; - This driver adds a dynamic cpufreq policy governor.</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R745" data-line-number="745"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+          The governor does a periodic polling and</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R746" data-line-number="746"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+          changes frequency based on the CPU utilization.</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R747" data-line-number="747"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+          The support for this governor depends on CPU capability to</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R748" data-line-number="748"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+          do fast frequency switching (i.e, very low latency frequency</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R749" data-line-number="749"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+          transitions). with browsing detection based on GPU loading</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R750" data-line-number="750"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R751" data-line-number="751"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+          To compile this driver as a module, choose M here: the</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R752" data-line-number="752"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+          module will be called cpufreq_ondemand.</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R753" data-line-number="753"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R754" data-line-number="754"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+          For details, take a look at linux/Documentation/cpu-freq.</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R755" data-line-number="755"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R756" data-line-number="756"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+          If in doubt, say N.</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R757" data-line-number="757"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R758" data-line-number="758"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+config CPU_FREQ_GOV_DESPAIR</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R759" data-line-number="759"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	tristate &quot;&#39;despair&#39; cpufreq governor&quot;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R760" data-line-number="760"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	depends on CPU_FREQ</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R761" data-line-number="761"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	depends on TOUCHBOOST</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R762" data-line-number="762"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R763" data-line-number="763"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+config CPU_FREQ_GOV_HELLSACTIVE</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R764" data-line-number="764"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	tristate &quot;&#39;hellsactive&#39; cpufreq policy governor&quot;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R765" data-line-number="765"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	depends on TOUCHBOOST</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R766" data-line-number="766"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	help</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R767" data-line-number="767"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  &#39;hellsactive&#39; - This driver adds a dynamic cpufreq policy governor</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R768" data-line-number="768"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  designed for latency-sensitive workloads.</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R769" data-line-number="769"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R770" data-line-number="770"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  This governor attempts to reduce the latency of clock</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R771" data-line-number="771"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  increases so that the system is more responsive to</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R772" data-line-number="772"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  interactive workloads.</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R773" data-line-number="773"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R774" data-line-number="774"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  To compile this driver as a module, choose M here: the</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R775" data-line-number="775"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  module will be called cpufreq_interactive.</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R776" data-line-number="776"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R777" data-line-number="777"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  For details, take a look at linux/Documentation/cpu-freq.</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R778" data-line-number="778"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R779" data-line-number="779"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  If in doubt, say N.</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R780" data-line-number="780"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R781" data-line-number="781"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+config CPU_FREQ_GOV_INTERACTIVE_X</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R782" data-line-number="782"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	tristate &quot;&#39;interactive_x&#39; cpufreq policy governor&quot;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R783" data-line-number="783"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	depends on TOUCHBOOST</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R784" data-line-number="784"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	help</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R785" data-line-number="785"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  &#39;interactive_x&#39; - This driver adds a dynamic cpufreq policy governor</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R786" data-line-number="786"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  designed for latency-sensitive workloads.</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R787" data-line-number="787"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R788" data-line-number="788"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  This governor attempts to reduce the latency of clock</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R789" data-line-number="789"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  increases so that the system is more responsive to</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R790" data-line-number="790"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  interactive workloads.</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R791" data-line-number="791"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R792" data-line-number="792"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  To compile this driver as a module, choose M here: the</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R793" data-line-number="793"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  module will be called cpufreq_interactive.</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R794" data-line-number="794"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R795" data-line-number="795"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  For details, take a look at linux/Documentation/cpu-freq.</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R796" data-line-number="796"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R797" data-line-number="797"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  If in doubt, say N.</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R798" data-line-number="798"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R799" data-line-number="799"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+config CPU_FREQ_GOV_CONSERVATIVE_X</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R800" data-line-number="800"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	tristate &quot;&#39;conservative_x&#39; cpufreq governor&quot;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R801" data-line-number="801"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	depends on CPU_FREQ</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R802" data-line-number="802"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	depends on TOUCHBOOST</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R803" data-line-number="803"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	select CPU_FREQ_GOV_COMMON</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R804" data-line-number="804"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	help</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R805" data-line-number="805"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  &#39;conservative_x&#39; - this driver is rather similar to the &#39;ondemand&#39;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R806" data-line-number="806"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  governor both in its source code and its purpose, the difference is</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R807" data-line-number="807"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  its optimisation for better suitability in a battery powered</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R808" data-line-number="808"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  environment.  The frequency is gracefully increased and decreased</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R809" data-line-number="809"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  rather than jumping to 100% when speed is required.</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R810" data-line-number="810"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R811" data-line-number="811"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  If you have a desktop machine then you should really be considering</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R812" data-line-number="812"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  the &#39;ondemand&#39; governor instead, however if you are using a laptop,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R813" data-line-number="813"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  PDA or even an AMD64 based computer (due to the unacceptable</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R814" data-line-number="814"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  step-by-step latency issues between the minimum and maximum frequency</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R815" data-line-number="815"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  transitions in the CPU) you will probably want to use this governor.</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R816" data-line-number="816"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R817" data-line-number="817"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  To compile this driver as a module, choose M here: the</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R818" data-line-number="818"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  module will be called cpufreq_conservative.</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R819" data-line-number="819"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R820" data-line-number="820"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  For details, take a look at linux/Documentation/cpu-freq.</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R821" data-line-number="821"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R822" data-line-number="822"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	  If in doubt, say N.</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R823" data-line-number="823"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td id="diff-61f226c1c1f3a78524783445250fe875L224" data-line-number="224"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R824" data-line-number="824"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> config CPU_FREQ_GOV_ARTERACTIVE</span>

  </td>
</tr>


    <tr>
    <td id="diff-61f226c1c1f3a78524783445250fe875L225" data-line-number="225"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R825" data-line-number="825"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 	tristate &quot;&#39;arteractive&#39; cpufreq policy governor&quot;</span>

  </td>
</tr>


    <tr>
    <td id="diff-61f226c1c1f3a78524783445250fe875L226" data-line-number="226"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-61f226c1c1f3a78524783445250fe875R826" data-line-number="826"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 	help</span>

  </td>
</tr>


  <tr class="js-expandable-line">
   <td class="blob-num blob-num-expandable" colspan="2">
     <a href="#diff-61f226c1c1f3a78524783445250fe875"
          class="diff-expander js-expand" title="Expand" aria-label="Expand"
          data-url="/Tkkg1994/StockKernel/blob_excerpt/d7ae3641f39c6b0d742cf343c1fd3930671264a0?diff=unified&amp;mode=100755&amp;path=drivers%2Fcpufreq%2FKconfig&amp;prev_line_num_left=226&amp;prev_line_num_right=826"
          data-left-range="227-957"
          data-right-range="827-957">
       <svg aria-hidden="true" class="octicon octicon-unfold" height="16" role="img" version="1.1" viewBox="0 0 14 16" width="14"><path d="M11.5 8.5l2.5 2.5c0 0.55-0.45 1-1 1H9v-1h3.5L10.5 9H3.5L1.5 11h3.5v1H1c-0.55 0-1-0.45-1-1l2.5-2.5L0 6c0-0.55 0.45-1 1-1h4v1H1.5l2 2h7l2-2H9v-1h4c0.55 0 1 0.45 1 1L11.5 8.5z m-5.5-1.5h2V4h2L7 1 4 4h2v3z m2 3H6v3H4l3 3 3-3H8V10z"></path></svg>
     </a>
   </td>
   <td class="blob-code blob-code-expandable"></td>
  </tr>

              </table>
            </div>
      </div>

      <a name="diff-ba85cd02ff38397bfd6c84c770d5a699"></a>
      <div id="diff-3"
           class="file js-details-container
                   
                   
                   
                   
                   show-inline-notes
                 ">
        <div class="file-header" data-path="drivers/cpufreq/Makefile">
          <div class="file-actions">
              <span class="show-file-notes">
                <label>
                  <input type="checkbox" checked="checked" class="js-toggle-file-notes">
                  Show notes
                </label>
              </span>

                <a href="/Tkkg1994/StockKernel/blob/cbf17b4b432bfe962ae330d9a86f8ded47d33b22/drivers/cpufreq/Makefile" class="btn btn-sm tooltipped tooltipped-nw" rel="nofollow" aria-label="View the whole file at version cbf17b4 ">View</a>


          </div>
          <div class="file-info">
              <span class="diffstat tooltipped tooltipped-e" aria-label="44 additions &amp; 12 deletions">56 <span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-deleted"></span><span class="block-diff-neutral"></span></span>

            <span class="user-select-contain" title="drivers/cpufreq/Makefile">
              drivers/cpufreq/Makefile
            </span>
            
          </div>
        </div>

            <div class="data highlight blob-wrapper">
              <table class="diff-table tab-size  " data-tab-size="8">
                
      <tr data-position="0">
    <td id="diff-ba85cd02ff38397bfd6c84c770d5a699L0" class="blob-num blob-num-hunk non-expandable" data-line-number="..."></td>
    <td id="diff-ba85cd02ff38397bfd6c84c770d5a699R0" class="blob-num blob-num-hunk non-expandable" data-line-number="..."></td>
    <td class="blob-code blob-code-inner blob-code-hunk">@@ -1,22 +1,54 @@</td>
  </tr>

    <tr>
    <td id="diff-ba85cd02ff38397bfd6c84c770d5a699L1" data-line-number="1"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-ba85cd02ff38397bfd6c84c770d5a699R1" data-line-number="1"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> <span class="pl-c"># CPUfreq core</span></span>

  </td>
</tr>


    <tr>
    <td id="diff-ba85cd02ff38397bfd6c84c770d5a699L2" data-line-number="2"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-<span class="pl-smi">obj-$(CONFIG_CPU_FREQ)</span>			+= cpufreq.o freq_table.o</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba85cd02ff38397bfd6c84c770d5a699R2" data-line-number="2"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-smi">obj-$(CONFIG_CPU_FREQ)</span>			<span class="x x-first x-last">	</span>+= cpufreq.o freq_table.o</span>

  </td>
</tr>


    <tr>
    <td id="diff-ba85cd02ff38397bfd6c84c770d5a699L3" data-line-number="3"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-ba85cd02ff38397bfd6c84c770d5a699R3" data-line-number="3"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> <span class="pl-c"># CPUfreq stats</span></span>

  </td>
</tr>


    <tr>
    <td id="diff-ba85cd02ff38397bfd6c84c770d5a699L4" data-line-number="4"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-<span class="pl-smi">obj-$(CONFIG_CPU_FREQ_STAT)</span>             += cpufreq_stats.o</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba85cd02ff38397bfd6c84c770d5a699R4" data-line-number="4"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-smi">obj-$(CONFIG_CPU_FREQ_STAT)</span>             <span class="x x-first x-last">	</span>+= cpufreq_stats.o</span>

  </td>
</tr>


    <tr>
    <td id="diff-ba85cd02ff38397bfd6c84c770d5a699L5" data-line-number="5"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-ba85cd02ff38397bfd6c84c770d5a699R5" data-line-number="5"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> <span class="pl-c"># CPUfreq limit</span></span>

  </td>
</tr>


    <tr>
    <td id="diff-ba85cd02ff38397bfd6c84c770d5a699L6" data-line-number="6"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-<span class="pl-smi">obj-$(CONFIG_CPU_FREQ_LIMIT)</span>		+= cpufreq_limit.o</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba85cd02ff38397bfd6c84c770d5a699R6" data-line-number="6"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-smi">obj-$(CONFIG_CPU_FREQ_LIMIT)</span>		<span class="x x-first x-last">	</span>+= cpufreq_limit.o</span>

  </td>
</tr>


    <tr>
    <td id="diff-ba85cd02ff38397bfd6c84c770d5a699L7" data-line-number="7"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-ba85cd02ff38397bfd6c84c770d5a699R7" data-line-number="7"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> </span>

  </td>
</tr>


    <tr>
    <td id="diff-ba85cd02ff38397bfd6c84c770d5a699L8" data-line-number="8"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-ba85cd02ff38397bfd6c84c770d5a699R8" data-line-number="8"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> <span class="pl-c"># CPUfreq governors </span></span>

  </td>
</tr>


    <tr>
    <td id="diff-ba85cd02ff38397bfd6c84c770d5a699L9" data-line-number="9"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-<span class="pl-smi">obj-$(CONFIG_CPU_FREQ_GOV_PERFORMANCE)</span>	+= cpufreq_performance.o</span>

  </td>
</tr>


    <tr>
    <td id="diff-ba85cd02ff38397bfd6c84c770d5a699L10" data-line-number="10"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-<span class="pl-smi">obj-$(CONFIG_CPU_FREQ_GOV_POWERSAVE)</span>	+= cpufreq_powersave.o</span>

  </td>
</tr>


    <tr>
    <td id="diff-ba85cd02ff38397bfd6c84c770d5a699L11" data-line-number="11"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-<span class="pl-smi">obj-$(CONFIG_CPU_FREQ_GOV_USERSPACE)</span>	+= cpufreq_userspace.o</span>

  </td>
</tr>


    <tr>
    <td id="diff-ba85cd02ff38397bfd6c84c770d5a699L12" data-line-number="12"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-<span class="pl-smi">obj-$(CONFIG_CPU_FREQ_GOV_ONDEMAND)</span>	+= cpufreq_ondemand.o</span>

  </td>
</tr>


    <tr>
    <td id="diff-ba85cd02ff38397bfd6c84c770d5a699L13" data-line-number="13"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-<span class="pl-smi">obj-$(CONFIG_CPU_FREQ_GOV_CONSERVATIVE)</span>	+= cpufreq_conservative.o</span>

  </td>
</tr>


    <tr>
    <td id="diff-ba85cd02ff38397bfd6c84c770d5a699L14" data-line-number="14"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-<span class="pl-smi">obj-$(CONFIG_CPU_FREQ_GOV_INTERACTIVE)</span>	+= cpufreq_interactive.o</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba85cd02ff38397bfd6c84c770d5a699R9" data-line-number="9"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-smi">obj-$(CONFIG_CPU_FREQ_GOV_ALUCARD)</span>		+= cpufreq_alucard.o</span>

  </td>
</tr>


    <tr>
    <td id="diff-ba85cd02ff38397bfd6c84c770d5a699L15" data-line-number="15"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-ba85cd02ff38397bfd6c84c770d5a699R10" data-line-number="10"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> <span class="pl-smi">obj-$(CONFIG_CPU_FREQ_GOV_ARTERACTIVE)</span>	+= cpufreq_arteractive.o</span>

  </td>
</tr>


    <tr>
    <td id="diff-ba85cd02ff38397bfd6c84c770d5a699L16" data-line-number="16"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-<span class="pl-smi">obj-$(CONFIG_CPU_FREQ_GOV_COMMON)</span>	+= cpufreq_governor.o</span>

  </td>
</tr>


    <tr>
    <td id="diff-ba85cd02ff38397bfd6c84c770d5a699L17" data-line-number="17"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-<span class="pl-smi">obj-$(CONFIG_CPU_BOOST)</span>			+= cpu-boost.o</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba85cd02ff38397bfd6c84c770d5a699R11" data-line-number="11"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-smi">obj-$(CONFIG_CPU_FREQ_GOV_BARRY_ALLEN)</span>		+= cpufreq_barry_allen.o</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba85cd02ff38397bfd6c84c770d5a699R12" data-line-number="12"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-smi">obj-$(CONFIG_CPU_FREQ_GOV_BIOSHOCK)</span>		+= cpufreq_bioshock.o</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba85cd02ff38397bfd6c84c770d5a699R13" data-line-number="13"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-smi">obj-$(CONFIG_CPU_FREQ_GOV_BLU_ACTIVE)</span>		+= cpufreq_blu_active.o</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba85cd02ff38397bfd6c84c770d5a699R14" data-line-number="14"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-smi">obj-$(CONFIG_CPU_FREQ_GOV_CAFACTIVE)</span>		+= cpufreq_cafactive.o</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba85cd02ff38397bfd6c84c770d5a699R15" data-line-number="15"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-smi">obj-$(CONFIG_CPU_FREQ_GOV_CONSERVATIVE)</span>		+= cpufreq_conservative.o</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba85cd02ff38397bfd6c84c770d5a699R16" data-line-number="16"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-smi">obj-$(CONFIG_CPU_FREQ_GOV_CONSERVATIVE_X)</span>	+= cpufreq_conservative_x.o</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba85cd02ff38397bfd6c84c770d5a699R17" data-line-number="17"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-smi">obj-$(CONFIG_CPU_FREQ_GOV_DARKNESS)</span>		+= cpufreq_darkness.o</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba85cd02ff38397bfd6c84c770d5a699R18" data-line-number="18"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-smi">obj-$(CONFIG_CPU_FREQ_GOV_DESPAIR)</span>		+= cpufreq_despair.o</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba85cd02ff38397bfd6c84c770d5a699R19" data-line-number="19"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-smi">obj-$(CONFIG_CPU_FREQ_GOV_ELECTROACTIVE)</span>	+= cpufreq_electroactive.o</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba85cd02ff38397bfd6c84c770d5a699R20" data-line-number="20"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-smi">obj-$(CONFIG_CPU_FREQ_GOV_ELECTRODEMAND)</span>	+= cpufreq_electrodemand.o</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba85cd02ff38397bfd6c84c770d5a699R21" data-line-number="21"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-smi">obj-$(CONFIG_CPU_FREQ_GOV_ELEMENTALX)</span>		+= cpufreq_elementalx.o</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba85cd02ff38397bfd6c84c770d5a699R22" data-line-number="22"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-smi">obj-$(CONFIG_CPU_FREQ_GOV_HELLSACTIVE)</span>		+= cpufreq_hellsactive.o</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba85cd02ff38397bfd6c84c770d5a699R23" data-line-number="23"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-smi">obj-$(CONFIG_CPU_FREQ_GOV_HYPER)</span>		+= cpufreq_HYPER.o</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba85cd02ff38397bfd6c84c770d5a699R24" data-line-number="24"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-smi">obj-$(CONFIG_CPU_FREQ_GOV_IMPULSE)</span>		+= cpufreq_impulse.o</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba85cd02ff38397bfd6c84c770d5a699R25" data-line-number="25"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-smi">obj-$(CONFIG_CPU_FREQ_GOV_INTELLIDEMAND)</span>	+= cpufreq_intellidemand.o</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba85cd02ff38397bfd6c84c770d5a699R26" data-line-number="26"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-smi">obj-$(CONFIG_CPU_FREQ_GOV_INTELLIACTIVE)</span>	+= cpufreq_intelliactive.o</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba85cd02ff38397bfd6c84c770d5a699R27" data-line-number="27"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-smi">obj-$(CONFIG_CPU_FREQ_GOV_INTERACTIVE)</span>		+= cpufreq_interactive.o</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba85cd02ff38397bfd6c84c770d5a699R28" data-line-number="28"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-smi">obj-$(CONFIG_CPU_FREQ_GOV_INTERACTIVE_PRO)</span>	+= cpufreq_interactive_pro.o</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba85cd02ff38397bfd6c84c770d5a699R29" data-line-number="29"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-smi">obj-$(CONFIG_CPU_FREQ_GOV_INTERACTIVE_X)</span>	+= cpufreq_interactive_x.o</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba85cd02ff38397bfd6c84c770d5a699R30" data-line-number="30"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-smi">obj-$(CONFIG_CPU_FREQ_GOV_INTELLIMM)</span>	        += cpufreq_intellimm.o</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba85cd02ff38397bfd6c84c770d5a699R31" data-line-number="31"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-smi">obj-$(CONFIG_CPU_FREQ_GOV_IRONACTIVE)</span>		+= cpufreq_ironactive.o</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba85cd02ff38397bfd6c84c770d5a699R32" data-line-number="32"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-smi">obj-$(CONFIG_CPU_FREQ_GOV_LIONHEART)</span>		+= cpufreq_lionheart.o</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba85cd02ff38397bfd6c84c770d5a699R33" data-line-number="33"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-smi">obj-$(CONFIG_CPU_FREQ_GOV_NIGHTMARE)</span>		+= cpufreq_nightmare.o</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba85cd02ff38397bfd6c84c770d5a699R34" data-line-number="34"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-smi">obj-$(CONFIG_CPU_FREQ_GOV_ONDEMAND)</span>		+= cpufreq_ondemand.o</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba85cd02ff38397bfd6c84c770d5a699R35" data-line-number="35"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-smi">obj-$(CONFIG_CPU_FREQ_GOV_ONDEMANDPLUS)</span>		+= cpufreq_ondemandplus.o</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba85cd02ff38397bfd6c84c770d5a699R36" data-line-number="36"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-smi">obj-$(CONFIG_CPU_FREQ_GOV_ONDEMAND_X)</span>		+= cpufreq_ondemand_x.o</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba85cd02ff38397bfd6c84c770d5a699R37" data-line-number="37"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-smi">obj-$(CONFIG_CPU_FREQ_GOV_PEGASUSQ)</span>		+= cpufreq_pegasusq.o</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba85cd02ff38397bfd6c84c770d5a699R38" data-line-number="38"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-smi">obj-$(CONFIG_CPU_FREQ_GOV_PERFORMANCE)</span>		+= cpufreq_performance.o</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba85cd02ff38397bfd6c84c770d5a699R39" data-line-number="39"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-smi">obj-$(CONFIG_CPU_FREQ_GOV_POWERSAVE)</span>		+= cpufreq_powersave.o</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba85cd02ff38397bfd6c84c770d5a699R40" data-line-number="40"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-smi">obj-$(CONFIG_CPU_FREQ_GOV_RACCOON_CITY)</span>		+= cpufreq_raccoon_city.o</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba85cd02ff38397bfd6c84c770d5a699R41" data-line-number="41"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-smi">obj-$(CONFIG_CPU_FREQ_GOV_SMARTASS2)</span>		+= cpufreq_smartass2.o</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba85cd02ff38397bfd6c84c770d5a699R42" data-line-number="42"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-smi">obj-$(CONFIG_CPU_FREQ_GOV_SMARTMAX)</span>		+= cpufreq_smartmax.o</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba85cd02ff38397bfd6c84c770d5a699R43" data-line-number="43"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-smi">obj-$(CONFIG_CPU_FREQ_GOV_SMARTMAX_EPS)</span>		+= cpufreq_smartmax_eps.o</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba85cd02ff38397bfd6c84c770d5a699R44" data-line-number="44"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-smi">obj-$(CONFIG_CPU_FREQ_GOV_UMBRELLA_CORE)</span>	+= cpufreq_umbrella_core.o</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba85cd02ff38397bfd6c84c770d5a699R45" data-line-number="45"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-smi">obj-$(CONFIG_CPU_FREQ_GOV_USERSPACE)</span>		+= cpufreq_userspace.o</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba85cd02ff38397bfd6c84c770d5a699R46" data-line-number="46"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-smi">obj-$(CONFIG_CPU_FREQ_GOV_YANKACTIVE)</span>		+= cpufreq_yankactive.o</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba85cd02ff38397bfd6c84c770d5a699R47" data-line-number="47"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-smi">obj-$(CONFIG_CPU_FREQ_GOV_ZZMOOVE)</span>		+= cpufreq_zzmoove.o</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba85cd02ff38397bfd6c84c770d5a699R48" data-line-number="48"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-smi">obj-$(CONFIG_CPU_FREQ_GOV_COMMON)</span>		+= cpufreq_governor.o</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba85cd02ff38397bfd6c84c770d5a699R49" data-line-number="49"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-smi">obj-$(CONFIG_CPU_BOOST)</span>				+= cpu-boost.o</span>

  </td>
</tr>


    <tr>
    <td id="diff-ba85cd02ff38397bfd6c84c770d5a699L18" data-line-number="18"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-ba85cd02ff38397bfd6c84c770d5a699R50" data-line-number="50"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> </span>

  </td>
</tr>


    <tr>
    <td id="diff-ba85cd02ff38397bfd6c84c770d5a699L19" data-line-number="19"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-<span class="pl-smi">obj-$(CONFIG_GENERIC_CPUFREQ_CPU0)</span>	+= cpufreq-cpu0.o</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba85cd02ff38397bfd6c84c770d5a699R51" data-line-number="51"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-smi">obj-$(CONFIG_GENERIC_CPUFREQ_CPU0)</span>	<span class="x x-first x-last">	</span>+= cpufreq-cpu0.o</span>

  </td>
</tr>


    <tr>
    <td id="diff-ba85cd02ff38397bfd6c84c770d5a699L20" data-line-number="20"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-ba85cd02ff38397bfd6c84c770d5a699R52" data-line-number="52"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> </span>

  </td>
</tr>


    <tr>
    <td id="diff-ba85cd02ff38397bfd6c84c770d5a699L21" data-line-number="21"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-ba85cd02ff38397bfd6c84c770d5a699R53" data-line-number="53"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> <span class="pl-c">##################################################################################</span></span>

  </td>
</tr>


    <tr>
    <td id="diff-ba85cd02ff38397bfd6c84c770d5a699L22" data-line-number="22"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-ba85cd02ff38397bfd6c84c770d5a699R54" data-line-number="54"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> <span class="pl-c"># x86 drivers.</span></span>

  </td>
</tr>


  <tr class="js-expandable-line">
   <td class="blob-num blob-num-expandable" colspan="2">
     <a href="#diff-ba85cd02ff38397bfd6c84c770d5a699"
          class="diff-expander js-expand" title="Expand" aria-label="Expand"
          data-url="/Tkkg1994/StockKernel/blob_excerpt/8ff725a8c58120abf9060f7bd975fc686bd0bec4?diff=unified&amp;mode=100755&amp;path=drivers%2Fcpufreq%2FMakefile&amp;prev_line_num_left=22&amp;prev_line_num_right=54"
          data-left-range="23-130"
          data-right-range="55-130">
       <svg aria-hidden="true" class="octicon octicon-unfold" height="16" role="img" version="1.1" viewBox="0 0 14 16" width="14"><path d="M11.5 8.5l2.5 2.5c0 0.55-0.45 1-1 1H9v-1h3.5L10.5 9H3.5L1.5 11h3.5v1H1c-0.55 0-1-0.45-1-1l2.5-2.5L0 6c0-0.55 0.45-1 1-1h4v1H1.5l2 2h7l2-2H9v-1h4c0.55 0 1 0.45 1 1L11.5 8.5z m-5.5-1.5h2V4h2L7 1 4 4h2v3z m2 3H6v3H4l3 3 3-3H8V10z"></path></svg>
     </a>
   </td>
   <td class="blob-code blob-code-expandable"></td>
  </tr>

              </table>
            </div>
      </div>

      <a name="diff-9cb8d0039fb739eef0bd6253de2acdd9"></a>
      <div id="diff-4"
           class="file js-details-container
                   
                   
                   
                   
                   show-inline-notes
                 ">
        <div class="file-header" data-path="drivers/cpufreq/cpufreq.c">
          <div class="file-actions">
              <span class="show-file-notes">
                <label>
                  <input type="checkbox" checked="checked" class="js-toggle-file-notes">
                  Show notes
                </label>
              </span>

                <a href="/Tkkg1994/StockKernel/blob/cbf17b4b432bfe962ae330d9a86f8ded47d33b22/drivers/cpufreq/cpufreq.c" class="btn btn-sm tooltipped tooltipped-nw" rel="nofollow" aria-label="View the whole file at version cbf17b4 ">View</a>


          </div>
          <div class="file-info">
              <span class="diffstat tooltipped tooltipped-e" aria-label="39 additions &amp; 2 deletions">41 <span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-neutral"></span></span>

            <span class="user-select-contain" title="drivers/cpufreq/cpufreq.c">
              drivers/cpufreq/cpufreq.c
            </span>
            
          </div>
        </div>

            <div class="data highlight blob-wrapper">
              <table class="diff-table tab-size  " data-tab-size="8">
                
      <tr class="js-expandable-line" data-position="0">
    <td class="blob-num blob-num-expandable" colspan="2">
      <a href="#diff-9cb8d0039fb739eef0bd6253de2acdd9"
            class="diff-expander js-expand" title="Expand" aria-label="Expand"
            data-url="/Tkkg1994/StockKernel/blob_excerpt/38c0c87f563f0c6058c39ff56c812aabd62d2638?diff=unified&amp;left_hunk_size=7&amp;mode=100755&amp;next_line_num_left=44&amp;next_line_num_right=44&amp;path=drivers%2Fcpufreq%2Fcpufreq.c&amp;prev_line_num_left=&amp;prev_line_num_right=&amp;right_hunk_size=7"
            data-left-range="1-43" data-right-range="1-43">
        <svg aria-hidden="true" class="octicon octicon-unfold" height="16" role="img" version="1.1" viewBox="0 0 14 16" width="14"><path d="M11.5 8.5l2.5 2.5c0 0.55-0.45 1-1 1H9v-1h3.5L10.5 9H3.5L1.5 11h3.5v1H1c-0.55 0-1-0.45-1-1l2.5-2.5L0 6c0-0.55 0.45-1 1-1h4v1H1.5l2 2h7l2-2H9v-1h4c0.55 0 1 0.45 1 1L11.5 8.5z m-5.5-1.5h2V4h2L7 1 4 4h2v3z m2 3H6v3H4l3 3 3-3H8V10z"></path></svg>
      </a>
    </td>
    <td class="blob-code blob-code-inner blob-code-hunk">@@ -44,7 +44,7 @@ static struct cpufreq_driver *cpufreq_driver;</td>
  </tr>

    <tr>
    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9L44" data-line-number="44"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9R44" data-line-number="44"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> <span class="pl-k">static</span> <span class="pl-en">DEFINE_PER_CPU</span>(<span class="pl-k">struct</span> cpufreq_policy *, cpufreq_cpu_data);</span>

  </td>
</tr>


    <tr>
    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9L45" data-line-number="45"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9R45" data-line-number="45"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> <span class="pl-k">static</span> <span class="pl-en">DEFINE_PER_CPU</span>(<span class="pl-k">struct</span> cpufreq_policy *, cpufreq_cpu_data_fallback);</span>

  </td>
</tr>


    <tr>
    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9L46" data-line-number="46"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9R46" data-line-number="46"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> <span class="pl-k">static</span> <span class="pl-en">DEFINE_RWLOCK</span>(cpufreq_driver_lock);</span>

  </td>
</tr>


    <tr>
    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9L47" data-line-number="47"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-<span class="pl-k x x-first">static</span><span class="x x-last"> </span><span class="pl-en">DEFINE_MUTEX</span>(cpufreq_governor_lock);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9R47" data-line-number="47"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">DEFINE_MUTEX</span>(cpufreq_governor_lock);</span>

  </td>
</tr>


    <tr>
    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9L48" data-line-number="48"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9R48" data-line-number="48"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> <span class="pl-k">static</span> <span class="pl-en">LIST_HEAD</span>(cpufreq_policy_list);</span>

  </td>
</tr>


    <tr>
    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9L49" data-line-number="49"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9R49" data-line-number="49"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> </span>

  </td>
</tr>


    <tr>
    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9L50" data-line-number="50"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9R50" data-line-number="50"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> #<span class="pl-k">ifdef</span> CONFIG_HOTPLUG_CPU</span>

  </td>
</tr>


      <tr class="js-expandable-line" data-position="9">
    <td class="blob-num blob-num-expandable" colspan="2">
      <a href="#diff-9cb8d0039fb739eef0bd6253de2acdd9"
            class="diff-expander js-expand" title="Expand" aria-label="Expand"
            data-url="/Tkkg1994/StockKernel/blob_excerpt/38c0c87f563f0c6058c39ff56c812aabd62d2638?diff=unified&amp;left_hunk_size=6&amp;mode=100755&amp;next_line_num_left=85&amp;next_line_num_right=85&amp;path=drivers%2Fcpufreq%2Fcpufreq.c&amp;prev_line_num_left=50&amp;prev_line_num_right=50&amp;right_hunk_size=7"
            data-left-range="51-84" data-right-range="51-84">
        <svg aria-hidden="true" class="octicon octicon-unfold" height="16" role="img" version="1.1" viewBox="0 0 14 16" width="14"><path d="M11.5 8.5l2.5 2.5c0 0.55-0.45 1-1 1H9v-1h3.5L10.5 9H3.5L1.5 11h3.5v1H1c-0.55 0-1-0.45-1-1l2.5-2.5L0 6c0-0.55 0.45-1 1-1h4v1H1.5l2 2h7l2-2H9v-1h4c0.55 0 1 0.45 1 1L11.5 8.5z m-5.5-1.5h2V4h2L7 1 4 4h2v3z m2 3H6v3H4l3 3 3-3H8V10z"></path></svg>
      </a>
    </td>
    <td class="blob-code blob-code-inner blob-code-hunk">@@ -85,6 +85,7 @@ static void handle_update(struct work_struct *work);</td>
  </tr>

    <tr>
    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9L85" data-line-number="85"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9R85" data-line-number="85"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> <span class="pl-c"> */</span></span>

  </td>
</tr>


    <tr>
    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9L86" data-line-number="86"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9R86" data-line-number="86"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> <span class="pl-k">static</span> <span class="pl-en">BLOCKING_NOTIFIER_HEAD</span>(cpufreq_policy_notifier_list);</span>

  </td>
</tr>


    <tr>
    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9L87" data-line-number="87"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9R87" data-line-number="87"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> <span class="pl-k">static</span> <span class="pl-k">struct</span> srcu_notifier_head cpufreq_transition_notifier_list;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9R88" data-line-number="88"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">struct</span> atomic_notifier_head cpufreq_govinfo_notifier_list;</span>

  </td>
</tr>


    <tr>
    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9L88" data-line-number="88"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9R89" data-line-number="89"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> </span>

  </td>
</tr>


    <tr>
    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9L89" data-line-number="89"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9R90" data-line-number="90"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> <span class="pl-k">static</span> <span class="pl-k">bool</span> init_cpufreq_transition_notifier_list_called;</span>

  </td>
</tr>


    <tr>
    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9L90" data-line-number="90"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9R91" data-line-number="91"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> <span class="pl-k">static</span> <span class="pl-k">int</span> __init <span class="pl-en">init_cpufreq_transition_notifier_list</span>(<span class="pl-k">void</span>)</span>

  </td>
</tr>


      <tr class="js-expandable-line" data-position="17">
    <td class="blob-num blob-num-expandable" colspan="2">
      <a href="#diff-9cb8d0039fb739eef0bd6253de2acdd9"
            class="diff-expander js-expand" title="Expand" aria-label="Expand"
            data-url="/Tkkg1994/StockKernel/blob_excerpt/38c0c87f563f0c6058c39ff56c812aabd62d2638?diff=unified&amp;left_hunk_size=6&amp;mode=100755&amp;next_line_num_left=95&amp;next_line_num_right=96&amp;path=drivers%2Fcpufreq%2Fcpufreq.c&amp;prev_line_num_left=90&amp;prev_line_num_right=91&amp;right_hunk_size=15"
            data-left-range="91-94" data-right-range="92-95">
        <svg aria-hidden="true" class="octicon octicon-unfold" height="16" role="img" version="1.1" viewBox="0 0 14 16" width="14"><path d="M11.5 8.5l2.5 2.5c0 0.55-0.45 1-1 1H9v-1h3.5L10.5 9H3.5L1.5 11h3.5v1H1c-0.55 0-1-0.45-1-1l2.5-2.5L0 6c0-0.55 0.45-1 1-1h4v1H1.5l2 2h7l2-2H9v-1h4c0.55 0 1 0.45 1 1L11.5 8.5z m-5.5-1.5h2V4h2L7 1 4 4h2v3z m2 3H6v3H4l3 3 3-3H8V10z"></path></svg>
      </a>
    </td>
    <td class="blob-code blob-code-inner blob-code-hunk">@@ -95,6 +96,15 @@ static int __init init_cpufreq_transition_notifier_list(void)</td>
  </tr>

    <tr>
    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9L95" data-line-number="95"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9R96" data-line-number="96"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> }</span>

  </td>
</tr>


    <tr>
    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9L96" data-line-number="96"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9R97" data-line-number="97"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> <span class="pl-en">pure_initcall</span>(init_cpufreq_transition_notifier_list);</span>

  </td>
</tr>


    <tr>
    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9L97" data-line-number="97"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9R98" data-line-number="98"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> </span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9R99" data-line-number="99"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">bool</span> init_cpufreq_govinfo_notifier_list_called;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9R100" data-line-number="100"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">int</span> __init <span class="pl-en">init_cpufreq_govinfo_notifier_list</span>(<span class="pl-k">void</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9R101" data-line-number="101"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9R102" data-line-number="102"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">ATOMIC_INIT_NOTIFIER_HEAD</span>(&amp;cpufreq_govinfo_notifier_list);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9R103" data-line-number="103"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	init_cpufreq_govinfo_notifier_list_called = <span class="pl-c1">true</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9R104" data-line-number="104"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9R105" data-line-number="105"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9R106" data-line-number="106"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">pure_initcall</span>(init_cpufreq_govinfo_notifier_list);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9R107" data-line-number="107"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9L98" data-line-number="98"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9R108" data-line-number="108"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> <span class="pl-k">static</span> <span class="pl-k">int</span> off __read_mostly;</span>

  </td>
</tr>


    <tr>
    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9L99" data-line-number="99"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9R109" data-line-number="109"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> <span class="pl-k">static</span> <span class="pl-k">int</span> <span class="pl-en">cpufreq_disabled</span>(<span class="pl-k">void</span>)</span>

  </td>
</tr>


    <tr>
    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9L100" data-line-number="100"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9R110" data-line-number="110"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> {</span>

  </td>
</tr>


      <tr class="js-expandable-line" data-position="33">
    <td class="blob-num blob-num-expandable" colspan="2">
      <a href="#diff-9cb8d0039fb739eef0bd6253de2acdd9"
            class="diff-expander js-expand" title="Expand" aria-label="Expand"
            data-url="/Tkkg1994/StockKernel/blob_excerpt/38c0c87f563f0c6058c39ff56c812aabd62d2638?diff=unified&amp;left_hunk_size=7&amp;mode=100755&amp;next_line_num_left=1694&amp;next_line_num_right=1704&amp;path=drivers%2Fcpufreq%2Fcpufreq.c&amp;prev_line_num_left=100&amp;prev_line_num_right=110&amp;right_hunk_size=8"
            data-left-range="101-1693" data-right-range="111-1703">
        <svg aria-hidden="true" class="octicon octicon-unfold" height="16" role="img" version="1.1" viewBox="0 0 14 16" width="14"><path d="M11.5 8.5l2.5 2.5c0 0.55-0.45 1-1 1H9v-1h3.5L10.5 9H3.5L1.5 11h3.5v1H1c-0.55 0-1-0.45-1-1l2.5-2.5L0 6c0-0.55 0.45-1 1-1h4v1H1.5l2 2h7l2-2H9v-1h4c0.55 0 1 0.45 1 1L11.5 8.5z m-5.5-1.5h2V4h2L7 1 4 4h2v3z m2 3H6v3H4l3 3 3-3H8V10z"></path></svg>
      </a>
    </td>
    <td class="blob-code blob-code-inner blob-code-hunk">@@ -1694,7 +1704,8 @@ int cpufreq_register_notifier(struct notifier_block *nb, unsigned int list)</td>
  </tr>

    <tr>
    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9L1694" data-line-number="1694"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9R1704" data-line-number="1704"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 	<span class="pl-k">if</span> (<span class="pl-c1">cpufreq_disabled</span>())</span>

  </td>
</tr>


    <tr>
    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9L1695" data-line-number="1695"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9R1705" data-line-number="1705"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 		<span class="pl-k">return</span> -EINVAL;</span>

  </td>
</tr>


    <tr>
    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9L1696" data-line-number="1696"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9R1706" data-line-number="1706"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> </span>

  </td>
</tr>


    <tr>
    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9L1697" data-line-number="1697"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-	<span class="pl-c1">WARN_ON</span>(!init_cpufreq_transition_notifier_list_called);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9R1707" data-line-number="1707"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">WARN_ON</span>(!init_cpufreq_transition_notifier_list_called ||</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9R1708" data-line-number="1708"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		!init_cpufreq_govinfo_notifier_list_called);</span>

  </td>
</tr>


    <tr>
    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9L1698" data-line-number="1698"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9R1709" data-line-number="1709"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> </span>

  </td>
</tr>


    <tr>
    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9L1699" data-line-number="1699"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9R1710" data-line-number="1710"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 	<span class="pl-k">switch</span> (list) {</span>

  </td>
</tr>


    <tr>
    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9L1700" data-line-number="1700"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9R1711" data-line-number="1711"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 	<span class="pl-k">case</span> CPUFREQ_TRANSITION_NOTIFIER:</span>

  </td>
</tr>


      <tr class="js-expandable-line" data-position="43">
    <td class="blob-num blob-num-expandable" colspan="2">
      <a href="#diff-9cb8d0039fb739eef0bd6253de2acdd9"
            class="diff-expander js-expand" title="Expand" aria-label="Expand"
            data-url="/Tkkg1994/StockKernel/blob_excerpt/38c0c87f563f0c6058c39ff56c812aabd62d2638?diff=unified&amp;left_hunk_size=6&amp;mode=100755&amp;next_line_num_left=1705&amp;next_line_num_right=1716&amp;path=drivers%2Fcpufreq%2Fcpufreq.c&amp;prev_line_num_left=1700&amp;prev_line_num_right=1711&amp;right_hunk_size=10"
            data-left-range="1701-1704" data-right-range="1712-1715">
        <svg aria-hidden="true" class="octicon octicon-unfold" height="16" role="img" version="1.1" viewBox="0 0 14 16" width="14"><path d="M11.5 8.5l2.5 2.5c0 0.55-0.45 1-1 1H9v-1h3.5L10.5 9H3.5L1.5 11h3.5v1H1c-0.55 0-1-0.45-1-1l2.5-2.5L0 6c0-0.55 0.45-1 1-1h4v1H1.5l2 2h7l2-2H9v-1h4c0.55 0 1 0.45 1 1L11.5 8.5z m-5.5-1.5h2V4h2L7 1 4 4h2v3z m2 3H6v3H4l3 3 3-3H8V10z"></path></svg>
      </a>
    </td>
    <td class="blob-code blob-code-inner blob-code-hunk">@@ -1705,6 +1716,10 @@ int cpufreq_register_notifier(struct notifier_block *nb, unsigned int list)</td>
  </tr>

    <tr>
    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9L1705" data-line-number="1705"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9R1716" data-line-number="1716"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 		ret = <span class="pl-c1">blocking_notifier_chain_register</span>(</span>

  </td>
</tr>


    <tr>
    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9L1706" data-line-number="1706"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9R1717" data-line-number="1717"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 				&amp;cpufreq_policy_notifier_list, nb);</span>

  </td>
</tr>


    <tr>
    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9L1707" data-line-number="1707"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9R1718" data-line-number="1718"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 		<span class="pl-k">break</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9R1719" data-line-number="1719"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">case</span> CPUFREQ_GOVINFO_NOTIFIER:</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9R1720" data-line-number="1720"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		ret = <span class="pl-c1">atomic_notifier_chain_register</span>(</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9R1721" data-line-number="1721"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				&amp;cpufreq_govinfo_notifier_list, nb);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9R1722" data-line-number="1722"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">break</span>;</span>

  </td>
</tr>


    <tr>
    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9L1708" data-line-number="1708"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9R1723" data-line-number="1723"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 	<span class="pl-k">default</span>:</span>

  </td>
</tr>


    <tr>
    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9L1709" data-line-number="1709"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9R1724" data-line-number="1724"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 		ret = -EINVAL;</span>

  </td>
</tr>


    <tr>
    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9L1710" data-line-number="1710"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9R1725" data-line-number="1725"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 	}</span>

  </td>
</tr>


      <tr class="js-expandable-line" data-position="54">
    <td class="blob-num blob-num-expandable" colspan="2">
      <a href="#diff-9cb8d0039fb739eef0bd6253de2acdd9"
            class="diff-expander js-expand" title="Expand" aria-label="Expand"
            data-url="/Tkkg1994/StockKernel/blob_excerpt/38c0c87f563f0c6058c39ff56c812aabd62d2638?diff=unified&amp;left_hunk_size=6&amp;mode=100755&amp;next_line_num_left=1739&amp;next_line_num_right=1754&amp;path=drivers%2Fcpufreq%2Fcpufreq.c&amp;prev_line_num_left=1710&amp;prev_line_num_right=1725&amp;right_hunk_size=10"
            data-left-range="1711-1738" data-right-range="1726-1753">
        <svg aria-hidden="true" class="octicon octicon-unfold" height="16" role="img" version="1.1" viewBox="0 0 14 16" width="14"><path d="M11.5 8.5l2.5 2.5c0 0.55-0.45 1-1 1H9v-1h3.5L10.5 9H3.5L1.5 11h3.5v1H1c-0.55 0-1-0.45-1-1l2.5-2.5L0 6c0-0.55 0.45-1 1-1h4v1H1.5l2 2h7l2-2H9v-1h4c0.55 0 1 0.45 1 1L11.5 8.5z m-5.5-1.5h2V4h2L7 1 4 4h2v3z m2 3H6v3H4l3 3 3-3H8V10z"></path></svg>
      </a>
    </td>
    <td class="blob-code blob-code-inner blob-code-hunk">@@ -1739,6 +1754,10 @@ int cpufreq_unregister_notifier(struct notifier_block *nb, unsigned int list)</td>
  </tr>

    <tr>
    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9L1739" data-line-number="1739"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9R1754" data-line-number="1754"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 		ret = <span class="pl-c1">blocking_notifier_chain_unregister</span>(</span>

  </td>
</tr>


    <tr>
    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9L1740" data-line-number="1740"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9R1755" data-line-number="1755"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 				&amp;cpufreq_policy_notifier_list, nb);</span>

  </td>
</tr>


    <tr>
    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9L1741" data-line-number="1741"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9R1756" data-line-number="1756"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 		<span class="pl-k">break</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9R1757" data-line-number="1757"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">case</span> CPUFREQ_GOVINFO_NOTIFIER:</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9R1758" data-line-number="1758"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		ret = <span class="pl-c1">atomic_notifier_chain_unregister</span>(</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9R1759" data-line-number="1759"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				&amp;cpufreq_govinfo_notifier_list, nb);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9R1760" data-line-number="1760"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">break</span>;</span>

  </td>
</tr>


    <tr>
    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9L1742" data-line-number="1742"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9R1761" data-line-number="1761"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 	<span class="pl-k">default</span>:</span>

  </td>
</tr>


    <tr>
    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9L1743" data-line-number="1743"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9R1762" data-line-number="1762"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 		ret = -EINVAL;</span>

  </td>
</tr>


    <tr>
    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9L1744" data-line-number="1744"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9R1763" data-line-number="1763"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 	}</span>

  </td>
</tr>


      <tr class="js-expandable-line" data-position="65">
    <td class="blob-num blob-num-expandable" colspan="2">
      <a href="#diff-9cb8d0039fb739eef0bd6253de2acdd9"
            class="diff-expander js-expand" title="Expand" aria-label="Expand"
            data-url="/Tkkg1994/StockKernel/blob_excerpt/38c0c87f563f0c6058c39ff56c812aabd62d2638?diff=unified&amp;left_hunk_size=6&amp;mode=100755&amp;next_line_num_left=1860&amp;next_line_num_right=1879&amp;path=drivers%2Fcpufreq%2Fcpufreq.c&amp;prev_line_num_left=1744&amp;prev_line_num_right=1763&amp;right_hunk_size=24"
            data-left-range="1745-1859" data-right-range="1764-1878">
        <svg aria-hidden="true" class="octicon octicon-unfold" height="16" role="img" version="1.1" viewBox="0 0 14 16" width="14"><path d="M11.5 8.5l2.5 2.5c0 0.55-0.45 1-1 1H9v-1h3.5L10.5 9H3.5L1.5 11h3.5v1H1c-0.55 0-1-0.45-1-1l2.5-2.5L0 6c0-0.55 0.45-1 1-1h4v1H1.5l2 2h7l2-2H9v-1h4c0.55 0 1 0.45 1 1L11.5 8.5z m-5.5-1.5h2V4h2L7 1 4 4h2v3z m2 3H6v3H4l3 3 3-3H8V10z"></path></svg>
      </a>
    </td>
    <td class="blob-code blob-code-inner blob-code-hunk">@@ -1860,6 +1879,24 @@ int cpufreq_driver_target(struct cpufreq_policy *policy,</td>
  </tr>

    <tr>
    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9L1860" data-line-number="1860"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9R1879" data-line-number="1879"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> }</span>

  </td>
</tr>


    <tr>
    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9L1861" data-line-number="1861"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9R1880" data-line-number="1880"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> <span class="pl-en">EXPORT_SYMBOL_GPL</span>(cpufreq_driver_target);</span>

  </td>
</tr>


    <tr>
    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9L1862" data-line-number="1862"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9R1881" data-line-number="1881"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> </span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9R1882" data-line-number="1882"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">int</span> <span class="pl-en">__cpufreq_driver_getavg</span>(<span class="pl-k">struct</span> cpufreq_policy *policy, <span class="pl-k">unsigned</span> <span class="pl-k">int</span> cpu)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9R1883" data-line-number="1883"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9R1884" data-line-number="1884"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> ret = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9R1885" data-line-number="1885"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9R1886" data-line-number="1886"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (!(<span class="pl-c1">cpu_online</span>(cpu) &amp;&amp; cpufreq_driver-&gt;getavg))</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9R1887" data-line-number="1887"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9R1888" data-line-number="1888"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9R1889" data-line-number="1889"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	policy = <span class="pl-c1">cpufreq_cpu_get</span>(policy-&gt;cpu);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9R1890" data-line-number="1890"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (!policy)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9R1891" data-line-number="1891"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> -EINVAL;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9R1892" data-line-number="1892"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9R1893" data-line-number="1893"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	ret = cpufreq_driver-&gt;<span class="pl-c1">getavg</span>(policy, cpu);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9R1894" data-line-number="1894"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9R1895" data-line-number="1895"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">cpufreq_cpu_put</span>(policy);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9R1896" data-line-number="1896"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9R1897" data-line-number="1897"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9R1898" data-line-number="1898"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">EXPORT_SYMBOL_GPL</span>(__cpufreq_driver_getavg);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9R1899" data-line-number="1899"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9L1863" data-line-number="1863"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9R1900" data-line-number="1900"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> <span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9L1864" data-line-number="1864"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9R1901" data-line-number="1901"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> <span class="pl-c"> * when &quot;event&quot; is CPUFREQ_GOV_LIMITS</span></span>

  </td>
</tr>


    <tr>
    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9L1865" data-line-number="1865"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-9cb8d0039fb739eef0bd6253de2acdd9R1902" data-line-number="1902"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> <span class="pl-c"> */</span></span>

  </td>
</tr>


  <tr class="js-expandable-line">
   <td class="blob-num blob-num-expandable" colspan="2">
     <a href="#diff-9cb8d0039fb739eef0bd6253de2acdd9"
          class="diff-expander js-expand" title="Expand" aria-label="Expand"
          data-url="/Tkkg1994/StockKernel/blob_excerpt/38c0c87f563f0c6058c39ff56c812aabd62d2638?diff=unified&amp;mode=100755&amp;path=drivers%2Fcpufreq%2Fcpufreq.c&amp;prev_line_num_left=1865&amp;prev_line_num_right=1902"
          data-left-range="1866-2521"
          data-right-range="1903-2521">
       <svg aria-hidden="true" class="octicon octicon-unfold" height="16" role="img" version="1.1" viewBox="0 0 14 16" width="14"><path d="M11.5 8.5l2.5 2.5c0 0.55-0.45 1-1 1H9v-1h3.5L10.5 9H3.5L1.5 11h3.5v1H1c-0.55 0-1-0.45-1-1l2.5-2.5L0 6c0-0.55 0.45-1 1-1h4v1H1.5l2 2h7l2-2H9v-1h4c0.55 0 1 0.45 1 1L11.5 8.5z m-5.5-1.5h2V4h2L7 1 4 4h2v3z m2 3H6v3H4l3 3 3-3H8V10z"></path></svg>
     </a>
   </td>
   <td class="blob-code blob-code-expandable"></td>
  </tr>

              </table>
            </div>
      </div>

      <a name="diff-db2e867f7989b12dc8b5cdd505e6a532"></a>
      <div id="diff-5"
           class="file js-details-container
                   
                   
                   
                   
                   show-inline-notes
                 ">
        <div class="file-header" data-path="drivers/cpufreq/cpufreq_HYPER.c">
          <div class="file-actions">
              <span class="show-file-notes">
                <label>
                  <input type="checkbox" checked="checked" class="js-toggle-file-notes">
                  Show notes
                </label>
              </span>

                <a href="/Tkkg1994/StockKernel/blob/cbf17b4b432bfe962ae330d9a86f8ded47d33b22/drivers/cpufreq/cpufreq_HYPER.c" class="btn btn-sm tooltipped tooltipped-nw" rel="nofollow" aria-label="View the whole file at version cbf17b4 ">View</a>


          </div>
          <div class="file-info">
              <span class="diffstat tooltipped tooltipped-e" aria-label="854 additions &amp; 0 deletions">854 <span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span></span>

            <span class="user-select-contain" title="drivers/cpufreq/cpufreq_HYPER.c">
              drivers/cpufreq/cpufreq_HYPER.c
            </span>
            
          </div>
        </div>

            <div class="data highlight blob-wrapper">
              <table class="diff-table tab-size  " data-tab-size="8">
                
      <tr data-position="0">
    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532L-1" class="blob-num blob-num-hunk non-expandable" data-line-number="..."></td>
    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R0" class="blob-num blob-num-hunk non-expandable" data-line-number="..."></td>
    <td class="blob-code blob-code-inner blob-code-hunk">@@ -0,0 +1,854 @@</td>
  </tr>

    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R1" data-line-number="1"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R2" data-line-number="2"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> *  drivers/cpufreq/cpufreq_HYPER.c</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R3" data-line-number="3"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> *</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R4" data-line-number="4"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> *  Copyright (C)  2001 Russell King</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R5" data-line-number="5"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> *            (C)  2003 Venkatesh Pallipadi &lt;venkatesh.pallipadi@intel.com&gt;.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R6" data-line-number="6"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> *                      Jun Nakajima &lt;jun.nakajima@intel.com&gt;</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R7" data-line-number="7"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> *</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R8" data-line-number="8"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> *                 2012 Minor Edits by Sar Castillo &lt;sar.castillo@gmail.com&gt;</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R9" data-line-number="9"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> *                 2012 MAR heavy addons by DORIMANX &lt;yuri@bynet.co.il&gt;</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R10" data-line-number="10"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * This program is free software; you can redistribute it and/or modify</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R11" data-line-number="11"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * it under the terms of the GNU General Public License version 2 as</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R12" data-line-number="12"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * published by the Free Software Foundation.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R13" data-line-number="13"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R14" data-line-number="14"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R15" data-line-number="15"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/kernel.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R16" data-line-number="16"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/module.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R17" data-line-number="17"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/init.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R18" data-line-number="18"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/cpufreq.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R19" data-line-number="19"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/cpu.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R20" data-line-number="20"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/jiffies.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R21" data-line-number="21"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/kernel_stat.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R22" data-line-number="22"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/mutex.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R23" data-line-number="23"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/hrtimer.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R24" data-line-number="24"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/tick.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R25" data-line-number="25"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/ktime.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R26" data-line-number="26"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/sched.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R27" data-line-number="27"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/input.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R28" data-line-number="28"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/slab.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R29" data-line-number="29"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R30" data-line-number="30"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R31" data-line-number="31"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * dbs is used in this file as a shortform for demandbased switching</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R32" data-line-number="32"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * It helps to keep variable names smaller, simpler</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R33" data-line-number="33"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R34" data-line-number="34"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R35" data-line-number="35"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">DEF_FREQUENCY_DOWN_DIFFERENTIAL</span>		(<span class="pl-c1">10</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R36" data-line-number="36"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">MIN_FREQUENCY_DOWN_DIFFERENTIAL</span>		(<span class="pl-c1">1</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R37" data-line-number="37"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">DEF_FREQUENCY_UP_THRESHOLD</span>		(<span class="pl-c1">70</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R38" data-line-number="38"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">DEF_SAMPLING_DOWN_FACTOR</span>		(<span class="pl-c1">1</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R39" data-line-number="39"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">BOOSTED_SAMPLING_DOWN_FACTOR</span>		(<span class="pl-c1">10</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R40" data-line-number="40"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">MAX_SAMPLING_DOWN_FACTOR</span>		(<span class="pl-c1">3</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R41" data-line-number="41"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">MICRO_FREQUENCY_DOWN_DIFFERENTIAL</span>	(<span class="pl-c1">5</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R42" data-line-number="42"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">MICRO_FREQUENCY_UP_THRESHOLD</span>		(<span class="pl-c1">70</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R43" data-line-number="43"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">MICRO_FREQUENCY_MIN_SAMPLE_RATE</span>		(<span class="pl-c1">5000</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R44" data-line-number="44"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">MIN_FREQUENCY_UP_THRESHOLD</span>		(<span class="pl-c1">11</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R45" data-line-number="45"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">MAX_FREQUENCY_UP_THRESHOLD</span>		(<span class="pl-c1">100</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R46" data-line-number="46"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">MIN_FREQUENCY_DOWN_DIFFERENTIAL</span>		(<span class="pl-c1">1</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R47" data-line-number="47"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">FREQ_STEP</span>				(<span class="pl-c1">50</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R48" data-line-number="48"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">DEFAULT_FREQ_BOOST_TIME</span>			(<span class="pl-c1">500000</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R49" data-line-number="49"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">MAX_FREQ_BOOST_TIME</span>			(<span class="pl-c1">5000000</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R50" data-line-number="50"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">UP_THRESHOLD_AT_MIN_FREQ</span>		(<span class="pl-c1">40</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R51" data-line-number="51"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R52" data-line-number="52"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> u64 hyper_freq_boosted_time;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R53" data-line-number="53"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R54" data-line-number="54"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R55" data-line-number="55"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * The polling frequency of this governor depends on the capability of</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R56" data-line-number="56"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * the processor. Default polling frequency is 1000 times the transition</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R57" data-line-number="57"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * latency of the processor. The governor will work on any processor with</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R58" data-line-number="58"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * transition latency &lt;= 10mS, using appropriate sampling</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R59" data-line-number="59"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * rate.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R60" data-line-number="60"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * For CPUs with transition latency &gt; 10mS (mostly drivers with CPUFREQ_ETERNAL)</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R61" data-line-number="61"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * this governor will not work.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R62" data-line-number="62"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * All times here are in uS.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R63" data-line-number="63"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R64" data-line-number="64"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">MIN_SAMPLING_RATE_RATIO</span>			(<span class="pl-c1">2</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R65" data-line-number="65"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R66" data-line-number="66"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">unsigned</span> <span class="pl-k">int</span> min_sampling_rate;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R67" data-line-number="67"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">LATENCY_MULTIPLIER</span>			(<span class="pl-c1">1000</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R68" data-line-number="68"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">MIN_LATENCY_MULTIPLIER</span>			(<span class="pl-c1">100</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R69" data-line-number="69"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">TRANSITION_LATENCY_LIMIT</span>		(<span class="pl-c1">10</span> * <span class="pl-c1">1000</span> * <span class="pl-c1">1000</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R70" data-line-number="70"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R71" data-line-number="71"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">/* have the timer rate booted for this much time 4s*/</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R72" data-line-number="72"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">TIMER_RATE_BOOST_TIME</span> <span class="pl-c1">4000000</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R73" data-line-number="73"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">int</span> hyper_sampling_rate_boosted;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R74" data-line-number="74"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> u64 hyper_sampling_rate_boosted_time;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R75" data-line-number="75"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">unsigned</span> <span class="pl-k">int</span> hyper_current_sampling_rate;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R76" data-line-number="76"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R77" data-line-number="77"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">void</span> <span class="pl-en">do_dbs_timer</span>(<span class="pl-k">struct</span> work_struct *work);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R78" data-line-number="78"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R79" data-line-number="79"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">/* Sampling types */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R80" data-line-number="80"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">enum</span> {DBS_NORMAL_SAMPLE, DBS_SUB_SAMPLE};</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R81" data-line-number="81"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R82" data-line-number="82"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">struct</span> cpu_dbs_info_s {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R83" data-line-number="83"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	u64 prev_cpu_idle;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R84" data-line-number="84"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	u64 prev_cpu_iowait;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R85" data-line-number="85"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	u64 prev_cpu_wall;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R86" data-line-number="86"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> prev_cpu_wall_delta;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R87" data-line-number="87"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	u64 prev_cpu_nice;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R88" data-line-number="88"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> cpufreq_policy *cur_policy;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R89" data-line-number="89"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> delayed_work work;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R90" data-line-number="90"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> cpufreq_frequency_table *freq_table;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R91" data-line-number="91"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> freq_lo;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R92" data-line-number="92"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> freq_lo_jiffies;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R93" data-line-number="93"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> freq_hi_jiffies;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R94" data-line-number="94"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> rate_mult;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R95" data-line-number="95"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> load_at_prev_sample;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R96" data-line-number="96"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> cpu;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R97" data-line-number="97"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> sample_type:<span class="pl-c1">1</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R98" data-line-number="98"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> prev_load;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R99" data-line-number="99"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R100" data-line-number="100"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 * percpu mutex that serializes governor limit change with</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R101" data-line-number="101"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 * do_dbs_timer invocation. We do not want do_dbs_timer to run</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R102" data-line-number="102"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 * when user is changing the governor or limits.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R103" data-line-number="103"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R104" data-line-number="104"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> mutex timer_mutex;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R105" data-line-number="105"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+};</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R106" data-line-number="106"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-en">DEFINE_PER_CPU</span>(<span class="pl-k">struct</span> cpu_dbs_info_s, od_cpu_dbs_info);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R107" data-line-number="107"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R108" data-line-number="108"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">unsigned</span> <span class="pl-k">int</span> dbs_enable;	<span class="pl-c">/* number of CPUs using this policy */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R109" data-line-number="109"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R110" data-line-number="110"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R111" data-line-number="111"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * dbs_mutex protects dbs_enable in governor start/stop.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R112" data-line-number="112"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R113" data-line-number="113"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-en">DEFINE_MUTEX</span>(dbs_mutex);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R114" data-line-number="114"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R115" data-line-number="115"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">struct</span> workqueue_struct *dbs_wq;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R116" data-line-number="116"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R117" data-line-number="117"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">struct</span> dbs_tuners {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R118" data-line-number="118"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> sampling_rate;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R119" data-line-number="119"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> up_threshold;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R120" data-line-number="120"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> up_threshold_min_freq;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R121" data-line-number="121"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> down_differential;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R122" data-line-number="122"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> micro_freq_up_threshold;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R123" data-line-number="123"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> sampling_down_factor;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R124" data-line-number="124"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> boosted;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R125" data-line-number="125"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> freq_boost_time;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R126" data-line-number="126"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> boostfreq;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R127" data-line-number="127"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c">/*struct notifier_block dvfs_lat_qos_db;</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R128" data-line-number="128"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	unsigned int dvfs_lat_qos_wants;*/</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R129" data-line-number="129"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> freq_step;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R130" data-line-number="130"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+} dbs_tuners_ins = {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R131" data-line-number="131"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">up_threshold</span> = DEF_FREQUENCY_UP_THRESHOLD,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R132" data-line-number="132"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">up_threshold_min_freq</span> = UP_THRESHOLD_AT_MIN_FREQ,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R133" data-line-number="133"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">sampling_down_factor</span> = DEF_SAMPLING_DOWN_FACTOR,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R134" data-line-number="134"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">down_differential</span> = DEF_FREQUENCY_DOWN_DIFFERENTIAL,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R135" data-line-number="135"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">micro_freq_up_threshold</span> = MICRO_FREQUENCY_UP_THRESHOLD,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R136" data-line-number="136"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">freq_boost_time</span> = DEFAULT_FREQ_BOOST_TIME,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R137" data-line-number="137"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">boostfreq</span> = <span class="pl-c1">1728000</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R138" data-line-number="138"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">freq_step</span> = FREQ_STEP,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R139" data-line-number="139"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">sampling_rate</span> = <span class="pl-c1">20000</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R140" data-line-number="140"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+};</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R141" data-line-number="141"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R142" data-line-number="142"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">unsigned</span> <span class="pl-k">int</span> dbs_enable = <span class="pl-c1">0</span>;	<span class="pl-c">/* number of CPUs using this policy */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R143" data-line-number="143"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R144" data-line-number="144"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">inline</span> u64 <span class="pl-en">get_cpu_iowait_time</span>(<span class="pl-k">unsigned</span> <span class="pl-k">int</span> cpu, u64 *wall)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R145" data-line-number="145"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R146" data-line-number="146"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	u64 iowait_time = <span class="pl-c1">get_cpu_iowait_time_us</span>(cpu, wall);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R147" data-line-number="147"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R148" data-line-number="148"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (iowait_time == -<span class="pl-c1">1ULL</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R149" data-line-number="149"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R150" data-line-number="150"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R151" data-line-number="151"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> iowait_time;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R152" data-line-number="152"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R153" data-line-number="153"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R154" data-line-number="154"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">/************************** sysfs interface ************************/</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R155" data-line-number="155"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R156" data-line-number="156"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">show_sampling_rate_min</span>(<span class="pl-k">struct</span> kobject *kobj,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R157" data-line-number="157"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				      <span class="pl-k">struct</span> attribute *attr, <span class="pl-k">char</span> *buf)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R158" data-line-number="158"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R159" data-line-number="159"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> <span class="pl-c1">sprintf</span>(buf, <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%u</span><span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>, min_sampling_rate);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R160" data-line-number="160"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R161" data-line-number="161"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R162" data-line-number="162"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">define_one_global_ro</span>(sampling_rate_min);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R163" data-line-number="163"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R164" data-line-number="164"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">/* cpufreq_hyper_power Governor Tunables */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R165" data-line-number="165"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">show_one</span>(<span class="pl-v">file_name, object</span>)					\</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R166" data-line-number="166"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> show_##file_name						\</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R167" data-line-number="167"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+(<span class="pl-k">struct</span> kobject *kobj, <span class="pl-k">struct</span> attribute *attr, <span class="pl-k">char</span> *buf)              \</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R168" data-line-number="168"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{									\</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R169" data-line-number="169"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> <span class="pl-c1">sprintf</span>(buf, <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%u</span><span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>, dbs_tuners_ins.<span class="pl-smi">object</span>);		\</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R170" data-line-number="170"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R171" data-line-number="171"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">show_one</span>(sampling_rate, sampling_rate);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R172" data-line-number="172"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">show_one</span>(up_threshold, up_threshold);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R173" data-line-number="173"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">show_one</span>(up_threshold_min_freq, up_threshold_min_freq);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R174" data-line-number="174"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">show_one</span>(sampling_down_factor, sampling_down_factor);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R175" data-line-number="175"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">show_one</span>(micro_freq_up_threshold, micro_freq_up_threshold);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R176" data-line-number="176"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">show_one</span>(down_differential, down_differential);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R177" data-line-number="177"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">show_one</span>(boostpulse, boosted);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R178" data-line-number="178"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">show_one</span>(boostfreq, boostfreq);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R179" data-line-number="179"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">show_one</span>(freq_step, freq_step);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R180" data-line-number="180"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R181" data-line-number="181"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">store_boostpulse</span>(<span class="pl-k">struct</span> kobject *kobj, <span class="pl-k">struct</span> attribute *attr,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R182" data-line-number="182"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				<span class="pl-k">const</span> <span class="pl-k">char</span> *buf, <span class="pl-c1">size_t</span> count)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R183" data-line-number="183"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R184" data-line-number="184"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R185" data-line-number="185"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R186" data-line-number="186"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R187" data-line-number="187"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	ret = <span class="pl-c1">sscanf</span>(buf, <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%u</span><span class="pl-pds">&quot;</span></span>, &amp;input);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R188" data-line-number="188"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (ret &lt; <span class="pl-c1">0</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R189" data-line-number="189"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R190" data-line-number="190"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R191" data-line-number="191"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (input &gt; <span class="pl-c1">1</span> &amp;&amp; input &lt;= MAX_FREQ_BOOST_TIME)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R192" data-line-number="192"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		dbs_tuners_ins.<span class="pl-smi">freq_boost_time</span> = input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R193" data-line-number="193"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">else</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R194" data-line-number="194"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		dbs_tuners_ins.<span class="pl-smi">freq_boost_time</span> = DEFAULT_FREQ_BOOST_TIME;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R195" data-line-number="195"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R196" data-line-number="196"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	dbs_tuners_ins.<span class="pl-smi">boosted</span> = <span class="pl-c1">1</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R197" data-line-number="197"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	hyper_freq_boosted_time = <span class="pl-c1">ktime_to_us</span>(<span class="pl-c1">ktime_get</span>());</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R198" data-line-number="198"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R199" data-line-number="199"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (hyper_sampling_rate_boosted) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R200" data-line-number="200"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		hyper_sampling_rate_boosted = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R201" data-line-number="201"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		dbs_tuners_ins.<span class="pl-smi">sampling_rate</span> = hyper_current_sampling_rate;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R202" data-line-number="202"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R203" data-line-number="203"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> count;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R204" data-line-number="204"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R205" data-line-number="205"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R206" data-line-number="206"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">store_boostfreq</span>(<span class="pl-k">struct</span> kobject *a, <span class="pl-k">struct</span> attribute *b,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R207" data-line-number="207"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				   <span class="pl-k">const</span> <span class="pl-k">char</span> *buf, <span class="pl-c1">size_t</span> count)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R208" data-line-number="208"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R209" data-line-number="209"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R210" data-line-number="210"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R211" data-line-number="211"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R212" data-line-number="212"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	ret = <span class="pl-c1">sscanf</span>(buf, <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%u</span><span class="pl-pds">&quot;</span></span>, &amp;input);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R213" data-line-number="213"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (ret != <span class="pl-c1">1</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R214" data-line-number="214"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> -EINVAL;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R215" data-line-number="215"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R216" data-line-number="216"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	dbs_tuners_ins.<span class="pl-smi">boostfreq</span> = input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R217" data-line-number="217"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> count;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R218" data-line-number="218"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R219" data-line-number="219"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R220" data-line-number="220"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">store_sampling_rate</span>(<span class="pl-k">struct</span> kobject *a, <span class="pl-k">struct</span> attribute *b,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R221" data-line-number="221"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				   <span class="pl-k">const</span> <span class="pl-k">char</span> *buf, <span class="pl-c1">size_t</span> count)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R222" data-line-number="222"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R223" data-line-number="223"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R224" data-line-number="224"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> ret = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R225" data-line-number="225"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> mpd = <span class="pl-c1">strcmp</span>(current-&gt;comm, <span class="pl-s"><span class="pl-pds">&quot;</span>mpdecision<span class="pl-pds">&quot;</span></span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R226" data-line-number="226"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R227" data-line-number="227"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (mpd == <span class="pl-c1">0</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R228" data-line-number="228"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R229" data-line-number="229"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R230" data-line-number="230"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	ret = <span class="pl-c1">sscanf</span>(buf, <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%u</span><span class="pl-pds">&quot;</span></span>, &amp;input);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R231" data-line-number="231"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (ret != <span class="pl-c1">1</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R232" data-line-number="232"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> -EINVAL;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R233" data-line-number="233"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R234" data-line-number="234"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	dbs_tuners_ins.<span class="pl-smi">sampling_rate</span> = <span class="pl-c1">max</span>(input, min_sampling_rate);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R235" data-line-number="235"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	hyper_current_sampling_rate = dbs_tuners_ins.<span class="pl-smi">sampling_rate</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R236" data-line-number="236"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R237" data-line-number="237"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> count;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R238" data-line-number="238"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R239" data-line-number="239"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R240" data-line-number="240"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">store_up_threshold</span>(<span class="pl-k">struct</span> kobject *a, <span class="pl-k">struct</span> attribute *b,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R241" data-line-number="241"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				  <span class="pl-k">const</span> <span class="pl-k">char</span> *buf, <span class="pl-c1">size_t</span> count)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R242" data-line-number="242"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R243" data-line-number="243"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R244" data-line-number="244"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R245" data-line-number="245"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R246" data-line-number="246"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	ret = <span class="pl-c1">sscanf</span>(buf, <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%u</span><span class="pl-pds">&quot;</span></span>, &amp;input);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R247" data-line-number="247"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (ret != <span class="pl-c1">1</span> || input &gt; MAX_FREQUENCY_UP_THRESHOLD ||</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R248" data-line-number="248"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			input &lt; MIN_FREQUENCY_UP_THRESHOLD) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R249" data-line-number="249"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> -EINVAL;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R250" data-line-number="250"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R251" data-line-number="251"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	dbs_tuners_ins.<span class="pl-smi">up_threshold</span> = input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R252" data-line-number="252"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R253" data-line-number="253"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> count;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R254" data-line-number="254"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R255" data-line-number="255"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R256" data-line-number="256"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">store_micro_freq_up_threshold</span>(<span class="pl-k">struct</span> kobject *a,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R257" data-line-number="257"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">struct</span> attribute *b, <span class="pl-k">const</span> <span class="pl-k">char</span> *buf, <span class="pl-c1">size_t</span> count)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R258" data-line-number="258"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R259" data-line-number="259"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R260" data-line-number="260"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R261" data-line-number="261"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R262" data-line-number="262"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	ret = <span class="pl-c1">sscanf</span>(buf, <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%u</span><span class="pl-pds">&quot;</span></span>, &amp;input);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R263" data-line-number="263"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (ret != <span class="pl-c1">1</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R264" data-line-number="264"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> -EINVAL;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R265" data-line-number="265"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	dbs_tuners_ins.<span class="pl-smi">micro_freq_up_threshold</span> = input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R266" data-line-number="266"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> count;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R267" data-line-number="267"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R268" data-line-number="268"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R269" data-line-number="269"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">store_down_differential</span>(<span class="pl-k">struct</span> kobject *a, <span class="pl-k">struct</span> attribute *b,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R270" data-line-number="270"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				<span class="pl-k">const</span> <span class="pl-k">char</span> *buf, <span class="pl-c1">size_t</span> count)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R271" data-line-number="271"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R272" data-line-number="272"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R273" data-line-number="273"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R274" data-line-number="274"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R275" data-line-number="275"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	ret = <span class="pl-c1">sscanf</span>(buf, <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%u</span><span class="pl-pds">&quot;</span></span>, &amp;input);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R276" data-line-number="276"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (ret != <span class="pl-c1">1</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R277" data-line-number="277"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> -EINVAL;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R278" data-line-number="278"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R279" data-line-number="279"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	dbs_tuners_ins.<span class="pl-smi">down_differential</span> = <span class="pl-c1">min</span>(input, <span class="pl-c1">100u</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R280" data-line-number="280"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R281" data-line-number="281"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> count;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R282" data-line-number="282"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R283" data-line-number="283"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R284" data-line-number="284"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">store_up_threshold_min_freq</span>(<span class="pl-k">struct</span> kobject *a, <span class="pl-k">struct</span> attribute *b,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R285" data-line-number="285"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				  <span class="pl-k">const</span> <span class="pl-k">char</span> *buf, <span class="pl-c1">size_t</span> count)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R286" data-line-number="286"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R287" data-line-number="287"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R288" data-line-number="288"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R289" data-line-number="289"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R290" data-line-number="290"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	ret = <span class="pl-c1">sscanf</span>(buf, <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%u</span><span class="pl-pds">&quot;</span></span>, &amp;input);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R291" data-line-number="291"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (ret != <span class="pl-c1">1</span> || input &gt; MAX_FREQUENCY_UP_THRESHOLD ||</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R292" data-line-number="292"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			input &lt; MIN_FREQUENCY_UP_THRESHOLD) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R293" data-line-number="293"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> -EINVAL;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R294" data-line-number="294"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R295" data-line-number="295"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	dbs_tuners_ins.<span class="pl-smi">up_threshold_min_freq</span> = input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R296" data-line-number="296"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R297" data-line-number="297"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> count;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R298" data-line-number="298"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R299" data-line-number="299"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R300" data-line-number="300"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">store_sampling_down_factor</span>(<span class="pl-k">struct</span> kobject *a,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R301" data-line-number="301"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">struct</span> attribute *b, <span class="pl-k">const</span> <span class="pl-k">char</span> *buf, <span class="pl-c1">size_t</span> count)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R302" data-line-number="302"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R303" data-line-number="303"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> input, j;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R304" data-line-number="304"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R305" data-line-number="305"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R306" data-line-number="306"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	ret = <span class="pl-c1">sscanf</span>(buf, <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%u</span><span class="pl-pds">&quot;</span></span>, &amp;input);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R307" data-line-number="307"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (ret != <span class="pl-c1">1</span> || input &gt; MAX_SAMPLING_DOWN_FACTOR || input &lt; <span class="pl-c1">1</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R308" data-line-number="308"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> -EINVAL;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R309" data-line-number="309"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R310" data-line-number="310"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	dbs_tuners_ins.<span class="pl-smi">sampling_down_factor</span> = input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R311" data-line-number="311"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R312" data-line-number="312"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c">/* Reset down sampling multiplier in case it was active */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R313" data-line-number="313"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">for_each_online_cpu</span>(j) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R314" data-line-number="314"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">struct</span> cpu_dbs_info_s *dbs_info;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R315" data-line-number="315"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		dbs_info = &amp;<span class="pl-c1">per_cpu</span>(od_cpu_dbs_info, j);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R316" data-line-number="316"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		dbs_info-&gt;rate_mult = <span class="pl-c1">1</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R317" data-line-number="317"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R318" data-line-number="318"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> count;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R319" data-line-number="319"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R320" data-line-number="320"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R321" data-line-number="321"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">store_freq_step</span>(<span class="pl-k">struct</span> kobject *a, <span class="pl-k">struct</span> attribute *b,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R322" data-line-number="322"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				   <span class="pl-k">const</span> <span class="pl-k">char</span> *buf, <span class="pl-c1">size_t</span> count)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R323" data-line-number="323"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R324" data-line-number="324"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R325" data-line-number="325"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R326" data-line-number="326"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R327" data-line-number="327"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	ret = <span class="pl-c1">sscanf</span>(buf, <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%u</span><span class="pl-pds">&quot;</span></span>, &amp;input);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R328" data-line-number="328"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (ret != <span class="pl-c1">1</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R329" data-line-number="329"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> -EINVAL;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R330" data-line-number="330"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R331" data-line-number="331"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	dbs_tuners_ins.<span class="pl-smi">freq_step</span> = <span class="pl-c1">min</span>(input, <span class="pl-c1">100u</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R332" data-line-number="332"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> count;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R333" data-line-number="333"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R334" data-line-number="334"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R335" data-line-number="335"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">define_one_global_rw</span>(sampling_rate);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R336" data-line-number="336"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">define_one_global_rw</span>(up_threshold);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R337" data-line-number="337"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">define_one_global_rw</span>(up_threshold_min_freq);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R338" data-line-number="338"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">define_one_global_rw</span>(sampling_down_factor);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R339" data-line-number="339"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">define_one_global_rw</span>(down_differential);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R340" data-line-number="340"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">define_one_global_rw</span>(micro_freq_up_threshold);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R341" data-line-number="341"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">define_one_global_rw</span>(boostpulse);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R342" data-line-number="342"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">define_one_global_rw</span>(boostfreq);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R343" data-line-number="343"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">define_one_global_rw</span>(freq_step);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R344" data-line-number="344"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R345" data-line-number="345"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">struct</span> attribute *dbs_attributes[] = {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R346" data-line-number="346"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;sampling_rate_min.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R347" data-line-number="347"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;sampling_rate.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R348" data-line-number="348"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;up_threshold.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R349" data-line-number="349"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;up_threshold_min_freq.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R350" data-line-number="350"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;sampling_down_factor.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R351" data-line-number="351"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;down_differential.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R352" data-line-number="352"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;micro_freq_up_threshold.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R353" data-line-number="353"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;boostpulse.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R354" data-line-number="354"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;boostfreq.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R355" data-line-number="355"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;freq_step.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R356" data-line-number="356"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">NULL</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R357" data-line-number="357"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+};</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R358" data-line-number="358"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R359" data-line-number="359"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">struct</span> attribute_group dbs_attr_group = {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R360" data-line-number="360"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">attrs</span> = dbs_attributes,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R361" data-line-number="361"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">name</span> = <span class="pl-s"><span class="pl-pds">&quot;</span>HYPER<span class="pl-pds">&quot;</span></span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R362" data-line-number="362"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+};</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R363" data-line-number="363"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R364" data-line-number="364"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">/************************** sysfs end ************************/</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R365" data-line-number="365"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R366" data-line-number="366"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">void</span> <span class="pl-en">dbs_freq_increase</span>(<span class="pl-k">struct</span> cpufreq_policy *p, <span class="pl-k">unsigned</span> <span class="pl-k">int</span> freq)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R367" data-line-number="367"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R368" data-line-number="368"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (p-&gt;cur == p-&gt;max)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R369" data-line-number="369"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R370" data-line-number="370"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R371" data-line-number="371"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">__cpufreq_driver_target</span>(p, freq, CPUFREQ_RELATION_L);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R372" data-line-number="372"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R373" data-line-number="373"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R374" data-line-number="374"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">void</span> <span class="pl-en">dbs_check_cpu</span>(<span class="pl-k">struct</span> cpu_dbs_info_s *this_dbs_info)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R375" data-line-number="375"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R376" data-line-number="376"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c">/* Extrapolated load of this CPU */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R377" data-line-number="377"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> load_at_max_freq = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R378" data-line-number="378"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> avg_load_at_max_freq = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R379" data-line-number="379"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> max_load_freq;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R380" data-line-number="380"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c">/* Current load across this CPU */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R381" data-line-number="381"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> cur_load = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R382" data-line-number="382"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> max_load = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R383" data-line-number="383"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R384" data-line-number="384"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> cpufreq_policy *policy;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R385" data-line-number="385"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> cpu_dbs_info_s *j_dbs_info;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R386" data-line-number="386"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> j = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R387" data-line-number="387"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> up_threshold = dbs_tuners_ins.<span class="pl-smi">up_threshold</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R388" data-line-number="388"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> sampling_rate;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R389" data-line-number="389"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R390" data-line-number="390"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	sampling_rate = dbs_tuners_ins.<span class="pl-smi">sampling_rate</span> * this_dbs_info-&gt;rate_mult;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R391" data-line-number="391"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	this_dbs_info-&gt;freq_lo = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R392" data-line-number="392"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R393" data-line-number="393"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	policy = this_dbs_info-&gt;cur_policy;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R394" data-line-number="394"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (policy == <span class="pl-c1">NULL</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R395" data-line-number="395"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R396" data-line-number="396"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R397" data-line-number="397"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c">/* Only core0 controls the boost */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R398" data-line-number="398"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (dbs_tuners_ins.<span class="pl-smi">boosted</span> &amp;&amp; policy-&gt;cpu == <span class="pl-c1">0</span>) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R399" data-line-number="399"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (<span class="pl-c1">ktime_to_us</span>(<span class="pl-c1">ktime_get</span>()) - hyper_freq_boosted_time &gt;=</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R400" data-line-number="400"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+					dbs_tuners_ins.<span class="pl-smi">freq_boost_time</span>) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R401" data-line-number="401"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			dbs_tuners_ins.<span class="pl-smi">boosted</span> = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R402" data-line-number="402"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R403" data-line-number="403"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R404" data-line-number="404"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R405" data-line-number="405"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c">/* Only core0 controls the timer_rate */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R406" data-line-number="406"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (hyper_sampling_rate_boosted &amp;&amp; policy-&gt;cpu == <span class="pl-c1">0</span>) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R407" data-line-number="407"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (<span class="pl-c1">ktime_to_us</span>(<span class="pl-c1">ktime_get</span>()) - hyper_sampling_rate_boosted_time &gt;=</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R408" data-line-number="408"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+					TIMER_RATE_BOOST_TIME) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R409" data-line-number="409"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R410" data-line-number="410"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			dbs_tuners_ins.<span class="pl-smi">sampling_rate</span> = hyper_current_sampling_rate;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R411" data-line-number="411"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			hyper_sampling_rate_boosted = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R412" data-line-number="412"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R413" data-line-number="413"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R414" data-line-number="414"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R415" data-line-number="415"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R416" data-line-number="416"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 * Every sampling_rate, we check, if current idle time is less</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R417" data-line-number="417"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 * than 20% (default), then we try to increase frequency</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R418" data-line-number="418"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 * Every sampling_rate, we look for a the lowest</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R419" data-line-number="419"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 * frequency which can sustain the load while keeping idle time over</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R420" data-line-number="420"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 * 30%. If such a frequency exist, we try to decrease to this frequency.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R421" data-line-number="421"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 *</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R422" data-line-number="422"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 * Any frequency increase takes it to the maximum frequency.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R423" data-line-number="423"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 * Frequency reduction happens at minimum steps of</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R424" data-line-number="424"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 * 5% (default) of current frequency</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R425" data-line-number="425"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R426" data-line-number="426"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R427" data-line-number="427"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c">/* Get Absolute Load - in terms of freq */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R428" data-line-number="428"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	max_load_freq = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R429" data-line-number="429"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R430" data-line-number="430"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">for_each_cpu</span>(j, policy-&gt;cpus) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R431" data-line-number="431"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		u64 cur_wall_time, cur_idle_time, cur_iowait_time;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R432" data-line-number="432"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">unsigned</span> <span class="pl-k">int</span> idle_time, wall_time, iowait_time;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R433" data-line-number="433"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">unsigned</span> <span class="pl-k">int</span> load_freq;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R434" data-line-number="434"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">int</span> freq_avg;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R435" data-line-number="435"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">bool</span> deep_sleep_detected = <span class="pl-c1">false</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R436" data-line-number="436"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c">/* the evil magic numbers, only 2 at least */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R437" data-line-number="437"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">const</span> <span class="pl-k">unsigned</span> <span class="pl-k">int</span> deep_sleep_backoff = <span class="pl-c1">10</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R438" data-line-number="438"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">const</span> <span class="pl-k">unsigned</span> <span class="pl-k">int</span> deep_sleep_factor = <span class="pl-c1">5</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R439" data-line-number="439"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R440" data-line-number="440"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		j_dbs_info = &amp;<span class="pl-c1">per_cpu</span>(od_cpu_dbs_info, j);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R441" data-line-number="441"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R442" data-line-number="442"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		cur_idle_time = <span class="pl-c1">get_cpu_idle_time</span>(j, &amp;cur_wall_time, <span class="pl-c1">0</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R443" data-line-number="443"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		cur_iowait_time = <span class="pl-c1">get_cpu_iowait_time</span>(j, &amp;cur_wall_time);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R444" data-line-number="444"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R445" data-line-number="445"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		wall_time = (<span class="pl-k">unsigned</span> <span class="pl-k">int</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R446" data-line-number="446"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			(cur_wall_time - j_dbs_info-&gt;prev_cpu_wall);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R447" data-line-number="447"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		j_dbs_info-&gt;prev_cpu_wall = cur_wall_time;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R448" data-line-number="448"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R449" data-line-number="449"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R450" data-line-number="450"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * Ignore wall delta jitters in both directions.  An</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R451" data-line-number="451"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * exceptionally long wall_time will likely result</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R452" data-line-number="452"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * idle but it was waken up to do work so the next</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R453" data-line-number="453"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * slice is less likely to want to run at low</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R454" data-line-number="454"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * frequency. Let&#39;s evaluate the next slice instead of</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R455" data-line-number="455"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * the idle long one that passed already and it&#39;s too</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R456" data-line-number="456"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * late to reduce in frequency.  As opposed an</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R457" data-line-number="457"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * exceptionally short slice that just run at low</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R458" data-line-number="458"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * frequency is unlikely to be idle, but we may go</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R459" data-line-number="459"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * back to idle pretty soon and that not idle slice</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R460" data-line-number="460"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * already passed. If short slices will keep coming</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R461" data-line-number="461"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * after a series of long slices the exponential</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R462" data-line-number="462"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * backoff will converge faster and we&#39;ll react faster</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R463" data-line-number="463"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * to high load. As opposed we&#39;ll decay slower</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R464" data-line-number="464"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * towards low load and long idle times.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R465" data-line-number="465"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R466" data-line-number="466"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (j_dbs_info-&gt;prev_cpu_wall_delta &gt;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R467" data-line-number="467"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		    wall_time * deep_sleep_factor ||</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R468" data-line-number="468"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		    j_dbs_info-&gt;prev_cpu_wall_delta * deep_sleep_factor &lt;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R469" data-line-number="469"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		    wall_time)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R470" data-line-number="470"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			deep_sleep_detected = <span class="pl-c1">true</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R471" data-line-number="471"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		j_dbs_info-&gt;prev_cpu_wall_delta =</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R472" data-line-number="472"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			(j_dbs_info-&gt;prev_cpu_wall_delta * deep_sleep_backoff</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R473" data-line-number="473"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			 + wall_time) / (deep_sleep_backoff+<span class="pl-c1">1</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R474" data-line-number="474"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R475" data-line-number="475"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		idle_time = (<span class="pl-k">unsigned</span> <span class="pl-k">int</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R476" data-line-number="476"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			(cur_idle_time - j_dbs_info-&gt;prev_cpu_idle);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R477" data-line-number="477"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		j_dbs_info-&gt;prev_cpu_idle = cur_idle_time;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R478" data-line-number="478"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R479" data-line-number="479"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		iowait_time = (<span class="pl-k">unsigned</span> <span class="pl-k">int</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R480" data-line-number="480"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			(cur_iowait_time - j_dbs_info-&gt;prev_cpu_iowait);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R481" data-line-number="481"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		j_dbs_info-&gt;prev_cpu_iowait = cur_iowait_time;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R482" data-line-number="482"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R483" data-line-number="483"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (deep_sleep_detected)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R484" data-line-number="484"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">continue</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R485" data-line-number="485"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R486" data-line-number="486"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (<span class="pl-c1">unlikely</span>(!wall_time || wall_time &lt; idle_time))</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R487" data-line-number="487"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">continue</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R488" data-line-number="488"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R489" data-line-number="489"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R490" data-line-number="490"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * If the CPU had gone completely idle, and a task just woke up</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R491" data-line-number="491"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * on this CPU now, it would be unfair to calculate &#39;load&#39; the</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R492" data-line-number="492"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * usual way for this elapsed time-window, because it will show</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R493" data-line-number="493"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * near-zero load, irrespective of how CPU intensive that task</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R494" data-line-number="494"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * actually is. This is undesirable for latency-sensitive bursty</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R495" data-line-number="495"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * workloads.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R496" data-line-number="496"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 *</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R497" data-line-number="497"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * To avoid this, we reuse the &#39;load&#39; from the previous</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R498" data-line-number="498"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * time-window and give this task a chance to start with a</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R499" data-line-number="499"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * reasonably high CPU frequency. (However, we shouldn&#39;t over-do</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R500" data-line-number="500"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * this copy, lest we get stuck at a high load (high frequency)</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R501" data-line-number="501"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * for too long, even when the current system load has actually</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R502" data-line-number="502"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * dropped down. So we perform the copy only once, upon the</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R503" data-line-number="503"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * first wake-up from idle.)</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R504" data-line-number="504"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 *</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R505" data-line-number="505"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * Detecting this situation is easy: the governor&#39;s deferrable</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R506" data-line-number="506"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * timer would not have fired during CPU-idle periods. Hence</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R507" data-line-number="507"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * an unusually large &#39;wall_time&#39; (as compared to the sampling</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R508" data-line-number="508"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * rate) indicates this scenario.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R509" data-line-number="509"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 *</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R510" data-line-number="510"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * prev_load can be zero in two cases and we must recalculate it</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R511" data-line-number="511"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * for both cases:</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R512" data-line-number="512"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * - during long idle intervals</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R513" data-line-number="513"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * - explicitly set to zero</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R514" data-line-number="514"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R515" data-line-number="515"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (<span class="pl-c1">unlikely</span>(wall_time &gt; (<span class="pl-c1">2</span> * sampling_rate) &amp;&amp;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R516" data-line-number="516"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			     j_dbs_info-&gt;prev_load)) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R517" data-line-number="517"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			cur_load = j_dbs_info-&gt;prev_load;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R518" data-line-number="518"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R519" data-line-number="519"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R520" data-line-number="520"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">			 * Perform a destructive copy, to ensure that we copy</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R521" data-line-number="521"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">			 * the previous load only once, upon the first wake-up</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R522" data-line-number="522"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">			 * from idle.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R523" data-line-number="523"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">			 */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R524" data-line-number="524"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			j_dbs_info-&gt;prev_load = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R525" data-line-number="525"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		} <span class="pl-k">else</span> {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R526" data-line-number="526"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			cur_load = <span class="pl-c1">100</span> * (wall_time - idle_time) / wall_time;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R527" data-line-number="527"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			j_dbs_info-&gt;prev_load = cur_load;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R528" data-line-number="528"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R529" data-line-number="529"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R530" data-line-number="530"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (cur_load &gt; max_load)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R531" data-line-number="531"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			max_load = cur_load;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R532" data-line-number="532"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R533" data-line-number="533"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		freq_avg = <span class="pl-c1">__cpufreq_driver_getavg</span>(policy, j);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R534" data-line-number="534"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (policy == <span class="pl-c1">NULL</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R535" data-line-number="535"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">return</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R536" data-line-number="536"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (freq_avg &lt;= <span class="pl-c1">0</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R537" data-line-number="537"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			freq_avg = policy-&gt;cur;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R538" data-line-number="538"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R539" data-line-number="539"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		load_freq = cur_load * freq_avg;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R540" data-line-number="540"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (load_freq &gt; max_load_freq)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R541" data-line-number="541"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			max_load_freq = load_freq;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R542" data-line-number="542"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R543" data-line-number="543"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c">/* calculate the scaled load across CPU */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R544" data-line-number="544"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		load_at_max_freq += (cur_load * policy-&gt;cur) /</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R545" data-line-number="545"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+					policy-&gt;max;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R546" data-line-number="546"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R547" data-line-number="547"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		avg_load_at_max_freq += ((load_at_max_freq +</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R548" data-line-number="548"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				j_dbs_info-&gt;load_at_prev_sample) / <span class="pl-c1">2</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R549" data-line-number="549"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R550" data-line-number="550"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		j_dbs_info-&gt;load_at_prev_sample = load_at_max_freq;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R551" data-line-number="551"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R552" data-line-number="552"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R553" data-line-number="553"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">cpufreq_notify_utilization</span>(policy, load_at_max_freq);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R554" data-line-number="554"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R555" data-line-number="555"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c">/* Check for frequency increase */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R556" data-line-number="556"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (max_load_freq &gt; up_threshold * policy-&gt;cur) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R557" data-line-number="557"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">int</span> inc = (policy-&gt;max * dbs_tuners_ins.<span class="pl-smi">freq_step</span>) / <span class="pl-c1">100</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R558" data-line-number="558"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">int</span> target = <span class="pl-c1">min</span>(policy-&gt;max, policy-&gt;cur + inc);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R559" data-line-number="559"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R560" data-line-number="560"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c">/* If switching to max speed, apply sampling_down_factor */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R561" data-line-number="561"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (policy-&gt;cur &lt; policy-&gt;max &amp;&amp; target == policy-&gt;max) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R562" data-line-number="562"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">if</span> (hyper_sampling_rate_boosted &amp;&amp;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R563" data-line-number="563"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				(dbs_tuners_ins.<span class="pl-smi">sampling_down_factor</span> &lt;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R564" data-line-number="564"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+					BOOSTED_SAMPLING_DOWN_FACTOR)) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R565" data-line-number="565"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				this_dbs_info-&gt;rate_mult =</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R566" data-line-number="566"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+					BOOSTED_SAMPLING_DOWN_FACTOR;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R567" data-line-number="567"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			} <span class="pl-k">else</span> {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R568" data-line-number="568"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				this_dbs_info-&gt;rate_mult =</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R569" data-line-number="569"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+					dbs_tuners_ins.<span class="pl-smi">sampling_down_factor</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R570" data-line-number="570"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R571" data-line-number="571"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R572" data-line-number="572"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">dbs_freq_increase</span>(policy, target);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R573" data-line-number="573"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R574" data-line-number="574"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R575" data-line-number="575"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R576" data-line-number="576"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c">/* check for frequency boost */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R577" data-line-number="577"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (dbs_tuners_ins.<span class="pl-smi">boosted</span> &amp;&amp; policy-&gt;cur &lt; dbs_tuners_ins.<span class="pl-smi">boostfreq</span>) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R578" data-line-number="578"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">dbs_freq_increase</span>(policy, dbs_tuners_ins.<span class="pl-smi">boostfreq</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R579" data-line-number="579"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		dbs_tuners_ins.<span class="pl-smi">boostfreq</span> = policy-&gt;cur;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R580" data-line-number="580"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R581" data-line-number="581"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R582" data-line-number="582"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R583" data-line-number="583"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c">/* Check for frequency decrease */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R584" data-line-number="584"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c">/* if we cannot reduce the frequency anymore, break out early */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R585" data-line-number="585"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (policy-&gt;cur == policy-&gt;min)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R586" data-line-number="586"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R587" data-line-number="587"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R588" data-line-number="588"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R589" data-line-number="589"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 * The optimal frequency is the frequency that is the lowest that</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R590" data-line-number="590"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 * can support the current CPU usage without triggering the up</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R591" data-line-number="591"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 * policy. To be safe, we focus 10 points under the threshold.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R592" data-line-number="592"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R593" data-line-number="593"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (max_load_freq &lt;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R594" data-line-number="594"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	    (dbs_tuners_ins.<span class="pl-smi">up_threshold</span> - dbs_tuners_ins.<span class="pl-smi">down_differential</span>) *</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R595" data-line-number="595"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			policy-&gt;cur) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R596" data-line-number="596"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">unsigned</span> <span class="pl-k">int</span> freq_next;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R597" data-line-number="597"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">unsigned</span> <span class="pl-k">int</span> down_thres;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R598" data-line-number="598"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R599" data-line-number="599"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		freq_next = max_load_freq /</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R600" data-line-number="600"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				(dbs_tuners_ins.<span class="pl-smi">up_threshold</span> -</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R601" data-line-number="601"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+					dbs_tuners_ins.<span class="pl-smi">down_differential</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R602" data-line-number="602"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R603" data-line-number="603"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (dbs_tuners_ins.<span class="pl-smi">boosted</span> &amp;&amp;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R604" data-line-number="604"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				freq_next &lt; dbs_tuners_ins.<span class="pl-smi">boostfreq</span>) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R605" data-line-number="605"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			freq_next = dbs_tuners_ins.<span class="pl-smi">boostfreq</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R606" data-line-number="606"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R607" data-line-number="607"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c">/* No longer fully busy, reset rate_mult */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R608" data-line-number="608"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		this_dbs_info-&gt;rate_mult = <span class="pl-c1">1</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R609" data-line-number="609"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R610" data-line-number="610"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (freq_next &lt; policy-&gt;min)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R611" data-line-number="611"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			freq_next = policy-&gt;min;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R612" data-line-number="612"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R613" data-line-number="613"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		down_thres = dbs_tuners_ins.<span class="pl-smi">up_threshold_min_freq</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R614" data-line-number="614"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			- dbs_tuners_ins.<span class="pl-smi">down_differential</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R615" data-line-number="615"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R616" data-line-number="616"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">__cpufreq_driver_target</span>(policy, freq_next,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R617" data-line-number="617"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			CPUFREQ_RELATION_L);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R618" data-line-number="618"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R619" data-line-number="619"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R620" data-line-number="620"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R621" data-line-number="621"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">void</span> <span class="pl-en">do_dbs_timer</span>(<span class="pl-k">struct</span> work_struct *work)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R622" data-line-number="622"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R623" data-line-number="623"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> cpu_dbs_info_s *dbs_info =</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R624" data-line-number="624"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">container_of</span>(work, <span class="pl-k">struct</span> cpu_dbs_info_s, work.<span class="pl-smi">work</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R625" data-line-number="625"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> sample_type = dbs_info-&gt;sample_type;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R626" data-line-number="626"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R627" data-line-number="627"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> delay;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R628" data-line-number="628"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R629" data-line-number="629"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (<span class="pl-c1">unlikely</span>(!<span class="pl-c1">cpu_online</span>(dbs_info-&gt;cpu) || !dbs_info-&gt;cur_policy))</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R630" data-line-number="630"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R631" data-line-number="631"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R632" data-line-number="632"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">mutex_lock</span>(&amp;dbs_info-&gt;timer_mutex);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R633" data-line-number="633"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R634" data-line-number="634"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c">/* Common NORMAL_SAMPLE setup */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R635" data-line-number="635"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	dbs_info-&gt;sample_type = DBS_NORMAL_SAMPLE;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R636" data-line-number="636"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (sample_type == DBS_NORMAL_SAMPLE) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R637" data-line-number="637"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">dbs_check_cpu</span>(dbs_info);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R638" data-line-number="638"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (dbs_info-&gt;freq_lo) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R639" data-line-number="639"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c">/* Setup timer for SUB_SAMPLE */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R640" data-line-number="640"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			dbs_info-&gt;sample_type = DBS_SUB_SAMPLE;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R641" data-line-number="641"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			delay = dbs_info-&gt;freq_hi_jiffies;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R642" data-line-number="642"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		} <span class="pl-k">else</span> {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R643" data-line-number="643"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c">/* We want all CPUs to do sampling nearly on</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R644" data-line-number="644"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">			 * same jiffy</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R645" data-line-number="645"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">			 */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R646" data-line-number="646"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			delay = <span class="pl-c1">usecs_to_jiffies</span>(dbs_tuners_ins.<span class="pl-smi">sampling_rate</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R647" data-line-number="647"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				* dbs_info-&gt;rate_mult);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R648" data-line-number="648"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R649" data-line-number="649"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">if</span> (<span class="pl-c1">num_online_cpus</span>() &gt; <span class="pl-c1">1</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R650" data-line-number="650"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				delay -= jiffies % delay;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R651" data-line-number="651"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R652" data-line-number="652"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	} <span class="pl-k">else</span> {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R653" data-line-number="653"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">__cpufreq_driver_target</span>(dbs_info-&gt;cur_policy,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R654" data-line-number="654"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			dbs_info-&gt;freq_lo, CPUFREQ_RELATION_H);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R655" data-line-number="655"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		delay = dbs_info-&gt;freq_lo_jiffies;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R656" data-line-number="656"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R657" data-line-number="657"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">queue_delayed_work_on</span>(dbs_info-&gt;cpu, dbs_wq, &amp;dbs_info-&gt;work, delay);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R658" data-line-number="658"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">mutex_unlock</span>(&amp;dbs_info-&gt;timer_mutex);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R659" data-line-number="659"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R660" data-line-number="660"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R661" data-line-number="661"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">inline</span> <span class="pl-k">void</span> <span class="pl-en">dbs_timer_init</span>(<span class="pl-k">struct</span> cpu_dbs_info_s *dbs_info)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R662" data-line-number="662"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R663" data-line-number="663"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c">/* We want all CPUs to do sampling nearly on same jiffy */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R664" data-line-number="664"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> delay = <span class="pl-c1">usecs_to_jiffies</span>(dbs_tuners_ins.<span class="pl-smi">sampling_rate</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R665" data-line-number="665"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R666" data-line-number="666"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (<span class="pl-c1">num_online_cpus</span>() &gt; <span class="pl-c1">1</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R667" data-line-number="667"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		delay -= jiffies % delay;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R668" data-line-number="668"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R669" data-line-number="669"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	dbs_info-&gt;sample_type = DBS_NORMAL_SAMPLE;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R670" data-line-number="670"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">INIT_DEFERRABLE_WORK</span>(&amp;dbs_info-&gt;work, do_dbs_timer);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R671" data-line-number="671"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">queue_delayed_work_on</span>(dbs_info-&gt;cpu, dbs_wq, &amp;dbs_info-&gt;work,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R672" data-line-number="672"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				<span class="pl-c1">10</span> * delay);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R673" data-line-number="673"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R674" data-line-number="674"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R675" data-line-number="675"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">inline</span> <span class="pl-k">void</span> <span class="pl-en">dbs_timer_exit</span>(<span class="pl-k">struct</span> cpu_dbs_info_s *dbs_info)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R676" data-line-number="676"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R677" data-line-number="677"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">cancel_delayed_work_sync</span>(&amp;dbs_info-&gt;work);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R678" data-line-number="678"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R679" data-line-number="679"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R680" data-line-number="680"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">int</span> <span class="pl-en">cpufreq_governor_dbs</span>(<span class="pl-k">struct</span> cpufreq_policy *policy,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R681" data-line-number="681"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				<span class="pl-k">unsigned</span> <span class="pl-k">int</span> event)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R682" data-line-number="682"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R683" data-line-number="683"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> cpu = policy-&gt;cpu;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R684" data-line-number="684"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> cpu_dbs_info_s *this_dbs_info;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R685" data-line-number="685"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> j;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R686" data-line-number="686"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> rc;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R687" data-line-number="687"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R688" data-line-number="688"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	this_dbs_info = &amp;<span class="pl-c1">per_cpu</span>(od_cpu_dbs_info, cpu);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R689" data-line-number="689"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R690" data-line-number="690"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">switch</span> (event) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R691" data-line-number="691"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">case</span> CPUFREQ_GOV_START:</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R692" data-line-number="692"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> ((!<span class="pl-c1">cpu_online</span>(cpu)) || (!policy))</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R693" data-line-number="693"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">return</span> -EINVAL;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R694" data-line-number="694"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R695" data-line-number="695"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">mutex_lock</span>(&amp;dbs_mutex);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R696" data-line-number="696"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R697" data-line-number="697"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		dbs_enable++;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R698" data-line-number="698"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R699" data-line-number="699"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">for_each_cpu</span>(j, policy-&gt;cpus) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R700" data-line-number="700"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">struct</span> cpu_dbs_info_s *j_dbs_info;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R701" data-line-number="701"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">unsigned</span> <span class="pl-k">int</span> prev_load;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R702" data-line-number="702"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R703" data-line-number="703"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			j_dbs_info = &amp;<span class="pl-c1">per_cpu</span>(od_cpu_dbs_info, j);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R704" data-line-number="704"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			j_dbs_info-&gt;cur_policy = policy;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R705" data-line-number="705"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R706" data-line-number="706"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			j_dbs_info-&gt;prev_cpu_idle = <span class="pl-c1">get_cpu_idle_time</span>(j,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R707" data-line-number="707"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+						&amp;j_dbs_info-&gt;prev_cpu_wall, <span class="pl-c1">0</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R708" data-line-number="708"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R709" data-line-number="709"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			prev_load = (<span class="pl-k">unsigned</span> <span class="pl-k">int</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R710" data-line-number="710"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				(j_dbs_info-&gt;prev_cpu_wall - j_dbs_info-&gt;prev_cpu_idle);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R711" data-line-number="711"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			j_dbs_info-&gt;prev_load = <span class="pl-c1">100</span> * prev_load /</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R712" data-line-number="712"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				(<span class="pl-k">unsigned</span> <span class="pl-k">int</span>) j_dbs_info-&gt;prev_cpu_wall;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R713" data-line-number="713"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R714" data-line-number="714"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		cpu = policy-&gt;cpu;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R715" data-line-number="715"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		this_dbs_info-&gt;cpu = cpu;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R716" data-line-number="716"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		this_dbs_info-&gt;rate_mult = <span class="pl-c1">1</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R717" data-line-number="717"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R718" data-line-number="718"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * Start the timerschedule work, when this governor</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R719" data-line-number="719"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * is used for first time</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R720" data-line-number="720"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R721" data-line-number="721"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (dbs_enable == <span class="pl-c1">1</span>) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R722" data-line-number="722"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">unsigned</span> <span class="pl-k">int</span> latency;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R723" data-line-number="723"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R724" data-line-number="724"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			rc = <span class="pl-c1">sysfs_create_group</span>(cpufreq_global_kobject,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R725" data-line-number="725"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+						&amp;dbs_attr_group);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R726" data-line-number="726"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">if</span> (rc) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R727" data-line-number="727"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				dbs_enable--;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R728" data-line-number="728"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				<span class="pl-c1">mutex_unlock</span>(&amp;dbs_mutex);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R729" data-line-number="729"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				<span class="pl-k">return</span> rc;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R730" data-line-number="730"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R731" data-line-number="731"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R732" data-line-number="732"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c">/* policy latency is in nS. Convert it to uS first */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R733" data-line-number="733"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			latency = policy-&gt;cpuinfo.<span class="pl-smi">transition_latency</span> / <span class="pl-c1">1000</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R734" data-line-number="734"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">if</span> (latency == <span class="pl-c1">0</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R735" data-line-number="735"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				latency = <span class="pl-c1">1</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R736" data-line-number="736"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c">/* Bring kernel and HW constraints together */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R737" data-line-number="737"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			min_sampling_rate = <span class="pl-c1">max</span>(min_sampling_rate,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R738" data-line-number="738"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+					MIN_LATENCY_MULTIPLIER * latency);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R739" data-line-number="739"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">if</span> (latency != <span class="pl-c1">1</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R740" data-line-number="740"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				dbs_tuners_ins.<span class="pl-smi">sampling_rate</span> =</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R741" data-line-number="741"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+					<span class="pl-c1">max</span>(dbs_tuners_ins.<span class="pl-smi">sampling_rate</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R742" data-line-number="742"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+						latency * LATENCY_MULTIPLIER);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R743" data-line-number="743"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R744" data-line-number="744"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">mutex_unlock</span>(&amp;dbs_mutex);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R745" data-line-number="745"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R746" data-line-number="746"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">mutex_init</span>(&amp;this_dbs_info-&gt;timer_mutex);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R747" data-line-number="747"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R748" data-line-number="748"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">dbs_timer_init</span>(this_dbs_info);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R749" data-line-number="749"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R750" data-line-number="750"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">break</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R751" data-line-number="751"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R752" data-line-number="752"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">case</span> CPUFREQ_GOV_STOP:</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R753" data-line-number="753"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">dbs_timer_exit</span>(this_dbs_info);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R754" data-line-number="754"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R755" data-line-number="755"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">mutex_lock</span>(&amp;dbs_mutex);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R756" data-line-number="756"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">mutex_destroy</span>(&amp;this_dbs_info-&gt;timer_mutex);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R757" data-line-number="757"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R758" data-line-number="758"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		dbs_enable--;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R759" data-line-number="759"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (!dbs_enable)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R760" data-line-number="760"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c1">sysfs_remove_group</span>(cpufreq_global_kobject,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R761" data-line-number="761"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+					   &amp;dbs_attr_group);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R762" data-line-number="762"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">mutex_unlock</span>(&amp;dbs_mutex);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R763" data-line-number="763"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R764" data-line-number="764"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">break</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R765" data-line-number="765"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R766" data-line-number="766"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">case</span> CPUFREQ_GOV_LIMITS:</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R767" data-line-number="767"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c">/* If device is being removed, skip set limits */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R768" data-line-number="768"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (!this_dbs_info-&gt;cur_policy)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R769" data-line-number="769"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">break</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R770" data-line-number="770"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">mutex_lock</span>(&amp;this_dbs_info-&gt;timer_mutex);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R771" data-line-number="771"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">__cpufreq_driver_target</span>(this_dbs_info-&gt;cur_policy,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R772" data-line-number="772"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				policy-&gt;cur, CPUFREQ_RELATION_L);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R773" data-line-number="773"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">dbs_check_cpu</span>(this_dbs_info);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R774" data-line-number="774"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">mutex_unlock</span>(&amp;this_dbs_info-&gt;timer_mutex);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R775" data-line-number="775"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R776" data-line-number="776"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">break</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R777" data-line-number="777"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R778" data-line-number="778"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R779" data-line-number="779"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R780" data-line-number="780"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R781" data-line-number="781"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">ifndef</span> CONFIG_CPU_FREQ_DEFAULT_GOV_HYPER</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R782" data-line-number="782"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R783" data-line-number="783"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">endif</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R784" data-line-number="784"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">struct</span> cpufreq_governor cpufreq_gov_HYPER = {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R785" data-line-number="785"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">name</span>			= <span class="pl-s"><span class="pl-pds">&quot;</span>HYPER<span class="pl-pds">&quot;</span></span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R786" data-line-number="786"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">governor</span>		= cpufreq_governor_dbs,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R787" data-line-number="787"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">max_transition_latency</span>	= TRANSITION_LATENCY_LIMIT,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R788" data-line-number="788"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">owner</span>			= THIS_MODULE,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R789" data-line-number="789"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+};</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R790" data-line-number="790"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R791" data-line-number="791"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">int</span> __init <span class="pl-en">cpufreq_gov_dbs_init</span>(<span class="pl-k">void</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R792" data-line-number="792"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R793" data-line-number="793"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	u64 wall;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R794" data-line-number="794"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	u64 idle_time;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R795" data-line-number="795"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> cpu = <span class="pl-c1">get_cpu</span>();</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R796" data-line-number="796"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> err = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R797" data-line-number="797"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R798" data-line-number="798"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	idle_time = <span class="pl-c1">get_cpu_idle_time_us</span>(cpu, &amp;wall);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R799" data-line-number="799"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">put_cpu</span>();</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R800" data-line-number="800"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (idle_time != -<span class="pl-c1">1ULL</span>) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R801" data-line-number="801"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c">/* Idle micro accounting is supported. Use finer thresholds */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R802" data-line-number="802"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		dbs_tuners_ins.<span class="pl-smi">up_threshold</span> = dbs_tuners_ins.<span class="pl-smi">micro_freq_up_threshold</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R803" data-line-number="803"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		dbs_tuners_ins.<span class="pl-smi">down_differential</span> =</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R804" data-line-number="804"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+					MICRO_FREQUENCY_DOWN_DIFFERENTIAL;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R805" data-line-number="805"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R806" data-line-number="806"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * In no_hz/micro accounting case we set the minimum frequency</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R807" data-line-number="807"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * not depending on HZ, but fixed (very low). The deferred</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R808" data-line-number="808"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * timer might skip some samples if idle/sleeping as needed.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R809" data-line-number="809"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		*/</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R810" data-line-number="810"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		min_sampling_rate = MICRO_FREQUENCY_MIN_SAMPLE_RATE;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R811" data-line-number="811"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	} <span class="pl-k">else</span> {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R812" data-line-number="812"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c">/* For correct statistics, we need 10 ticks for each measure */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R813" data-line-number="813"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		min_sampling_rate =</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R814" data-line-number="814"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			MIN_SAMPLING_RATE_RATIO * <span class="pl-c1">jiffies_to_usecs</span>(<span class="pl-c1">10</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R815" data-line-number="815"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R816" data-line-number="816"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R817" data-line-number="817"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	dbs_wq = <span class="pl-c1">alloc_workqueue</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>HYPER_dbs_wq<span class="pl-pds">&quot;</span></span>, WQ_HIGHPRI, <span class="pl-c1">0</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R818" data-line-number="818"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (!dbs_wq) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R819" data-line-number="819"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">printk</span>(KERN_ERR <span class="pl-s"><span class="pl-pds">&quot;</span>Failed to create HYPER_dbs_wq workqueue<span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R820" data-line-number="820"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> -EFAULT;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R821" data-line-number="821"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R822" data-line-number="822"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R823" data-line-number="823"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	err = <span class="pl-c1">cpufreq_register_governor</span>(&amp;cpufreq_gov_HYPER);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R824" data-line-number="824"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (err)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R825" data-line-number="825"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">goto</span> error_reg;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R826" data-line-number="826"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R827" data-line-number="827"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> err;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R828" data-line-number="828"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+error_reg:</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R829" data-line-number="829"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">kfree</span>(&amp;dbs_tuners_ins);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R830" data-line-number="830"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> err;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R831" data-line-number="831"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R832" data-line-number="832"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R833" data-line-number="833"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">void</span> __exit <span class="pl-en">cpufreq_gov_dbs_exit</span>(<span class="pl-k">void</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R834" data-line-number="834"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R835" data-line-number="835"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c">/*pm_qos_remove_notifier(PM_QOS_DVFS_RESPONSE_LATENCY,</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R836" data-line-number="836"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">			       &amp;hyper_qos_dvfs_lat_nb);*/</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R837" data-line-number="837"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R838" data-line-number="838"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">cpufreq_unregister_governor</span>(&amp;cpufreq_gov_HYPER);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R839" data-line-number="839"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">destroy_workqueue</span>(dbs_wq);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R840" data-line-number="840"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">kfree</span>(&amp;dbs_tuners_ins);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R841" data-line-number="841"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R842" data-line-number="842"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R843" data-line-number="843"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">MODULE_AUTHOR</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>Venkatesh Pallipadi &lt;venkatesh.pallipadi@intel.com&gt;<span class="pl-pds">&quot;</span></span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R844" data-line-number="844"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">MODULE_AUTHOR</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>Alexey Starikovskiy &lt;alexey.y.starikovskiy@intel.com&gt;<span class="pl-pds">&quot;</span></span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R845" data-line-number="845"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">MODULE_DESCRIPTION</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>&#39;cpufreq_HYPER&#39; - A dynamic cpufreq governor for <span class="pl-pds">&quot;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R846" data-line-number="846"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-s"><span class="pl-pds">&quot;</span>Low Latency Frequency Transition capable processors<span class="pl-pds">&quot;</span></span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R847" data-line-number="847"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">MODULE_LICENSE</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>GPL<span class="pl-pds">&quot;</span></span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R848" data-line-number="848"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R849" data-line-number="849"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">ifdef</span> CONFIG_CPU_FREQ_DEFAULT_GOV_HYPER</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R850" data-line-number="850"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">fs_initcall</span>(cpufreq_gov_dbs_init);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R851" data-line-number="851"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">else</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R852" data-line-number="852"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">module_init</span>(cpufreq_gov_dbs_init);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R853" data-line-number="853"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">endif</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-db2e867f7989b12dc8b5cdd505e6a532R854" data-line-number="854"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">module_exit</span>(cpufreq_gov_dbs_exit);</span>

  </td>
</tr>



              </table>
            </div>
      </div>

      <a name="diff-ab593206b4093930784c20cf8501d7f9"></a>
      <div id="diff-6"
           class="file js-details-container
                   
                   
                   
                   
                   show-inline-notes
                 ">
        <div class="file-header" data-path="drivers/cpufreq/cpufreq_alucard.c">
          <div class="file-actions">
              <span class="show-file-notes">
                <label>
                  <input type="checkbox" checked="checked" class="js-toggle-file-notes">
                  Show notes
                </label>
              </span>

                <a href="/Tkkg1994/StockKernel/blob/cbf17b4b432bfe962ae330d9a86f8ded47d33b22/drivers/cpufreq/cpufreq_alucard.c" class="btn btn-sm tooltipped tooltipped-nw" rel="nofollow" aria-label="View the whole file at version cbf17b4 ">View</a>


          </div>
          <div class="file-info">
              <span class="diffstat tooltipped tooltipped-e" aria-label="831 additions &amp; 0 deletions">831 <span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span></span>

            <span class="user-select-contain" title="drivers/cpufreq/cpufreq_alucard.c">
              drivers/cpufreq/cpufreq_alucard.c
            </span>
            
          </div>
        </div>

            <div class="data highlight blob-wrapper">
              <table class="diff-table tab-size  " data-tab-size="8">
                
      <tr data-position="0">
    <td id="diff-ab593206b4093930784c20cf8501d7f9L-1" class="blob-num blob-num-hunk non-expandable" data-line-number="..."></td>
    <td id="diff-ab593206b4093930784c20cf8501d7f9R0" class="blob-num blob-num-hunk non-expandable" data-line-number="..."></td>
    <td class="blob-code blob-code-inner blob-code-hunk">@@ -0,0 +1,831 @@</td>
  </tr>

    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R1" data-line-number="1"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R2" data-line-number="2"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> *  drivers/cpufreq/cpufreq_alucard.c</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R3" data-line-number="3"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> *</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R4" data-line-number="4"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> *  Copyright (C)  2011 Samsung Electronics co. ltd</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R5" data-line-number="5"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> *    ByungChang Cha &lt;bc.cha@samsung.com&gt;</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R6" data-line-number="6"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> *</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R7" data-line-number="7"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> *  Based on ondemand governor</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R8" data-line-number="8"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> *  Copyright (C)  2001 Russell King</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R9" data-line-number="9"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> *            (C)  2003 Venkatesh Pallipadi &lt;venkatesh.pallipadi@intel.com&gt;.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R10" data-line-number="10"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> *                      Jun Nakajima &lt;jun.nakajima@intel.com&gt;</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R11" data-line-number="11"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> *</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R12" data-line-number="12"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * This program is free software; you can redistribute it and/or modify</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R13" data-line-number="13"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * it under the terms of the GNU General Public License version 2 as</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R14" data-line-number="14"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * published by the Free Software Foundation.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R15" data-line-number="15"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> *</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R16" data-line-number="16"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * Created by Alucard_24@xda</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R17" data-line-number="17"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R18" data-line-number="18"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R19" data-line-number="19"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/kernel.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R20" data-line-number="20"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/module.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R21" data-line-number="21"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/init.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R22" data-line-number="22"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/cpufreq.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R23" data-line-number="23"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/cpu.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R24" data-line-number="24"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/jiffies.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R25" data-line-number="25"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/kernel_stat.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R26" data-line-number="26"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/mutex.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R27" data-line-number="27"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/hrtimer.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R28" data-line-number="28"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/tick.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R29" data-line-number="29"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/ktime.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R30" data-line-number="30"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/sched.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R31" data-line-number="31"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/slab.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R32" data-line-number="32"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R33" data-line-number="33"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * dbs is used in this file as a shortform for demandbased switching</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R34" data-line-number="34"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * It helps to keep variable names smaller, simpler</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R35" data-line-number="35"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R36" data-line-number="36"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R37" data-line-number="37"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">/* Tuning Interface */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R38" data-line-number="38"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">ifdef</span> CONFIG_MACH_LGE</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R39" data-line-number="39"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">FREQ_RESPONSIVENESS</span>		<span class="pl-c1">2265600</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R40" data-line-number="40"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">else</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R41" data-line-number="41"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">FREQ_RESPONSIVENESS</span>		<span class="pl-c1">1134000</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R42" data-line-number="42"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">endif</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R43" data-line-number="43"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R44" data-line-number="44"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">CPUS_DOWN_RATE</span>			<span class="pl-c1">2</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R45" data-line-number="45"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">CPUS_UP_RATE</span>			<span class="pl-c1">1</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R46" data-line-number="46"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R47" data-line-number="47"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">DEC_CPU_LOAD</span>			<span class="pl-c1">70</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R48" data-line-number="48"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">DEC_CPU_LOAD_AT_MIN_FREQ</span>	<span class="pl-c1">60</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R49" data-line-number="49"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R50" data-line-number="50"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">INC_CPU_LOAD</span>			<span class="pl-c1">70</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R51" data-line-number="51"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">INC_CPU_LOAD_AT_MIN_FREQ</span>	<span class="pl-c1">60</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R52" data-line-number="52"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R53" data-line-number="53"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">/* Pump Inc/Dec for all cores */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R54" data-line-number="54"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">PUMP_INC_STEP_AT_MIN_FREQ</span>	<span class="pl-c1">2</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R55" data-line-number="55"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">PUMP_INC_STEP</span>			<span class="pl-c1">2</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R56" data-line-number="56"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">PUMP_DEC_STEP_AT_MIN_FREQ</span>	<span class="pl-c1">2</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R57" data-line-number="57"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">PUMP_DEC_STEP</span>			<span class="pl-c1">1</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R58" data-line-number="58"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R59" data-line-number="59"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">/* sample rate */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R60" data-line-number="60"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">MIN_SAMPLING_RATE</span>		<span class="pl-c1">10000</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R61" data-line-number="61"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">SAMPLING_RATE</span>			<span class="pl-c1">50000</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R62" data-line-number="62"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R63" data-line-number="63"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">void</span> <span class="pl-en">do_alucard_timer</span>(<span class="pl-k">struct</span> work_struct *work);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R64" data-line-number="64"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R65" data-line-number="65"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">struct</span> cpufreq_alucard_cpuinfo {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R66" data-line-number="66"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	u64 prev_cpu_wall;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R67" data-line-number="67"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	u64 prev_cpu_idle;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R68" data-line-number="68"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> cpufreq_frequency_table *freq_table;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R69" data-line-number="69"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> delayed_work work;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R70" data-line-number="70"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> cpufreq_policy *cur_policy;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R71" data-line-number="71"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> pump_inc_step;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R72" data-line-number="72"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> pump_inc_step_at_min_freq;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R73" data-line-number="73"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> pump_dec_step;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R74" data-line-number="74"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> pump_dec_step_at_min_freq;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R75" data-line-number="75"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">bool</span> governor_enabled;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R76" data-line-number="76"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> up_rate;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R77" data-line-number="77"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> down_rate;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R78" data-line-number="78"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> cpu;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R79" data-line-number="79"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> min_index;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R80" data-line-number="80"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> max_index;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R81" data-line-number="81"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> prev_load;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R82" data-line-number="82"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R83" data-line-number="83"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 * mutex that serializes governor limit change with</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R84" data-line-number="84"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 * do_alucard_timer invocation. We do not want do_alucard_timer to run</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R85" data-line-number="85"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 * when user is changing the governor or limits.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R86" data-line-number="86"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R87" data-line-number="87"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> mutex timer_mutex;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R88" data-line-number="88"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+};</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R89" data-line-number="89"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R90" data-line-number="90"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-en">DEFINE_PER_CPU</span>(<span class="pl-k">struct</span> cpufreq_alucard_cpuinfo, od_alucard_cpuinfo);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R91" data-line-number="91"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R92" data-line-number="92"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">unsigned</span> <span class="pl-k">int</span> alucard_enable;	<span class="pl-c">/* number of CPUs using this policy */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R93" data-line-number="93"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R94" data-line-number="94"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * alucard_mutex protects alucard_enable in governor start/stop.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R95" data-line-number="95"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R96" data-line-number="96"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-en">DEFINE_MUTEX</span>(alucard_mutex);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R97" data-line-number="97"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R98" data-line-number="98"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">struct</span> workqueue_struct *alucard_wq;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R99" data-line-number="99"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R100" data-line-number="100"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">/* alucard tuners */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R101" data-line-number="101"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">struct</span> alucard_tuners {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R102" data-line-number="102"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> sampling_rate;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R103" data-line-number="103"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> inc_cpu_load_at_min_freq;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R104" data-line-number="104"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> inc_cpu_load;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R105" data-line-number="105"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> dec_cpu_load_at_min_freq;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R106" data-line-number="106"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> dec_cpu_load;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R107" data-line-number="107"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> freq_responsiveness;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R108" data-line-number="108"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> cpus_up_rate;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R109" data-line-number="109"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> cpus_down_rate;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R110" data-line-number="110"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+} alucard_tuners_ins = {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R111" data-line-number="111"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">sampling_rate</span> = SAMPLING_RATE,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R112" data-line-number="112"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">inc_cpu_load_at_min_freq</span> = INC_CPU_LOAD_AT_MIN_FREQ,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R113" data-line-number="113"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">inc_cpu_load</span> = INC_CPU_LOAD,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R114" data-line-number="114"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">dec_cpu_load_at_min_freq</span> = DEC_CPU_LOAD_AT_MIN_FREQ,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R115" data-line-number="115"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">dec_cpu_load</span> = DEC_CPU_LOAD,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R116" data-line-number="116"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">freq_responsiveness</span> = FREQ_RESPONSIVENESS,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R117" data-line-number="117"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">cpus_up_rate</span> = CPUS_UP_RATE,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R118" data-line-number="118"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">cpus_down_rate</span> = CPUS_DOWN_RATE,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R119" data-line-number="119"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+};</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R120" data-line-number="120"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R121" data-line-number="121"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">/************************** sysfs interface ************************/</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R122" data-line-number="122"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R123" data-line-number="123"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">/* cpufreq_alucard Governor Tunables */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R124" data-line-number="124"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">show_one</span>(<span class="pl-v">file_name, object</span>)					\</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R125" data-line-number="125"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> show_##file_name						\</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R126" data-line-number="126"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+(<span class="pl-k">struct</span> kobject *kobj, <span class="pl-k">struct</span> attribute *attr, <span class="pl-k">char</span> *buf)		\</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R127" data-line-number="127"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{									\</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R128" data-line-number="128"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> <span class="pl-c1">sprintf</span>(buf, <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%d</span><span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>, alucard_tuners_ins.<span class="pl-smi">object</span>);		\</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R129" data-line-number="129"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R130" data-line-number="130"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">show_one</span>(sampling_rate, sampling_rate);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R131" data-line-number="131"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">show_one</span>(inc_cpu_load_at_min_freq, inc_cpu_load_at_min_freq);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R132" data-line-number="132"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">show_one</span>(inc_cpu_load, inc_cpu_load);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R133" data-line-number="133"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">show_one</span>(dec_cpu_load_at_min_freq, dec_cpu_load_at_min_freq);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R134" data-line-number="134"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">show_one</span>(dec_cpu_load, dec_cpu_load);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R135" data-line-number="135"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">show_one</span>(freq_responsiveness, freq_responsiveness);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R136" data-line-number="136"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">show_one</span>(cpus_up_rate, cpus_up_rate);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R137" data-line-number="137"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">show_one</span>(cpus_down_rate, cpus_down_rate);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R138" data-line-number="138"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R139" data-line-number="139"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">show_pcpu_param</span>(<span class="pl-v">file_name, num_core</span>)		\</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R140" data-line-number="140"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> show_##file_name##_##num_core		\</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R141" data-line-number="141"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+(<span class="pl-k">struct</span> kobject *kobj, <span class="pl-k">struct</span> attribute *attr, <span class="pl-k">char</span> *buf)		\</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R142" data-line-number="142"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{									\</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R143" data-line-number="143"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> cpufreq_alucard_cpuinfo *this_alucard_cpuinfo = &amp;<span class="pl-c1">per_cpu</span>(od_alucard_cpuinfo, num_core - <span class="pl-c1">1</span>); \</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R144" data-line-number="144"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> <span class="pl-c1">sprintf</span>(buf, <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%d</span><span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>, \</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R145" data-line-number="145"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			this_alucard_cpuinfo-&gt;file_name);		\</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R146" data-line-number="146"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R147" data-line-number="147"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R148" data-line-number="148"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">show_pcpu_param</span>(pump_inc_step_at_min_freq, <span class="pl-c1">1</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R149" data-line-number="149"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">show_pcpu_param</span>(pump_inc_step_at_min_freq, <span class="pl-c1">2</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R150" data-line-number="150"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">show_pcpu_param</span>(pump_inc_step_at_min_freq, <span class="pl-c1">3</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R151" data-line-number="151"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">show_pcpu_param</span>(pump_inc_step_at_min_freq, <span class="pl-c1">4</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R152" data-line-number="152"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">show_pcpu_param</span>(pump_inc_step, <span class="pl-c1">1</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R153" data-line-number="153"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">show_pcpu_param</span>(pump_inc_step, <span class="pl-c1">2</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R154" data-line-number="154"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">show_pcpu_param</span>(pump_inc_step, <span class="pl-c1">3</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R155" data-line-number="155"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">show_pcpu_param</span>(pump_inc_step, <span class="pl-c1">4</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R156" data-line-number="156"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">show_pcpu_param</span>(pump_dec_step_at_min_freq, <span class="pl-c1">1</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R157" data-line-number="157"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">show_pcpu_param</span>(pump_dec_step_at_min_freq, <span class="pl-c1">2</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R158" data-line-number="158"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">show_pcpu_param</span>(pump_dec_step_at_min_freq, <span class="pl-c1">3</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R159" data-line-number="159"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">show_pcpu_param</span>(pump_dec_step_at_min_freq, <span class="pl-c1">4</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R160" data-line-number="160"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">show_pcpu_param</span>(pump_dec_step, <span class="pl-c1">1</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R161" data-line-number="161"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">show_pcpu_param</span>(pump_dec_step, <span class="pl-c1">2</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R162" data-line-number="162"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">show_pcpu_param</span>(pump_dec_step, <span class="pl-c1">3</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R163" data-line-number="163"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">show_pcpu_param</span>(pump_dec_step, <span class="pl-c1">4</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R164" data-line-number="164"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R165" data-line-number="165"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">store_pcpu_param</span>(<span class="pl-v">file_name, num_core</span>)		\</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R166" data-line-number="166"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> store_##file_name##_##num_core		\</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R167" data-line-number="167"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+(<span class="pl-k">struct</span> kobject *kobj, <span class="pl-k">struct</span> attribute *attr,				\</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R168" data-line-number="168"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">const</span> <span class="pl-k">char</span> *buf, <span class="pl-c1">size_t</span> count)					\</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R169" data-line-number="169"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{									\</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R170" data-line-number="170"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> input;						\</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R171" data-line-number="171"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> cpufreq_alucard_cpuinfo *this_alucard_cpuinfo; \</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R172" data-line-number="172"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> ret;							\</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R173" data-line-number="173"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+														\</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R174" data-line-number="174"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	ret = <span class="pl-c1">sscanf</span>(buf, <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%d</span><span class="pl-pds">&quot;</span></span>, &amp;input);					\</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R175" data-line-number="175"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (ret != <span class="pl-c1">1</span>)											\</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R176" data-line-number="176"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> -EINVAL;										\</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R177" data-line-number="177"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+														\</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R178" data-line-number="178"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	this_alucard_cpuinfo = &amp;<span class="pl-c1">per_cpu</span>(od_alucard_cpuinfo, num_core - <span class="pl-c1">1</span>); \</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R179" data-line-number="179"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+														\</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R180" data-line-number="180"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (input == this_alucard_cpuinfo-&gt;file_name) {		\</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R181" data-line-number="181"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> count;						\</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R182" data-line-number="182"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}								\</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R183" data-line-number="183"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+										\</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R184" data-line-number="184"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	this_alucard_cpuinfo-&gt;file_name = input;			\</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R185" data-line-number="185"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> count;							\</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R186" data-line-number="186"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R187" data-line-number="187"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R188" data-line-number="188"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R189" data-line-number="189"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">store_pcpu_pump_param</span>(<span class="pl-v">file_name, num_core</span>)		\</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R190" data-line-number="190"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> store_##file_name##_##num_core		\</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R191" data-line-number="191"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+(<span class="pl-k">struct</span> kobject *kobj, <span class="pl-k">struct</span> attribute *attr,				\</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R192" data-line-number="192"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">const</span> <span class="pl-k">char</span> *buf, <span class="pl-c1">size_t</span> count)					\</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R193" data-line-number="193"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{									\</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R194" data-line-number="194"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> input;						\</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R195" data-line-number="195"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> cpufreq_alucard_cpuinfo *this_alucard_cpuinfo; \</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R196" data-line-number="196"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> ret;							\</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R197" data-line-number="197"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+														\</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R198" data-line-number="198"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	ret = <span class="pl-c1">sscanf</span>(buf, <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%d</span><span class="pl-pds">&quot;</span></span>, &amp;input);					\</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R199" data-line-number="199"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (ret != <span class="pl-c1">1</span>)											\</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R200" data-line-number="200"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> -EINVAL;										\</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R201" data-line-number="201"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+														\</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R202" data-line-number="202"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	input = <span class="pl-c1">min</span>(<span class="pl-c1">max</span>(<span class="pl-c1">1</span>, input), <span class="pl-c1">6</span>);							\</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R203" data-line-number="203"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+														\</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R204" data-line-number="204"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	this_alucard_cpuinfo = &amp;<span class="pl-c1">per_cpu</span>(od_alucard_cpuinfo, num_core - <span class="pl-c1">1</span>); \</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R205" data-line-number="205"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+														\</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R206" data-line-number="206"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (input == this_alucard_cpuinfo-&gt;file_name) {		\</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R207" data-line-number="207"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> count;						\</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R208" data-line-number="208"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}								\</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R209" data-line-number="209"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+										\</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R210" data-line-number="210"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	this_alucard_cpuinfo-&gt;file_name = input;			\</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R211" data-line-number="211"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> count;							\</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R212" data-line-number="212"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R213" data-line-number="213"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R214" data-line-number="214"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">store_pcpu_pump_param</span>(pump_inc_step_at_min_freq, <span class="pl-c1">1</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R215" data-line-number="215"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">store_pcpu_pump_param</span>(pump_inc_step_at_min_freq, <span class="pl-c1">2</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R216" data-line-number="216"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">store_pcpu_pump_param</span>(pump_inc_step_at_min_freq, <span class="pl-c1">3</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R217" data-line-number="217"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">store_pcpu_pump_param</span>(pump_inc_step_at_min_freq, <span class="pl-c1">4</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R218" data-line-number="218"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">store_pcpu_pump_param</span>(pump_inc_step, <span class="pl-c1">1</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R219" data-line-number="219"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">store_pcpu_pump_param</span>(pump_inc_step, <span class="pl-c1">2</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R220" data-line-number="220"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">store_pcpu_pump_param</span>(pump_inc_step, <span class="pl-c1">3</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R221" data-line-number="221"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">store_pcpu_pump_param</span>(pump_inc_step, <span class="pl-c1">4</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R222" data-line-number="222"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">store_pcpu_pump_param</span>(pump_dec_step_at_min_freq, <span class="pl-c1">1</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R223" data-line-number="223"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">store_pcpu_pump_param</span>(pump_dec_step_at_min_freq, <span class="pl-c1">2</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R224" data-line-number="224"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">store_pcpu_pump_param</span>(pump_dec_step_at_min_freq, <span class="pl-c1">3</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R225" data-line-number="225"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">store_pcpu_pump_param</span>(pump_dec_step_at_min_freq, <span class="pl-c1">4</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R226" data-line-number="226"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">store_pcpu_pump_param</span>(pump_dec_step, <span class="pl-c1">1</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R227" data-line-number="227"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">store_pcpu_pump_param</span>(pump_dec_step, <span class="pl-c1">2</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R228" data-line-number="228"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">store_pcpu_pump_param</span>(pump_dec_step, <span class="pl-c1">3</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R229" data-line-number="229"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">store_pcpu_pump_param</span>(pump_dec_step, <span class="pl-c1">4</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R230" data-line-number="230"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R231" data-line-number="231"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">define_one_global_rw</span>(pump_inc_step_at_min_freq_1);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R232" data-line-number="232"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">define_one_global_rw</span>(pump_inc_step_at_min_freq_2);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R233" data-line-number="233"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">define_one_global_rw</span>(pump_inc_step_at_min_freq_3);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R234" data-line-number="234"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">define_one_global_rw</span>(pump_inc_step_at_min_freq_4);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R235" data-line-number="235"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">define_one_global_rw</span>(pump_inc_step_1);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R236" data-line-number="236"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">define_one_global_rw</span>(pump_inc_step_2);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R237" data-line-number="237"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">define_one_global_rw</span>(pump_inc_step_3);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R238" data-line-number="238"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">define_one_global_rw</span>(pump_inc_step_4);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R239" data-line-number="239"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">define_one_global_rw</span>(pump_dec_step_at_min_freq_1);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R240" data-line-number="240"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">define_one_global_rw</span>(pump_dec_step_at_min_freq_2);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R241" data-line-number="241"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">define_one_global_rw</span>(pump_dec_step_at_min_freq_3);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R242" data-line-number="242"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">define_one_global_rw</span>(pump_dec_step_at_min_freq_4);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R243" data-line-number="243"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">define_one_global_rw</span>(pump_dec_step_1);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R244" data-line-number="244"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">define_one_global_rw</span>(pump_dec_step_2);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R245" data-line-number="245"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">define_one_global_rw</span>(pump_dec_step_3);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R246" data-line-number="246"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">define_one_global_rw</span>(pump_dec_step_4);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R247" data-line-number="247"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R248" data-line-number="248"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">/* sampling_rate */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R249" data-line-number="249"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">store_sampling_rate</span>(<span class="pl-k">struct</span> kobject *a, <span class="pl-k">struct</span> attribute *b,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R250" data-line-number="250"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				   <span class="pl-k">const</span> <span class="pl-k">char</span> *buf, <span class="pl-c1">size_t</span> count)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R251" data-line-number="251"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R252" data-line-number="252"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R253" data-line-number="253"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> ret = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R254" data-line-number="254"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> mpd = <span class="pl-c1">strcmp</span>(current-&gt;comm, <span class="pl-s"><span class="pl-pds">&quot;</span>mpdecision<span class="pl-pds">&quot;</span></span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R255" data-line-number="255"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R256" data-line-number="256"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (mpd == <span class="pl-c1">0</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R257" data-line-number="257"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R258" data-line-number="258"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R259" data-line-number="259"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	ret = <span class="pl-c1">sscanf</span>(buf, <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%u</span><span class="pl-pds">&quot;</span></span>, &amp;input);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R260" data-line-number="260"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (ret != <span class="pl-c1">1</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R261" data-line-number="261"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> -EINVAL;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R262" data-line-number="262"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R263" data-line-number="263"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	input = <span class="pl-c1">max</span>(input, <span class="pl-c1">10000</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R264" data-line-number="264"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R265" data-line-number="265"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (input == alucard_tuners_ins.<span class="pl-smi">sampling_rate</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R266" data-line-number="266"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> count;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R267" data-line-number="267"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R268" data-line-number="268"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	alucard_tuners_ins.<span class="pl-smi">sampling_rate</span> = input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R269" data-line-number="269"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R270" data-line-number="270"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> count;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R271" data-line-number="271"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R272" data-line-number="272"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R273" data-line-number="273"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">/* inc_cpu_load_at_min_freq */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R274" data-line-number="274"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">store_inc_cpu_load_at_min_freq</span>(<span class="pl-k">struct</span> kobject *a, <span class="pl-k">struct</span> attribute *b,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R275" data-line-number="275"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				   <span class="pl-k">const</span> <span class="pl-k">char</span> *buf, <span class="pl-c1">size_t</span> count)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R276" data-line-number="276"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R277" data-line-number="277"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R278" data-line-number="278"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R279" data-line-number="279"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R280" data-line-number="280"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	ret = <span class="pl-c1">sscanf</span>(buf, <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%d</span><span class="pl-pds">&quot;</span></span>, &amp;input);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R281" data-line-number="281"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (ret != <span class="pl-c1">1</span>) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R282" data-line-number="282"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> -EINVAL;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R283" data-line-number="283"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R284" data-line-number="284"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R285" data-line-number="285"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	input = <span class="pl-c1">min</span>(input, alucard_tuners_ins.<span class="pl-smi">inc_cpu_load</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R286" data-line-number="286"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R287" data-line-number="287"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (input == alucard_tuners_ins.<span class="pl-smi">inc_cpu_load_at_min_freq</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R288" data-line-number="288"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> count;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R289" data-line-number="289"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R290" data-line-number="290"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	alucard_tuners_ins.<span class="pl-smi">inc_cpu_load_at_min_freq</span> = input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R291" data-line-number="291"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R292" data-line-number="292"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> count;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R293" data-line-number="293"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R294" data-line-number="294"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R295" data-line-number="295"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">/* inc_cpu_load */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R296" data-line-number="296"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">store_inc_cpu_load</span>(<span class="pl-k">struct</span> kobject *a, <span class="pl-k">struct</span> attribute *b,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R297" data-line-number="297"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+					<span class="pl-k">const</span> <span class="pl-k">char</span> *buf, <span class="pl-c1">size_t</span> count)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R298" data-line-number="298"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R299" data-line-number="299"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R300" data-line-number="300"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R301" data-line-number="301"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R302" data-line-number="302"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	ret = <span class="pl-c1">sscanf</span>(buf, <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%d</span><span class="pl-pds">&quot;</span></span>, &amp;input);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R303" data-line-number="303"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (ret != <span class="pl-c1">1</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R304" data-line-number="304"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> -EINVAL;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R305" data-line-number="305"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R306" data-line-number="306"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	input = <span class="pl-c1">max</span>(<span class="pl-c1">min</span>(input, <span class="pl-c1">100</span>),<span class="pl-c1">0</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R307" data-line-number="307"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R308" data-line-number="308"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (input == alucard_tuners_ins.<span class="pl-smi">inc_cpu_load</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R309" data-line-number="309"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> count;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R310" data-line-number="310"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R311" data-line-number="311"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	alucard_tuners_ins.<span class="pl-smi">inc_cpu_load</span> = input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R312" data-line-number="312"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R313" data-line-number="313"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> count;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R314" data-line-number="314"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R315" data-line-number="315"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R316" data-line-number="316"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">/* dec_cpu_load_at_min_freq */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R317" data-line-number="317"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">store_dec_cpu_load_at_min_freq</span>(<span class="pl-k">struct</span> kobject *a, <span class="pl-k">struct</span> attribute *b,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R318" data-line-number="318"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				   <span class="pl-k">const</span> <span class="pl-k">char</span> *buf, <span class="pl-c1">size_t</span> count)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R319" data-line-number="319"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R320" data-line-number="320"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R321" data-line-number="321"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R322" data-line-number="322"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R323" data-line-number="323"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	ret = <span class="pl-c1">sscanf</span>(buf, <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%d</span><span class="pl-pds">&quot;</span></span>, &amp;input);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R324" data-line-number="324"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (ret != <span class="pl-c1">1</span>) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R325" data-line-number="325"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> -EINVAL;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R326" data-line-number="326"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R327" data-line-number="327"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R328" data-line-number="328"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	input = <span class="pl-c1">min</span>(input, alucard_tuners_ins.<span class="pl-smi">dec_cpu_load</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R329" data-line-number="329"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R330" data-line-number="330"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (input == alucard_tuners_ins.<span class="pl-smi">dec_cpu_load_at_min_freq</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R331" data-line-number="331"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> count;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R332" data-line-number="332"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R333" data-line-number="333"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	alucard_tuners_ins.<span class="pl-smi">dec_cpu_load_at_min_freq</span> = input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R334" data-line-number="334"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R335" data-line-number="335"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> count;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R336" data-line-number="336"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R337" data-line-number="337"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R338" data-line-number="338"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">/* dec_cpu_load */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R339" data-line-number="339"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">store_dec_cpu_load</span>(<span class="pl-k">struct</span> kobject *a, <span class="pl-k">struct</span> attribute *b,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R340" data-line-number="340"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+					<span class="pl-k">const</span> <span class="pl-k">char</span> *buf, <span class="pl-c1">size_t</span> count)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R341" data-line-number="341"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R342" data-line-number="342"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R343" data-line-number="343"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R344" data-line-number="344"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R345" data-line-number="345"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	ret = <span class="pl-c1">sscanf</span>(buf, <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%d</span><span class="pl-pds">&quot;</span></span>, &amp;input);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R346" data-line-number="346"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (ret != <span class="pl-c1">1</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R347" data-line-number="347"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> -EINVAL;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R348" data-line-number="348"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R349" data-line-number="349"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	input = <span class="pl-c1">max</span>(<span class="pl-c1">min</span>(input, <span class="pl-c1">95</span>),<span class="pl-c1">5</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R350" data-line-number="350"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R351" data-line-number="351"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (input == alucard_tuners_ins.<span class="pl-smi">dec_cpu_load</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R352" data-line-number="352"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> count;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R353" data-line-number="353"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R354" data-line-number="354"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	alucard_tuners_ins.<span class="pl-smi">dec_cpu_load</span> = input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R355" data-line-number="355"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R356" data-line-number="356"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> count;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R357" data-line-number="357"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R358" data-line-number="358"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R359" data-line-number="359"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">/* freq_responsiveness */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R360" data-line-number="360"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">store_freq_responsiveness</span>(<span class="pl-k">struct</span> kobject *a, <span class="pl-k">struct</span> attribute *b,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R361" data-line-number="361"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				   <span class="pl-k">const</span> <span class="pl-k">char</span> *buf, <span class="pl-c1">size_t</span> count)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R362" data-line-number="362"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R363" data-line-number="363"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R364" data-line-number="364"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R365" data-line-number="365"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R366" data-line-number="366"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	ret = <span class="pl-c1">sscanf</span>(buf, <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%d</span><span class="pl-pds">&quot;</span></span>, &amp;input);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R367" data-line-number="367"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (ret != <span class="pl-c1">1</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R368" data-line-number="368"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> -EINVAL;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R369" data-line-number="369"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R370" data-line-number="370"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (input == alucard_tuners_ins.<span class="pl-smi">freq_responsiveness</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R371" data-line-number="371"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> count;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R372" data-line-number="372"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R373" data-line-number="373"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	alucard_tuners_ins.<span class="pl-smi">freq_responsiveness</span> = input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R374" data-line-number="374"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R375" data-line-number="375"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> count;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R376" data-line-number="376"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R377" data-line-number="377"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R378" data-line-number="378"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">/* cpus_up_rate */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R379" data-line-number="379"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">store_cpus_up_rate</span>(<span class="pl-k">struct</span> kobject *a, <span class="pl-k">struct</span> attribute *b,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R380" data-line-number="380"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				   <span class="pl-k">const</span> <span class="pl-k">char</span> *buf, <span class="pl-c1">size_t</span> count)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R381" data-line-number="381"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R382" data-line-number="382"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R383" data-line-number="383"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R384" data-line-number="384"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R385" data-line-number="385"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	ret = <span class="pl-c1">sscanf</span>(buf, <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%u</span><span class="pl-pds">&quot;</span></span>, &amp;input);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R386" data-line-number="386"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (ret != <span class="pl-c1">1</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R387" data-line-number="387"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> -EINVAL;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R388" data-line-number="388"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R389" data-line-number="389"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (input == alucard_tuners_ins.<span class="pl-smi">cpus_up_rate</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R390" data-line-number="390"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> count;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R391" data-line-number="391"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R392" data-line-number="392"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	alucard_tuners_ins.<span class="pl-smi">cpus_up_rate</span> = input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R393" data-line-number="393"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R394" data-line-number="394"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> count;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R395" data-line-number="395"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R396" data-line-number="396"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R397" data-line-number="397"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">/* cpus_down_rate */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R398" data-line-number="398"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">store_cpus_down_rate</span>(<span class="pl-k">struct</span> kobject *a, <span class="pl-k">struct</span> attribute *b,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R399" data-line-number="399"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				   <span class="pl-k">const</span> <span class="pl-k">char</span> *buf, <span class="pl-c1">size_t</span> count)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R400" data-line-number="400"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R401" data-line-number="401"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R402" data-line-number="402"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R403" data-line-number="403"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R404" data-line-number="404"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	ret = <span class="pl-c1">sscanf</span>(buf, <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%u</span><span class="pl-pds">&quot;</span></span>, &amp;input);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R405" data-line-number="405"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (ret != <span class="pl-c1">1</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R406" data-line-number="406"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> -EINVAL;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R407" data-line-number="407"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R408" data-line-number="408"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (input == alucard_tuners_ins.<span class="pl-smi">cpus_down_rate</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R409" data-line-number="409"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> count;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R410" data-line-number="410"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R411" data-line-number="411"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	alucard_tuners_ins.<span class="pl-smi">cpus_down_rate</span> = input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R412" data-line-number="412"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R413" data-line-number="413"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> count;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R414" data-line-number="414"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R415" data-line-number="415"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R416" data-line-number="416"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">define_one_global_rw</span>(sampling_rate);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R417" data-line-number="417"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">define_one_global_rw</span>(inc_cpu_load_at_min_freq);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R418" data-line-number="418"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">define_one_global_rw</span>(inc_cpu_load);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R419" data-line-number="419"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">define_one_global_rw</span>(dec_cpu_load_at_min_freq);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R420" data-line-number="420"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">define_one_global_rw</span>(dec_cpu_load);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R421" data-line-number="421"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">define_one_global_rw</span>(freq_responsiveness);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R422" data-line-number="422"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">define_one_global_rw</span>(cpus_up_rate);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R423" data-line-number="423"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">define_one_global_rw</span>(cpus_down_rate);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R424" data-line-number="424"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R425" data-line-number="425"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">struct</span> attribute *alucard_attributes[] = {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R426" data-line-number="426"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;sampling_rate.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R427" data-line-number="427"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;inc_cpu_load_at_min_freq.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R428" data-line-number="428"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;inc_cpu_load.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R429" data-line-number="429"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;dec_cpu_load_at_min_freq.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R430" data-line-number="430"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;dec_cpu_load.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R431" data-line-number="431"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;freq_responsiveness.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R432" data-line-number="432"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;pump_inc_step_at_min_freq_1.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R433" data-line-number="433"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;pump_inc_step_at_min_freq_2.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R434" data-line-number="434"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;pump_inc_step_at_min_freq_3.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R435" data-line-number="435"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;pump_inc_step_at_min_freq_4.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R436" data-line-number="436"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;pump_inc_step_1.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R437" data-line-number="437"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;pump_inc_step_2.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R438" data-line-number="438"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;pump_inc_step_3.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R439" data-line-number="439"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;pump_inc_step_4.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R440" data-line-number="440"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;pump_dec_step_at_min_freq_1.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R441" data-line-number="441"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;pump_dec_step_at_min_freq_2.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R442" data-line-number="442"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;pump_dec_step_at_min_freq_3.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R443" data-line-number="443"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;pump_dec_step_at_min_freq_4.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R444" data-line-number="444"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;pump_dec_step_1.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R445" data-line-number="445"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;pump_dec_step_2.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R446" data-line-number="446"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;pump_dec_step_3.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R447" data-line-number="447"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;pump_dec_step_4.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R448" data-line-number="448"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;cpus_up_rate.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R449" data-line-number="449"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;cpus_down_rate.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R450" data-line-number="450"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">NULL</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R451" data-line-number="451"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+};</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R452" data-line-number="452"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R453" data-line-number="453"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">struct</span> attribute_group alucard_attr_group = {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R454" data-line-number="454"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">attrs</span> = alucard_attributes,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R455" data-line-number="455"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">name</span> = <span class="pl-s"><span class="pl-pds">&quot;</span>alucard<span class="pl-pds">&quot;</span></span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R456" data-line-number="456"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+};</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R457" data-line-number="457"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R458" data-line-number="458"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">/************************** sysfs end ************************/</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R459" data-line-number="459"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R460" data-line-number="460"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">void</span> <span class="pl-en">cpufreq_frequency_table_policy_minmax_limits</span>(<span class="pl-k">struct</span> cpufreq_policy *policy,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R461" data-line-number="461"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+					<span class="pl-k">struct</span> cpufreq_alucard_cpuinfo *this_alucard_cpuinfo)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R462" data-line-number="462"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R463" data-line-number="463"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> cpufreq_frequency_table *table = this_alucard_cpuinfo-&gt;freq_table;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R464" data-line-number="464"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> i = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R465" data-line-number="465"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R466" data-line-number="466"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">for</span> (i = <span class="pl-c1">0</span>; (table[i].<span class="pl-smi">frequency</span> != CPUFREQ_TABLE_END); i++) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R467" data-line-number="467"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">unsigned</span> <span class="pl-k">int</span> freq = table[i].<span class="pl-smi">frequency</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R468" data-line-number="468"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (freq == CPUFREQ_ENTRY_INVALID) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R469" data-line-number="469"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">continue</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R470" data-line-number="470"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R471" data-line-number="471"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (freq == policy-&gt;min)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R472" data-line-number="472"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			this_alucard_cpuinfo-&gt;min_index = i;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R473" data-line-number="473"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (freq == policy-&gt;max)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R474" data-line-number="474"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			this_alucard_cpuinfo-&gt;max_index = i;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R475" data-line-number="475"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R476" data-line-number="476"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (freq &gt;= policy-&gt;min &amp;&amp;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R477" data-line-number="477"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			freq &gt;= policy-&gt;max)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R478" data-line-number="478"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">break</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R479" data-line-number="479"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R480" data-line-number="480"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R481" data-line-number="481"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R482" data-line-number="482"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">void</span> <span class="pl-en">cpufreq_frequency_table_policy_cur_limit</span>(<span class="pl-k">struct</span> cpufreq_policy *policy,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R483" data-line-number="483"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+					<span class="pl-k">struct</span> cpufreq_frequency_table *table,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R484" data-line-number="484"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+					<span class="pl-k">unsigned</span> <span class="pl-k">int</span> *index)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R485" data-line-number="485"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R486" data-line-number="486"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> i = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R487" data-line-number="487"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R488" data-line-number="488"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">for</span> (i = <span class="pl-c1">0</span>; (table[i].<span class="pl-smi">frequency</span> != CPUFREQ_TABLE_END); i++) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R489" data-line-number="489"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">unsigned</span> <span class="pl-k">int</span> freq = table[i].<span class="pl-smi">frequency</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R490" data-line-number="490"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (freq == CPUFREQ_ENTRY_INVALID) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R491" data-line-number="491"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">continue</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R492" data-line-number="492"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R493" data-line-number="493"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (freq == policy-&gt;cur) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R494" data-line-number="494"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			*<span class="pl-c1">index</span> = i;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R495" data-line-number="495"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">break</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R496" data-line-number="496"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R497" data-line-number="497"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R498" data-line-number="498"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R499" data-line-number="499"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R500" data-line-number="500"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">void</span> <span class="pl-en">alucard_check_cpu</span>(<span class="pl-k">struct</span> cpufreq_alucard_cpuinfo *this_alucard_cpuinfo)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R501" data-line-number="501"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R502" data-line-number="502"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> cpufreq_policy *policy;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R503" data-line-number="503"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> freq_responsiveness = alucard_tuners_ins.<span class="pl-smi">freq_responsiveness</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R504" data-line-number="504"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> dec_cpu_load = alucard_tuners_ins.<span class="pl-smi">dec_cpu_load</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R505" data-line-number="505"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> inc_cpu_load = alucard_tuners_ins.<span class="pl-smi">inc_cpu_load</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R506" data-line-number="506"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> pump_inc_step = this_alucard_cpuinfo-&gt;pump_inc_step;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R507" data-line-number="507"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> pump_dec_step = this_alucard_cpuinfo-&gt;pump_dec_step;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R508" data-line-number="508"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> cur_load = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R509" data-line-number="509"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> max_load = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R510" data-line-number="510"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> cpus_up_rate = alucard_tuners_ins.<span class="pl-smi">cpus_up_rate</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R511" data-line-number="511"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> cpus_down_rate = alucard_tuners_ins.<span class="pl-smi">cpus_down_rate</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R512" data-line-number="512"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> <span class="pl-c1">index</span> = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R513" data-line-number="513"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> j;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R514" data-line-number="514"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> sampling_rate = alucard_tuners_ins.<span class="pl-smi">sampling_rate</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R515" data-line-number="515"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R516" data-line-number="516"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	policy = this_alucard_cpuinfo-&gt;cur_policy;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R517" data-line-number="517"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (!policy)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R518" data-line-number="518"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R519" data-line-number="519"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R520" data-line-number="520"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c">/* Get min, current, max indexes from current cpu policy */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R521" data-line-number="521"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">cpufreq_frequency_table_policy_cur_limit</span>(policy,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R522" data-line-number="522"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				this_alucard_cpuinfo-&gt;freq_table,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R523" data-line-number="523"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				&amp;<span class="pl-c1">index</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R524" data-line-number="524"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R525" data-line-number="525"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">for_each_cpu</span>(j, policy-&gt;cpus) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R526" data-line-number="526"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">struct</span> cpufreq_alucard_cpuinfo *j_alucard_cpuinfo = &amp;<span class="pl-c1">per_cpu</span>(od_alucard_cpuinfo, j);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R527" data-line-number="527"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		u64 cur_wall_time, cur_idle_time;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R528" data-line-number="528"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">unsigned</span> <span class="pl-k">int</span> idle_time, wall_time;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R529" data-line-number="529"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R530" data-line-number="530"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		cur_idle_time = <span class="pl-c1">get_cpu_idle_time</span>(j, &amp;cur_wall_time, <span class="pl-c1">0</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R531" data-line-number="531"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R532" data-line-number="532"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		wall_time = (<span class="pl-k">unsigned</span> <span class="pl-k">int</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R533" data-line-number="533"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			(cur_wall_time - j_alucard_cpuinfo-&gt;prev_cpu_wall);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R534" data-line-number="534"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		j_alucard_cpuinfo-&gt;prev_cpu_wall = cur_wall_time;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R535" data-line-number="535"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R536" data-line-number="536"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		idle_time = (<span class="pl-k">unsigned</span> <span class="pl-k">int</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R537" data-line-number="537"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			(cur_idle_time - j_alucard_cpuinfo-&gt;prev_cpu_idle);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R538" data-line-number="538"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		j_alucard_cpuinfo-&gt;prev_cpu_idle = cur_idle_time;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R539" data-line-number="539"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R540" data-line-number="540"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (<span class="pl-c1">unlikely</span>(!wall_time || wall_time &lt; idle_time))</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R541" data-line-number="541"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">continue</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R542" data-line-number="542"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R543" data-line-number="543"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R544" data-line-number="544"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * If the CPU had gone completely idle, and a task just woke up</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R545" data-line-number="545"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * on this CPU now, it would be unfair to calculate &#39;load&#39; the</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R546" data-line-number="546"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * usual way for this elapsed time-window, because it will show</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R547" data-line-number="547"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * near-zero load, irrespective of how CPU intensive that task</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R548" data-line-number="548"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * actually is. This is undesirable for latency-sensitive bursty</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R549" data-line-number="549"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * workloads.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R550" data-line-number="550"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 *</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R551" data-line-number="551"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * To avoid this, we reuse the &#39;load&#39; from the previous</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R552" data-line-number="552"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * time-window and give this task a chance to start with a</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R553" data-line-number="553"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * reasonably high CPU frequency. (However, we shouldn&#39;t over-do</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R554" data-line-number="554"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * this copy, lest we get stuck at a high load (high frequency)</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R555" data-line-number="555"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * for too long, even when the current system load has actually</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R556" data-line-number="556"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * dropped down. So we perform the copy only once, upon the</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R557" data-line-number="557"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * first wake-up from idle.)</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R558" data-line-number="558"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 *</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R559" data-line-number="559"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * Detecting this situation is easy: the governor&#39;s deferrable</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R560" data-line-number="560"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * timer would not have fired during CPU-idle periods. Hence</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R561" data-line-number="561"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * an unusually large &#39;wall_time&#39; (as compared to the sampling</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R562" data-line-number="562"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * rate) indicates this scenario.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R563" data-line-number="563"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 *</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R564" data-line-number="564"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * prev_load can be zero in two cases and we must recalculate it</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R565" data-line-number="565"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * for both cases:</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R566" data-line-number="566"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * - during long idle intervals</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R567" data-line-number="567"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * - explicitly set to zero</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R568" data-line-number="568"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R569" data-line-number="569"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (<span class="pl-c1">unlikely</span>(wall_time &gt; (<span class="pl-c1">2</span> * sampling_rate) &amp;&amp;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R570" data-line-number="570"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			     j_alucard_cpuinfo-&gt;prev_load)) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R571" data-line-number="571"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			cur_load = j_alucard_cpuinfo-&gt;prev_load;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R572" data-line-number="572"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R573" data-line-number="573"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R574" data-line-number="574"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">			 * Perform a destructive copy, to ensure that we copy</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R575" data-line-number="575"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">			 * the previous load only once, upon the first wake-up</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R576" data-line-number="576"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">			 * from idle.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R577" data-line-number="577"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">			 */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R578" data-line-number="578"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			j_alucard_cpuinfo-&gt;prev_load = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R579" data-line-number="579"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		} <span class="pl-k">else</span> {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R580" data-line-number="580"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			cur_load = <span class="pl-c1">100</span> * (wall_time - idle_time) / wall_time;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R581" data-line-number="581"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			j_alucard_cpuinfo-&gt;prev_load = cur_load;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R582" data-line-number="582"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R583" data-line-number="583"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R584" data-line-number="584"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (cur_load &gt; max_load)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R585" data-line-number="585"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			max_load = cur_load;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R586" data-line-number="586"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R587" data-line-number="587"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R588" data-line-number="588"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">cpufreq_notify_utilization</span>(policy, cur_load);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R589" data-line-number="589"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R590" data-line-number="590"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c">/* CPUs Online Scale Frequency*/</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R591" data-line-number="591"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (policy-&gt;cur &lt; freq_responsiveness) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R592" data-line-number="592"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		inc_cpu_load = alucard_tuners_ins.<span class="pl-smi">inc_cpu_load_at_min_freq</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R593" data-line-number="593"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		dec_cpu_load = alucard_tuners_ins.<span class="pl-smi">dec_cpu_load_at_min_freq</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R594" data-line-number="594"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		pump_inc_step = this_alucard_cpuinfo-&gt;pump_inc_step_at_min_freq;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R595" data-line-number="595"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		pump_dec_step = this_alucard_cpuinfo-&gt;pump_dec_step_at_min_freq;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R596" data-line-number="596"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R597" data-line-number="597"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c">/* check if policy is valid */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R598" data-line-number="598"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (!policy)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R599" data-line-number="599"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R600" data-line-number="600"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c">/* Check for frequency increase or for frequency decrease */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R601" data-line-number="601"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (max_load &gt;= inc_cpu_load</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R602" data-line-number="602"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		 &amp;&amp; <span class="pl-c1">index</span> &lt; this_alucard_cpuinfo-&gt;max_index) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R603" data-line-number="603"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (this_alucard_cpuinfo-&gt;up_rate % cpus_up_rate == <span class="pl-c1">0</span>) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R604" data-line-number="604"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">if</span> ((<span class="pl-c1">index</span> + pump_inc_step) &lt;= this_alucard_cpuinfo-&gt;max_index)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R605" data-line-number="605"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				<span class="pl-c1">index</span> += pump_inc_step;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R606" data-line-number="606"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">else</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R607" data-line-number="607"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				<span class="pl-c1">index</span> = this_alucard_cpuinfo-&gt;max_index;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R608" data-line-number="608"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R609" data-line-number="609"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			this_alucard_cpuinfo-&gt;up_rate = <span class="pl-c1">1</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R610" data-line-number="610"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			this_alucard_cpuinfo-&gt;down_rate = <span class="pl-c1">1</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R611" data-line-number="611"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R612" data-line-number="612"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">if</span> (this_alucard_cpuinfo-&gt;freq_table[<span class="pl-c1">index</span>].<span class="pl-smi">frequency</span> != CPUFREQ_ENTRY_INVALID)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R613" data-line-number="613"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				<span class="pl-c1">__cpufreq_driver_target</span>(policy,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R614" data-line-number="614"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+										this_alucard_cpuinfo-&gt;freq_table[<span class="pl-c1">index</span>].<span class="pl-smi">frequency</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R615" data-line-number="615"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+										CPUFREQ_RELATION_L);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R616" data-line-number="616"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		} <span class="pl-k">else</span> {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R617" data-line-number="617"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">if</span> (this_alucard_cpuinfo-&gt;up_rate &lt; cpus_up_rate)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R618" data-line-number="618"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				++this_alucard_cpuinfo-&gt;up_rate;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R619" data-line-number="619"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">else</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R620" data-line-number="620"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				this_alucard_cpuinfo-&gt;up_rate = <span class="pl-c1">1</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R621" data-line-number="621"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R622" data-line-number="622"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	} <span class="pl-k">else</span> <span class="pl-k">if</span> (max_load &lt; dec_cpu_load</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R623" data-line-number="623"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				 &amp;&amp; <span class="pl-c1">index</span> &gt; this_alucard_cpuinfo-&gt;min_index) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R624" data-line-number="624"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (this_alucard_cpuinfo-&gt;down_rate % cpus_down_rate == <span class="pl-c1">0</span>) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R625" data-line-number="625"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">if</span> ((<span class="pl-c1">index</span> - this_alucard_cpuinfo-&gt;min_index) &gt;= pump_dec_step)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R626" data-line-number="626"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				<span class="pl-c1">index</span> -= pump_dec_step;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R627" data-line-number="627"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">else</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R628" data-line-number="628"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				<span class="pl-c1">index</span> = this_alucard_cpuinfo-&gt;min_index;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R629" data-line-number="629"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R630" data-line-number="630"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			this_alucard_cpuinfo-&gt;up_rate = <span class="pl-c1">1</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R631" data-line-number="631"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			this_alucard_cpuinfo-&gt;down_rate = <span class="pl-c1">1</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R632" data-line-number="632"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R633" data-line-number="633"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">if</span> (this_alucard_cpuinfo-&gt;freq_table[<span class="pl-c1">index</span>].<span class="pl-smi">frequency</span> != CPUFREQ_ENTRY_INVALID)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R634" data-line-number="634"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				<span class="pl-c1">__cpufreq_driver_target</span>(policy,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R635" data-line-number="635"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+										this_alucard_cpuinfo-&gt;freq_table[<span class="pl-c1">index</span>].<span class="pl-smi">frequency</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R636" data-line-number="636"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+										CPUFREQ_RELATION_L);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R637" data-line-number="637"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		} <span class="pl-k">else</span> {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R638" data-line-number="638"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">if</span> (this_alucard_cpuinfo-&gt;down_rate &lt; cpus_down_rate)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R639" data-line-number="639"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				++this_alucard_cpuinfo-&gt;down_rate;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R640" data-line-number="640"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">else</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R641" data-line-number="641"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				this_alucard_cpuinfo-&gt;down_rate = <span class="pl-c1">1</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R642" data-line-number="642"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R643" data-line-number="643"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	} <span class="pl-k">else</span> {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R644" data-line-number="644"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		this_alucard_cpuinfo-&gt;up_rate = <span class="pl-c1">1</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R645" data-line-number="645"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		this_alucard_cpuinfo-&gt;down_rate = <span class="pl-c1">1</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R646" data-line-number="646"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R647" data-line-number="647"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R648" data-line-number="648"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R649" data-line-number="649"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">void</span> <span class="pl-en">do_alucard_timer</span>(<span class="pl-k">struct</span> work_struct *work)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R650" data-line-number="650"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R651" data-line-number="651"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> cpufreq_alucard_cpuinfo *this_alucard_cpuinfo = </span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R652" data-line-number="652"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">container_of</span>(work, <span class="pl-k">struct</span> cpufreq_alucard_cpuinfo, work.<span class="pl-smi">work</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R653" data-line-number="653"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> delay;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R654" data-line-number="654"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R655" data-line-number="655"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (<span class="pl-c1">unlikely</span>(!<span class="pl-c1">cpu_online</span>(this_alucard_cpuinfo-&gt;cpu) ||</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R656" data-line-number="656"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				!this_alucard_cpuinfo-&gt;cur_policy))</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R657" data-line-number="657"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R658" data-line-number="658"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R659" data-line-number="659"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">mutex_lock</span>(&amp;this_alucard_cpuinfo-&gt;timer_mutex);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R660" data-line-number="660"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R661" data-line-number="661"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">alucard_check_cpu</span>(this_alucard_cpuinfo);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R662" data-line-number="662"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R663" data-line-number="663"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	delay = <span class="pl-c1">usecs_to_jiffies</span>(alucard_tuners_ins.<span class="pl-smi">sampling_rate</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R664" data-line-number="664"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R665" data-line-number="665"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c">/* We want all CPUs to do sampling nearly on same jiffy */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R666" data-line-number="666"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (<span class="pl-c1">num_online_cpus</span>() &gt; <span class="pl-c1">1</span>) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R667" data-line-number="667"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		delay -= jiffies % delay;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R668" data-line-number="668"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R669" data-line-number="669"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R670" data-line-number="670"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">queue_delayed_work_on</span>(this_alucard_cpuinfo-&gt;cpu, alucard_wq,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R671" data-line-number="671"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			&amp;this_alucard_cpuinfo-&gt;work, delay);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R672" data-line-number="672"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">mutex_unlock</span>(&amp;this_alucard_cpuinfo-&gt;timer_mutex);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R673" data-line-number="673"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R674" data-line-number="674"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R675" data-line-number="675"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">int</span> <span class="pl-en">cpufreq_governor_alucard</span>(<span class="pl-k">struct</span> cpufreq_policy *policy,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R676" data-line-number="676"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				<span class="pl-k">unsigned</span> <span class="pl-k">int</span> event)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R677" data-line-number="677"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R678" data-line-number="678"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> cpufreq_alucard_cpuinfo *this_alucard_cpuinfo;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R679" data-line-number="679"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> cpu = policy-&gt;cpu, j;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R680" data-line-number="680"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> rc, delay;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R681" data-line-number="681"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R682" data-line-number="682"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	this_alucard_cpuinfo = &amp;<span class="pl-c1">per_cpu</span>(od_alucard_cpuinfo, cpu);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R683" data-line-number="683"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R684" data-line-number="684"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">switch</span> (event) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R685" data-line-number="685"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">case</span> CPUFREQ_GOV_START:</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R686" data-line-number="686"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> ((!<span class="pl-c1">cpu_online</span>(cpu)) || (!policy))</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R687" data-line-number="687"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">return</span> -EINVAL;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R688" data-line-number="688"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R689" data-line-number="689"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">mutex_lock</span>(&amp;alucard_mutex);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R690" data-line-number="690"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		this_alucard_cpuinfo-&gt;freq_table = <span class="pl-c1">cpufreq_frequency_get_table</span>(cpu);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R691" data-line-number="691"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (!this_alucard_cpuinfo-&gt;freq_table) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R692" data-line-number="692"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c1">mutex_unlock</span>(&amp;alucard_mutex);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R693" data-line-number="693"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">return</span> -EINVAL;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R694" data-line-number="694"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R695" data-line-number="695"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">cpufreq_frequency_table_policy_minmax_limits</span>(policy,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R696" data-line-number="696"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				this_alucard_cpuinfo);	</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R697" data-line-number="697"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R698" data-line-number="698"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">for_each_cpu</span>(j, policy-&gt;cpus) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R699" data-line-number="699"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">struct</span> cpufreq_alucard_cpuinfo *j_alucard_cpuinfo = &amp;<span class="pl-c1">per_cpu</span>(od_alucard_cpuinfo, j);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R700" data-line-number="700"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">unsigned</span> <span class="pl-k">int</span> prev_load;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R701" data-line-number="701"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R702" data-line-number="702"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			j_alucard_cpuinfo-&gt;prev_cpu_idle = <span class="pl-c1">get_cpu_idle_time</span>(j,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R703" data-line-number="703"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				&amp;j_alucard_cpuinfo-&gt;prev_cpu_wall, <span class="pl-c1">0</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R704" data-line-number="704"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R705" data-line-number="705"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			prev_load = (<span class="pl-k">unsigned</span> <span class="pl-k">int</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R706" data-line-number="706"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				(j_alucard_cpuinfo-&gt;prev_cpu_wall -</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R707" data-line-number="707"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				j_alucard_cpuinfo-&gt;prev_cpu_idle);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R708" data-line-number="708"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			j_alucard_cpuinfo-&gt;prev_load = <span class="pl-c1">100</span> * prev_load /</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R709" data-line-number="709"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				(<span class="pl-k">unsigned</span> <span class="pl-k">int</span>) j_alucard_cpuinfo-&gt;prev_cpu_wall;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R710" data-line-number="710"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R711" data-line-number="711"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R712" data-line-number="712"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		alucard_enable++;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R713" data-line-number="713"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R714" data-line-number="714"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * Start the timerschedule work, when this governor</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R715" data-line-number="715"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * is used for first time</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R716" data-line-number="716"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R717" data-line-number="717"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (alucard_enable == <span class="pl-c1">1</span>) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R718" data-line-number="718"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			rc = <span class="pl-c1">sysfs_create_group</span>(cpufreq_global_kobject,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R719" data-line-number="719"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+						&amp;alucard_attr_group);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R720" data-line-number="720"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">if</span> (rc) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R721" data-line-number="721"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				alucard_enable--;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R722" data-line-number="722"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				<span class="pl-c1">mutex_unlock</span>(&amp;alucard_mutex);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R723" data-line-number="723"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				<span class="pl-k">return</span> rc;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R724" data-line-number="724"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R725" data-line-number="725"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R726" data-line-number="726"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		cpu = policy-&gt;cpu;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R727" data-line-number="727"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		this_alucard_cpuinfo-&gt;cpu = cpu;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R728" data-line-number="728"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		this_alucard_cpuinfo-&gt;cur_policy = policy;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R729" data-line-number="729"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		this_alucard_cpuinfo-&gt;up_rate = <span class="pl-c1">2</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R730" data-line-number="730"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		this_alucard_cpuinfo-&gt;down_rate = <span class="pl-c1">2</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R731" data-line-number="731"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		this_alucard_cpuinfo-&gt;governor_enabled = <span class="pl-c1">true</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R732" data-line-number="732"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">mutex_unlock</span>(&amp;alucard_mutex);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R733" data-line-number="733"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R734" data-line-number="734"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">mutex_init</span>(&amp;this_alucard_cpuinfo-&gt;timer_mutex);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R735" data-line-number="735"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R736" data-line-number="736"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		delay = <span class="pl-c1">usecs_to_jiffies</span>(alucard_tuners_ins.<span class="pl-smi">sampling_rate</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R737" data-line-number="737"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c">/* We want all CPUs to do sampling nearly on same jiffy */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R738" data-line-number="738"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (<span class="pl-c1">num_online_cpus</span>() &gt; <span class="pl-c1">1</span>) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R739" data-line-number="739"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			delay -= jiffies % delay;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R740" data-line-number="740"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R741" data-line-number="741"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R742" data-line-number="742"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">INIT_DEFERRABLE_WORK</span>(&amp;this_alucard_cpuinfo-&gt;work, do_alucard_timer);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R743" data-line-number="743"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">queue_delayed_work_on</span>(cpu,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R744" data-line-number="744"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			alucard_wq, &amp;this_alucard_cpuinfo-&gt;work, delay);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R745" data-line-number="745"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R746" data-line-number="746"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">break</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R747" data-line-number="747"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">case</span> CPUFREQ_GOV_STOP:</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R748" data-line-number="748"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">cancel_delayed_work_sync</span>(&amp;this_alucard_cpuinfo-&gt;work);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R749" data-line-number="749"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R750" data-line-number="750"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">mutex_lock</span>(&amp;alucard_mutex);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R751" data-line-number="751"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">mutex_destroy</span>(&amp;this_alucard_cpuinfo-&gt;timer_mutex);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R752" data-line-number="752"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R753" data-line-number="753"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		this_alucard_cpuinfo-&gt;governor_enabled = <span class="pl-c1">false</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R754" data-line-number="754"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R755" data-line-number="755"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		this_alucard_cpuinfo-&gt;cur_policy = <span class="pl-c1">NULL</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R756" data-line-number="756"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R757" data-line-number="757"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		alucard_enable--;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R758" data-line-number="758"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (!alucard_enable) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R759" data-line-number="759"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c1">sysfs_remove_group</span>(cpufreq_global_kobject,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R760" data-line-number="760"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+					   &amp;alucard_attr_group);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R761" data-line-number="761"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R762" data-line-number="762"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R763" data-line-number="763"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">mutex_unlock</span>(&amp;alucard_mutex);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R764" data-line-number="764"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R765" data-line-number="765"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">break</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R766" data-line-number="766"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">case</span> CPUFREQ_GOV_LIMITS:</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R767" data-line-number="767"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (!this_alucard_cpuinfo-&gt;cur_policy</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R768" data-line-number="768"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			 || !policy) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R769" data-line-number="769"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c1">pr_debug</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>Unable to limit cpu freq due to cur_policy == NULL<span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R770" data-line-number="770"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">return</span> -EPERM;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R771" data-line-number="771"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R772" data-line-number="772"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">mutex_lock</span>(&amp;this_alucard_cpuinfo-&gt;timer_mutex);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R773" data-line-number="773"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">__cpufreq_driver_target</span>(this_alucard_cpuinfo-&gt;cur_policy,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R774" data-line-number="774"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				policy-&gt;cur, CPUFREQ_RELATION_L);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R775" data-line-number="775"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R776" data-line-number="776"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">cpufreq_frequency_table_policy_minmax_limits</span>(policy,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R777" data-line-number="777"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				this_alucard_cpuinfo);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R778" data-line-number="778"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">mutex_unlock</span>(&amp;this_alucard_cpuinfo-&gt;timer_mutex);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R779" data-line-number="779"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R780" data-line-number="780"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">break</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R781" data-line-number="781"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R782" data-line-number="782"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R783" data-line-number="783"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R784" data-line-number="784"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R785" data-line-number="785"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">ifndef</span> CONFIG_CPU_FREQ_DEFAULT_GOV_ALUCARD</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R786" data-line-number="786"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R787" data-line-number="787"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">endif</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R788" data-line-number="788"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">struct</span> cpufreq_governor cpufreq_gov_alucard = {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R789" data-line-number="789"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">name</span>                   = <span class="pl-s"><span class="pl-pds">&quot;</span>alucard<span class="pl-pds">&quot;</span></span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R790" data-line-number="790"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">governor</span>               = cpufreq_governor_alucard,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R791" data-line-number="791"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">owner</span>                  = THIS_MODULE,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R792" data-line-number="792"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+};</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R793" data-line-number="793"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R794" data-line-number="794"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R795" data-line-number="795"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">int</span> __init <span class="pl-en">cpufreq_gov_alucard_init</span>(<span class="pl-k">void</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R796" data-line-number="796"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R797" data-line-number="797"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> cpu;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R798" data-line-number="798"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R799" data-line-number="799"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">for_each_possible_cpu</span>(cpu) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R800" data-line-number="800"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">struct</span> cpufreq_alucard_cpuinfo *this_alucard_cpuinfo = &amp;<span class="pl-c1">per_cpu</span>(od_alucard_cpuinfo, cpu);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R801" data-line-number="801"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R802" data-line-number="802"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		this_alucard_cpuinfo-&gt;pump_inc_step_at_min_freq = PUMP_INC_STEP_AT_MIN_FREQ;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R803" data-line-number="803"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		this_alucard_cpuinfo-&gt;pump_inc_step = PUMP_INC_STEP;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R804" data-line-number="804"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		this_alucard_cpuinfo-&gt;pump_dec_step = PUMP_DEC_STEP;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R805" data-line-number="805"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		this_alucard_cpuinfo-&gt;pump_dec_step_at_min_freq = PUMP_DEC_STEP_AT_MIN_FREQ;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R806" data-line-number="806"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R807" data-line-number="807"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R808" data-line-number="808"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	alucard_wq = <span class="pl-c1">alloc_workqueue</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>alucard_wq<span class="pl-pds">&quot;</span></span>, WQ_HIGHPRI, <span class="pl-c1">0</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R809" data-line-number="809"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (!alucard_wq) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R810" data-line-number="810"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">printk</span>(KERN_ERR <span class="pl-s"><span class="pl-pds">&quot;</span>Failed to create alucard_wq workqueue<span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R811" data-line-number="811"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> -EFAULT;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R812" data-line-number="812"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R813" data-line-number="813"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R814" data-line-number="814"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> <span class="pl-c1">cpufreq_register_governor</span>(&amp;cpufreq_gov_alucard);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R815" data-line-number="815"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R816" data-line-number="816"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R817" data-line-number="817"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">void</span> __exit <span class="pl-en">cpufreq_gov_alucard_exit</span>(<span class="pl-k">void</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R818" data-line-number="818"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R819" data-line-number="819"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">cpufreq_unregister_governor</span>(&amp;cpufreq_gov_alucard);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R820" data-line-number="820"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R821" data-line-number="821"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R822" data-line-number="822"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">MODULE_AUTHOR</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>Alucard24@XDA<span class="pl-pds">&quot;</span></span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R823" data-line-number="823"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">MODULE_DESCRIPTION</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>&#39;cpufreq_alucard&#39; - A dynamic cpufreq governor v3.0 (SnapDragon)<span class="pl-pds">&quot;</span></span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R824" data-line-number="824"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">MODULE_LICENSE</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>GPL<span class="pl-pds">&quot;</span></span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R825" data-line-number="825"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R826" data-line-number="826"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">ifdef</span> CONFIG_CPU_FREQ_DEFAULT_GOV_ALUCARD</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R827" data-line-number="827"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">fs_initcall</span>(cpufreq_gov_alucard_init);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R828" data-line-number="828"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">else</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R829" data-line-number="829"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">module_init</span>(cpufreq_gov_alucard_init);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R830" data-line-number="830"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">endif</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ab593206b4093930784c20cf8501d7f9R831" data-line-number="831"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">module_exit</span>(cpufreq_gov_alucard_exit);</span>

  </td>
</tr>



              </table>
            </div>
      </div>

      <a name="diff-4a796377fc9ee429c3e7a709420a9413"></a>
      <div id="diff-7"
           class="file js-details-container
                   
                   
                   
                   
                   show-inline-notes
                 ">
        <div class="file-header" data-path="drivers/cpufreq/cpufreq_barry_allen.c">
          <div class="file-actions">
              <span class="show-file-notes">
                <label>
                  <input type="checkbox" checked="checked" class="js-toggle-file-notes">
                  Show notes
                </label>
              </span>

                <a href="/Tkkg1994/StockKernel/blob/cbf17b4b432bfe962ae330d9a86f8ded47d33b22/drivers/cpufreq/cpufreq_barry_allen.c" class="btn btn-sm tooltipped tooltipped-nw" rel="nofollow" aria-label="View the whole file at version cbf17b4 ">View</a>


          </div>
          <div class="file-info">
              <span class="diffstat tooltipped tooltipped-e" aria-label="1,539 additions &amp; 0 deletions">1,539 <span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span></span>

            <span class="user-select-contain" title="drivers/cpufreq/cpufreq_barry_allen.c">
              drivers/cpufreq/cpufreq_barry_allen.c
            </span>
            
          </div>
        </div>

            <div class="data highlight empty">
              1,539 additions,
              0 deletions
              not shown because the diff is too large. Please use a local Git client to view these changes.
            </div>
      </div>

      <a name="diff-c936faba4c025c6dce871283b7005aca"></a>
      <div id="diff-8"
           class="file js-details-container
                   
                   
                   
                   
                   show-inline-notes
                 ">
        <div class="file-header" data-path="drivers/cpufreq/cpufreq_bioshock.c">
          <div class="file-actions">
              <span class="show-file-notes">
                <label>
                  <input type="checkbox" checked="checked" class="js-toggle-file-notes">
                  Show notes
                </label>
              </span>

                <a href="/Tkkg1994/StockKernel/blob/cbf17b4b432bfe962ae330d9a86f8ded47d33b22/drivers/cpufreq/cpufreq_bioshock.c" class="btn btn-sm tooltipped tooltipped-nw" rel="nofollow" aria-label="View the whole file at version cbf17b4 ">View</a>


          </div>
          <div class="file-info">
              <span class="diffstat tooltipped tooltipped-e" aria-label="590 additions &amp; 0 deletions">590 <span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span></span>

            <span class="user-select-contain" title="drivers/cpufreq/cpufreq_bioshock.c">
              drivers/cpufreq/cpufreq_bioshock.c
            </span>
            
          </div>
        </div>

            <div class="data highlight blob-wrapper">
              <table class="diff-table tab-size  " data-tab-size="8">
                
      <tr data-position="0">
    <td id="diff-c936faba4c025c6dce871283b7005acaL-1" class="blob-num blob-num-hunk non-expandable" data-line-number="..."></td>
    <td id="diff-c936faba4c025c6dce871283b7005acaR0" class="blob-num blob-num-hunk non-expandable" data-line-number="..."></td>
    <td class="blob-code blob-code-inner blob-code-hunk">@@ -0,0 +1,590 @@</td>
  </tr>

    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR1" data-line-number="1"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR2" data-line-number="2"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * drivers/cpufreq/cpufreq_bioshock.c</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR3" data-line-number="3"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> *</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR4" data-line-number="4"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * Based on the Conservative governor by:</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR5" data-line-number="5"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> *</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR6" data-line-number="6"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> *    Copyright (C)  2001 Russell King</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR7" data-line-number="7"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> *              (C)  2003 Venkatesh Pallipadi &lt;venkatesh.pallipadi@intel.com&gt;.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR8" data-line-number="8"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> *                        Jun Nakajima &lt;jun.nakajima@intel.com&gt;</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR9" data-line-number="9"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> *              (C)  2009 Alexander Clouter &lt;alex@digriz.org.uk&gt;</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR10" data-line-number="10"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> *              (C)  2014 Jamison904 &lt;infamousprollc@gmail.com&gt;</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR11" data-line-number="11"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> *</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR12" data-line-number="12"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * This program is free software; you can redistribute it and/or modify</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR13" data-line-number="13"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * it under the terms of the GNU General Public License version 2 as</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR14" data-line-number="14"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * published by the Free Software Foundation.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR15" data-line-number="15"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR16" data-line-number="16"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR17" data-line-number="17"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>asm/cputime.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR18" data-line-number="18"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/kthread.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR19" data-line-number="19"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/time.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR20" data-line-number="20"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/timer.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR21" data-line-number="21"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/cpumask.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR22" data-line-number="22"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/kernel.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR23" data-line-number="23"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/module.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR24" data-line-number="24"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/init.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR25" data-line-number="25"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/cpufreq.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR26" data-line-number="26"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/cpu.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR27" data-line-number="27"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/jiffies.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR28" data-line-number="28"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/kernel_stat.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR29" data-line-number="29"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/mutex.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR30" data-line-number="30"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/hrtimer.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR31" data-line-number="31"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/tick.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR32" data-line-number="32"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/ktime.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR33" data-line-number="33"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/sched.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR34" data-line-number="34"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/input.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR35" data-line-number="35"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/workqueue.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR36" data-line-number="36"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/slab.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR37" data-line-number="37"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">ifdef</span> CONFIG_HAS_EARLYSUSPEND</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR38" data-line-number="38"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/earlysuspend.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR39" data-line-number="39"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">endif</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR40" data-line-number="40"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR41" data-line-number="41"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * dbs is used in this file as a shortform for demandbased switching</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR42" data-line-number="42"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * It helps to keep variable names smaller, simpler</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR43" data-line-number="43"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR44" data-line-number="44"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR45" data-line-number="45"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">DEF_FREQUENCY_UP_THRESHOLD</span>		(<span class="pl-c1">70</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR46" data-line-number="46"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">DEF_FREQUENCY_DOWN_THRESHOLD</span>		(<span class="pl-c1">30</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR47" data-line-number="47"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR48" data-line-number="48"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR49" data-line-number="49"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * The polling frequency of this governor depends on the capability of</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR50" data-line-number="50"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * the processor. Default polling frequency is 1000 times the transition</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR51" data-line-number="51"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * latency of the processor. The governor will work on any processor with</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR52" data-line-number="52"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * transition latency &lt;= 10mS, using appropriate sampling</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR53" data-line-number="53"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * rate.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR54" data-line-number="54"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * For CPUs with transition latency &gt; 10mS (mostly drivers with CPUFREQ_ETERNAL)</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR55" data-line-number="55"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * this governor will not work.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR56" data-line-number="56"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * All times here are in uS.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR57" data-line-number="57"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR58" data-line-number="58"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">MIN_SAMPLING_RATE_RATIO</span>			(<span class="pl-c1">2</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR59" data-line-number="59"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR60" data-line-number="60"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">unsigned</span> <span class="pl-k">int</span> min_sampling_rate;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR61" data-line-number="61"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR62" data-line-number="62"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">LATENCY_MULTIPLIER</span>			(<span class="pl-c1">1000</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR63" data-line-number="63"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">MIN_LATENCY_MULTIPLIER</span>			(<span class="pl-c1">100</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR64" data-line-number="64"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">DEF_SAMPLING_DOWN_FACTOR</span>		(<span class="pl-c1">1</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR65" data-line-number="65"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">MAX_SAMPLING_DOWN_FACTOR</span>		(<span class="pl-c1">10</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR66" data-line-number="66"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">TRANSITION_LATENCY_LIMIT</span>		(<span class="pl-c1">10</span> * <span class="pl-c1">1000</span> * <span class="pl-c1">1000</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR67" data-line-number="67"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR68" data-line-number="68"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">void</span> <span class="pl-en">do_dbs_timer</span>(<span class="pl-k">struct</span> work_struct *work);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR69" data-line-number="69"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR70" data-line-number="70"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">struct</span> cpu_dbs_info_s {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR71" data-line-number="71"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">cputime64_t</span> prev_cpu_idle;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR72" data-line-number="72"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">cputime64_t</span> prev_cpu_wall;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR73" data-line-number="73"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">cputime64_t</span> prev_cpu_nice;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR74" data-line-number="74"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> cpufreq_policy *cur_policy;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR75" data-line-number="75"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> delayed_work work;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR76" data-line-number="76"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> down_skip;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR77" data-line-number="77"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> requested_freq;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR78" data-line-number="78"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> cpu;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR79" data-line-number="79"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> enable:<span class="pl-c1">1</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR80" data-line-number="80"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR81" data-line-number="81"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 * percpu mutex that serializes governor limit change with</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR82" data-line-number="82"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 * do_dbs_timer invocation. We do not want do_dbs_timer to run</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR83" data-line-number="83"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 * when user is changing the governor or limits.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR84" data-line-number="84"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR85" data-line-number="85"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> mutex timer_mutex;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR86" data-line-number="86"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+};</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR87" data-line-number="87"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-en">DEFINE_PER_CPU</span>(<span class="pl-k">struct</span> cpu_dbs_info_s, cs_cpu_dbs_info);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR88" data-line-number="88"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR89" data-line-number="89"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">unsigned</span> <span class="pl-k">int</span> dbs_enable;	<span class="pl-c">/* number of CPUs using this policy */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR90" data-line-number="90"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR91" data-line-number="91"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR92" data-line-number="92"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * dbs_mutex protects dbs_enable in governor start/stop.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR93" data-line-number="93"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR94" data-line-number="94"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-en">DEFINE_MUTEX</span>(dbs_mutex);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR95" data-line-number="95"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR96" data-line-number="96"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">struct</span> dbs_tuners {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR97" data-line-number="97"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> sampling_rate;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR98" data-line-number="98"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> sampling_down_factor;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR99" data-line-number="99"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> up_threshold;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR100" data-line-number="100"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> down_threshold;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR101" data-line-number="101"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> ignore_nice;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR102" data-line-number="102"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> freq_step;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR103" data-line-number="103"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+} dbs_tuners_ins = {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR104" data-line-number="104"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">up_threshold</span> = DEF_FREQUENCY_UP_THRESHOLD,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR105" data-line-number="105"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">down_threshold</span> = DEF_FREQUENCY_DOWN_THRESHOLD,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR106" data-line-number="106"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">sampling_down_factor</span> = DEF_SAMPLING_DOWN_FACTOR,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR107" data-line-number="107"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">ignore_nice</span> = <span class="pl-c1">0</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR108" data-line-number="108"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">freq_step</span> = <span class="pl-c1">5</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR109" data-line-number="109"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+};</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR110" data-line-number="110"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR111" data-line-number="111"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">/* keep track of frequency transitions */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR112" data-line-number="112"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">int</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR113" data-line-number="113"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">dbs_cpufreq_notifier</span>(<span class="pl-k">struct</span> notifier_block *nb, <span class="pl-k">unsigned</span> <span class="pl-k">long</span> val,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR114" data-line-number="114"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		     <span class="pl-k">void</span> *data)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR115" data-line-number="115"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR116" data-line-number="116"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> cpufreq_freqs *freq = data;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR117" data-line-number="117"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> cpu_dbs_info_s *this_dbs_info = &amp;<span class="pl-c1">per_cpu</span>(cs_cpu_dbs_info,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR118" data-line-number="118"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+							freq-&gt;cpu);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR119" data-line-number="119"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR120" data-line-number="120"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> cpufreq_policy *policy;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR121" data-line-number="121"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR122" data-line-number="122"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (!this_dbs_info-&gt;enable)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR123" data-line-number="123"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR124" data-line-number="124"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR125" data-line-number="125"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	policy = this_dbs_info-&gt;cur_policy;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR126" data-line-number="126"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR127" data-line-number="127"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR128" data-line-number="128"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 * we only care if our internally tracked freq moves outside</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR129" data-line-number="129"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 * the &#39;valid&#39; ranges of freqency available to us otherwise</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR130" data-line-number="130"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 * we do not change it</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR131" data-line-number="131"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	*/</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR132" data-line-number="132"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (this_dbs_info-&gt;requested_freq &gt; policy-&gt;max</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR133" data-line-number="133"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			|| this_dbs_info-&gt;requested_freq &lt; policy-&gt;min)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR134" data-line-number="134"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		this_dbs_info-&gt;requested_freq = freq-&gt;new;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR135" data-line-number="135"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR136" data-line-number="136"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR137" data-line-number="137"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR138" data-line-number="138"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR139" data-line-number="139"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">struct</span> notifier_block dbs_cpufreq_notifier_block = {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR140" data-line-number="140"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">notifier_call</span> = dbs_cpufreq_notifier</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR141" data-line-number="141"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+};</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR142" data-line-number="142"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR143" data-line-number="143"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">/************************** sysfs interface ************************/</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR144" data-line-number="144"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">show_sampling_rate_min</span>(<span class="pl-k">struct</span> kobject *kobj,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR145" data-line-number="145"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				      <span class="pl-k">struct</span> attribute *attr, <span class="pl-k">char</span> *buf)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR146" data-line-number="146"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR147" data-line-number="147"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> <span class="pl-c1">sprintf</span>(buf, <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%u</span><span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>, min_sampling_rate);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR148" data-line-number="148"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR149" data-line-number="149"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR150" data-line-number="150"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">define_one_global_ro</span>(sampling_rate_min);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR151" data-line-number="151"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR152" data-line-number="152"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">/* cpufreq_conservativex Governor Tunables */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR153" data-line-number="153"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">show_one</span>(<span class="pl-v">file_name, object</span>)					\</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR154" data-line-number="154"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> show_##file_name						\</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR155" data-line-number="155"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+(<span class="pl-k">struct</span> kobject *kobj, <span class="pl-k">struct</span> attribute *attr, <span class="pl-k">char</span> *buf)		\</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR156" data-line-number="156"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{									\</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR157" data-line-number="157"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> <span class="pl-c1">sprintf</span>(buf, <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%u</span><span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>, dbs_tuners_ins.<span class="pl-smi">object</span>);		\</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR158" data-line-number="158"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR159" data-line-number="159"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">show_one</span>(sampling_rate, sampling_rate);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR160" data-line-number="160"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">show_one</span>(sampling_down_factor, sampling_down_factor);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR161" data-line-number="161"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">show_one</span>(up_threshold, up_threshold);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR162" data-line-number="162"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">show_one</span>(down_threshold, down_threshold);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR163" data-line-number="163"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">show_one</span>(ignore_nice_load, ignore_nice);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR164" data-line-number="164"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">show_one</span>(freq_step, freq_step);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR165" data-line-number="165"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR166" data-line-number="166"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">store_sampling_down_factor</span>(<span class="pl-k">struct</span> kobject *a,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR167" data-line-number="167"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+					  <span class="pl-k">struct</span> attribute *b,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR168" data-line-number="168"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+					  <span class="pl-k">const</span> <span class="pl-k">char</span> *buf, <span class="pl-c1">size_t</span> count)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR169" data-line-number="169"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR170" data-line-number="170"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR171" data-line-number="171"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR172" data-line-number="172"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	ret = <span class="pl-c1">sscanf</span>(buf, <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%u</span><span class="pl-pds">&quot;</span></span>, &amp;input);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR173" data-line-number="173"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR174" data-line-number="174"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (ret != <span class="pl-c1">1</span> || input &gt; MAX_SAMPLING_DOWN_FACTOR || input &lt; <span class="pl-c1">1</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR175" data-line-number="175"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> -EINVAL;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR176" data-line-number="176"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR177" data-line-number="177"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	dbs_tuners_ins.<span class="pl-smi">sampling_down_factor</span> = input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR178" data-line-number="178"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> count;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR179" data-line-number="179"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR180" data-line-number="180"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR181" data-line-number="181"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">store_sampling_rate</span>(<span class="pl-k">struct</span> kobject *a, <span class="pl-k">struct</span> attribute *b,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR182" data-line-number="182"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				   <span class="pl-k">const</span> <span class="pl-k">char</span> *buf, <span class="pl-c1">size_t</span> count)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR183" data-line-number="183"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR184" data-line-number="184"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR185" data-line-number="185"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR186" data-line-number="186"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	ret = <span class="pl-c1">sscanf</span>(buf, <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%u</span><span class="pl-pds">&quot;</span></span>, &amp;input);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR187" data-line-number="187"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR188" data-line-number="188"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (ret != <span class="pl-c1">1</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR189" data-line-number="189"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> -EINVAL;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR190" data-line-number="190"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR191" data-line-number="191"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	dbs_tuners_ins.<span class="pl-smi">sampling_rate</span> = <span class="pl-c1">max</span>(input, min_sampling_rate);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR192" data-line-number="192"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> count;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR193" data-line-number="193"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR194" data-line-number="194"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR195" data-line-number="195"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">store_up_threshold</span>(<span class="pl-k">struct</span> kobject *a, <span class="pl-k">struct</span> attribute *b,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR196" data-line-number="196"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				  <span class="pl-k">const</span> <span class="pl-k">char</span> *buf, <span class="pl-c1">size_t</span> count)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR197" data-line-number="197"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR198" data-line-number="198"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR199" data-line-number="199"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR200" data-line-number="200"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	ret = <span class="pl-c1">sscanf</span>(buf, <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%u</span><span class="pl-pds">&quot;</span></span>, &amp;input);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR201" data-line-number="201"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR202" data-line-number="202"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (ret != <span class="pl-c1">1</span> || input &gt; <span class="pl-c1">100</span> ||</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR203" data-line-number="203"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			input &lt;= dbs_tuners_ins.<span class="pl-smi">down_threshold</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR204" data-line-number="204"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> -EINVAL;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR205" data-line-number="205"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR206" data-line-number="206"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	dbs_tuners_ins.<span class="pl-smi">up_threshold</span> = input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR207" data-line-number="207"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> count;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR208" data-line-number="208"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR209" data-line-number="209"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR210" data-line-number="210"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">store_down_threshold</span>(<span class="pl-k">struct</span> kobject *a, <span class="pl-k">struct</span> attribute *b,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR211" data-line-number="211"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				    <span class="pl-k">const</span> <span class="pl-k">char</span> *buf, <span class="pl-c1">size_t</span> count)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR212" data-line-number="212"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR213" data-line-number="213"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR214" data-line-number="214"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR215" data-line-number="215"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	ret = <span class="pl-c1">sscanf</span>(buf, <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%u</span><span class="pl-pds">&quot;</span></span>, &amp;input);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR216" data-line-number="216"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR217" data-line-number="217"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c">/* cannot be lower than 11 otherwise freq will not fall */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR218" data-line-number="218"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (ret != <span class="pl-c1">1</span> || input &lt; <span class="pl-c1">11</span> || input &gt; <span class="pl-c1">100</span> ||</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR219" data-line-number="219"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			input &gt;= dbs_tuners_ins.<span class="pl-smi">up_threshold</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR220" data-line-number="220"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> -EINVAL;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR221" data-line-number="221"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR222" data-line-number="222"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	dbs_tuners_ins.<span class="pl-smi">down_threshold</span> = input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR223" data-line-number="223"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> count;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR224" data-line-number="224"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR225" data-line-number="225"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR226" data-line-number="226"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">store_ignore_nice_load</span>(<span class="pl-k">struct</span> kobject *a, <span class="pl-k">struct</span> attribute *b,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR227" data-line-number="227"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				      <span class="pl-k">const</span> <span class="pl-k">char</span> *buf, <span class="pl-c1">size_t</span> count)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR228" data-line-number="228"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR229" data-line-number="229"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR230" data-line-number="230"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR231" data-line-number="231"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR232" data-line-number="232"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> j;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR233" data-line-number="233"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR234" data-line-number="234"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	ret = <span class="pl-c1">sscanf</span>(buf, <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%u</span><span class="pl-pds">&quot;</span></span>, &amp;input);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR235" data-line-number="235"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (ret != <span class="pl-c1">1</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR236" data-line-number="236"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> -EINVAL;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR237" data-line-number="237"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR238" data-line-number="238"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (input &gt; <span class="pl-c1">1</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR239" data-line-number="239"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		input = <span class="pl-c1">1</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR240" data-line-number="240"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR241" data-line-number="241"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (input == dbs_tuners_ins.<span class="pl-smi">ignore_nice</span>) <span class="pl-c">/* nothing to do */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR242" data-line-number="242"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> count;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR243" data-line-number="243"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR244" data-line-number="244"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	dbs_tuners_ins.<span class="pl-smi">ignore_nice</span> = input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR245" data-line-number="245"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR246" data-line-number="246"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c">/* we need to re-evaluate prev_cpu_idle */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR247" data-line-number="247"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">for_each_online_cpu</span>(j) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR248" data-line-number="248"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">struct</span> cpu_dbs_info_s *dbs_info;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR249" data-line-number="249"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		dbs_info = &amp;<span class="pl-c1">per_cpu</span>(cs_cpu_dbs_info, j);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR250" data-line-number="250"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		dbs_info-&gt;prev_cpu_idle = <span class="pl-c1">get_cpu_idle_time</span>(j,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR251" data-line-number="251"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+						&amp;dbs_info-&gt;prev_cpu_wall, <span class="pl-c1">0</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR252" data-line-number="252"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (dbs_tuners_ins.<span class="pl-smi">ignore_nice</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR253" data-line-number="253"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			dbs_info-&gt;prev_cpu_nice = <span class="pl-c1">kcpustat_cpu</span>(j).<span class="pl-smi">cpustat</span>[CPUTIME_NICE];</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR254" data-line-number="254"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR255" data-line-number="255"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> count;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR256" data-line-number="256"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR257" data-line-number="257"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR258" data-line-number="258"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">store_freq_step</span>(<span class="pl-k">struct</span> kobject *a, <span class="pl-k">struct</span> attribute *b,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR259" data-line-number="259"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			       <span class="pl-k">const</span> <span class="pl-k">char</span> *buf, <span class="pl-c1">size_t</span> count)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR260" data-line-number="260"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR261" data-line-number="261"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR262" data-line-number="262"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR263" data-line-number="263"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	ret = <span class="pl-c1">sscanf</span>(buf, <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%u</span><span class="pl-pds">&quot;</span></span>, &amp;input);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR264" data-line-number="264"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR265" data-line-number="265"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (ret != <span class="pl-c1">1</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR266" data-line-number="266"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> -EINVAL;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR267" data-line-number="267"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR268" data-line-number="268"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (input &gt; <span class="pl-c1">100</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR269" data-line-number="269"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		input = <span class="pl-c1">100</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR270" data-line-number="270"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR271" data-line-number="271"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c">/* no need to test here if freq_step is zero as the user might actually</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR272" data-line-number="272"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 * want this, they would be crazy though :) */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR273" data-line-number="273"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	dbs_tuners_ins.<span class="pl-smi">freq_step</span> = input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR274" data-line-number="274"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> count;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR275" data-line-number="275"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR276" data-line-number="276"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR277" data-line-number="277"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">define_one_global_rw</span>(sampling_rate);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR278" data-line-number="278"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">define_one_global_rw</span>(sampling_down_factor);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR279" data-line-number="279"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">define_one_global_rw</span>(up_threshold);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR280" data-line-number="280"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">define_one_global_rw</span>(down_threshold);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR281" data-line-number="281"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">define_one_global_rw</span>(ignore_nice_load);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR282" data-line-number="282"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">define_one_global_rw</span>(freq_step);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR283" data-line-number="283"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR284" data-line-number="284"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">struct</span> attribute *dbs_attributes[] = {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR285" data-line-number="285"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;sampling_rate_min.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR286" data-line-number="286"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;sampling_rate.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR287" data-line-number="287"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;sampling_down_factor.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR288" data-line-number="288"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;up_threshold.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR289" data-line-number="289"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;down_threshold.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR290" data-line-number="290"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;ignore_nice_load.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR291" data-line-number="291"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;freq_step.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR292" data-line-number="292"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">NULL</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR293" data-line-number="293"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+};</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR294" data-line-number="294"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR295" data-line-number="295"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">struct</span> attribute_group dbs_attr_group = {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR296" data-line-number="296"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">attrs</span> = dbs_attributes,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR297" data-line-number="297"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">name</span> = <span class="pl-s"><span class="pl-pds">&quot;</span>bioshock<span class="pl-pds">&quot;</span></span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR298" data-line-number="298"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+};</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR299" data-line-number="299"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR300" data-line-number="300"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">/************************** sysfs end ************************/</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR301" data-line-number="301"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR302" data-line-number="302"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">void</span> <span class="pl-en">dbs_check_cpu</span>(<span class="pl-k">struct</span> cpu_dbs_info_s *this_dbs_info)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR303" data-line-number="303"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR304" data-line-number="304"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> load = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR305" data-line-number="305"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> max_load = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR306" data-line-number="306"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> freq_target;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR307" data-line-number="307"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR308" data-line-number="308"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> cpufreq_policy *policy;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR309" data-line-number="309"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> j;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR310" data-line-number="310"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR311" data-line-number="311"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	policy = this_dbs_info-&gt;cur_policy;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR312" data-line-number="312"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR313" data-line-number="313"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR314" data-line-number="314"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 * Every sampling_rate, we check, if current idle time is less</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR315" data-line-number="315"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 * than 20% (default), then we try to increase frequency</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR316" data-line-number="316"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 * Every sampling_rate*sampling_down_factor, we check, if current</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR317" data-line-number="317"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 * idle time is more than 80%, then we try to decrease frequency</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR318" data-line-number="318"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 *</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR319" data-line-number="319"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 * Any frequency increase takes it to the maximum frequency.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR320" data-line-number="320"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 * Frequency reduction happens at minimum steps of</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR321" data-line-number="321"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 * 5% (default) of maximum frequency</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR322" data-line-number="322"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR323" data-line-number="323"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR324" data-line-number="324"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c">/* Get Absolute Load */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR325" data-line-number="325"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">for_each_cpu</span>(j, policy-&gt;cpus) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR326" data-line-number="326"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">struct</span> cpu_dbs_info_s *j_dbs_info;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR327" data-line-number="327"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">cputime64_t</span> cur_wall_time, cur_idle_time;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR328" data-line-number="328"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">unsigned</span> <span class="pl-k">int</span> idle_time, wall_time;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR329" data-line-number="329"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR330" data-line-number="330"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		j_dbs_info = &amp;<span class="pl-c1">per_cpu</span>(cs_cpu_dbs_info, j);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR331" data-line-number="331"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR332" data-line-number="332"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		cur_idle_time = <span class="pl-c1">get_cpu_idle_time</span>(j, &amp;cur_wall_time, <span class="pl-c1">0</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR333" data-line-number="333"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR334" data-line-number="334"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		wall_time = (<span class="pl-k">unsigned</span> <span class="pl-k">int</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR335" data-line-number="335"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			(cur_wall_time - j_dbs_info-&gt;prev_cpu_wall);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR336" data-line-number="336"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		j_dbs_info-&gt;prev_cpu_wall = cur_wall_time;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR337" data-line-number="337"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR338" data-line-number="338"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		idle_time = (<span class="pl-k">unsigned</span> <span class="pl-k">int</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR339" data-line-number="339"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			(cur_idle_time - j_dbs_info-&gt;prev_cpu_idle);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR340" data-line-number="340"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		j_dbs_info-&gt;prev_cpu_idle = cur_idle_time;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR341" data-line-number="341"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR342" data-line-number="342"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (dbs_tuners_ins.<span class="pl-smi">ignore_nice</span>) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR343" data-line-number="343"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c1">cputime64_t</span> cur_nice;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR344" data-line-number="344"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">unsigned</span> <span class="pl-k">long</span> cur_nice_jiffies;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR345" data-line-number="345"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR346" data-line-number="346"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			cur_nice = <span class="pl-c1">kcpustat_cpu</span>(j).<span class="pl-smi">cpustat</span>[CPUTIME_NICE] -</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR347" data-line-number="347"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+					 j_dbs_info-&gt;prev_cpu_nice;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR348" data-line-number="348"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR349" data-line-number="349"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">			 * Assumption: nice time between sampling periods will</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR350" data-line-number="350"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">			 * be less than 2^32 jiffies for 32 bit sys</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR351" data-line-number="351"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">			 */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR352" data-line-number="352"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			cur_nice_jiffies = (<span class="pl-k">unsigned</span> <span class="pl-k">long</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR353" data-line-number="353"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+					<span class="pl-c1">cputime64_to_jiffies64</span>(cur_nice);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR354" data-line-number="354"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR355" data-line-number="355"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			j_dbs_info-&gt;prev_cpu_nice = <span class="pl-c1">kcpustat_cpu</span>(j).<span class="pl-smi">cpustat</span>[CPUTIME_NICE];</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR356" data-line-number="356"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			idle_time += <span class="pl-c1">jiffies_to_usecs</span>(cur_nice_jiffies);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR357" data-line-number="357"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR358" data-line-number="358"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR359" data-line-number="359"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (<span class="pl-c1">unlikely</span>(!wall_time || wall_time &lt; idle_time))</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR360" data-line-number="360"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">continue</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR361" data-line-number="361"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR362" data-line-number="362"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		load = <span class="pl-c1">100</span> * (wall_time - idle_time) / wall_time;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR363" data-line-number="363"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR364" data-line-number="364"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (load &gt; max_load)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR365" data-line-number="365"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			max_load = load;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR366" data-line-number="366"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR367" data-line-number="367"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR368" data-line-number="368"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR369" data-line-number="369"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 * break out if we &#39;cannot&#39; reduce the speed as the user might</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR370" data-line-number="370"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 * want freq_step to be zero</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR371" data-line-number="371"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR372" data-line-number="372"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (dbs_tuners_ins.<span class="pl-smi">freq_step</span> == <span class="pl-c1">0</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR373" data-line-number="373"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR374" data-line-number="374"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR375" data-line-number="375"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c">/* Check for frequency increase */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR376" data-line-number="376"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (max_load &gt; dbs_tuners_ins.<span class="pl-smi">up_threshold</span>) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR377" data-line-number="377"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		this_dbs_info-&gt;down_skip = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR378" data-line-number="378"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR379" data-line-number="379"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c">/* if we are already at full speed then break out early */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR380" data-line-number="380"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (this_dbs_info-&gt;requested_freq == policy-&gt;max)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR381" data-line-number="381"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">return</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR382" data-line-number="382"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR383" data-line-number="383"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		freq_target = (dbs_tuners_ins.<span class="pl-smi">freq_step</span> * policy-&gt;max) / <span class="pl-c1">100</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR384" data-line-number="384"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR385" data-line-number="385"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c">/* max freq cannot be less than 100. But who knows.... */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR386" data-line-number="386"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (<span class="pl-c1">unlikely</span>(freq_target == <span class="pl-c1">0</span>))</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR387" data-line-number="387"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			freq_target = <span class="pl-c1">5</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR388" data-line-number="388"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR389" data-line-number="389"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		this_dbs_info-&gt;requested_freq += freq_target;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR390" data-line-number="390"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (this_dbs_info-&gt;requested_freq &gt; policy-&gt;max)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR391" data-line-number="391"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			this_dbs_info-&gt;requested_freq = policy-&gt;max;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR392" data-line-number="392"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR393" data-line-number="393"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">__cpufreq_driver_target</span>(policy, this_dbs_info-&gt;requested_freq,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR394" data-line-number="394"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			CPUFREQ_RELATION_H);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR395" data-line-number="395"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR396" data-line-number="396"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR397" data-line-number="397"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR398" data-line-number="398"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR399" data-line-number="399"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 * The optimal frequency is the frequency that is the lowest that</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR400" data-line-number="400"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 * can support the current CPU usage without triggering the up</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR401" data-line-number="401"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 * policy. To be safe, we focus 10 points under the threshold.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR402" data-line-number="402"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR403" data-line-number="403"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (max_load &lt; (dbs_tuners_ins.<span class="pl-smi">down_threshold</span> - <span class="pl-c1">10</span>)) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR404" data-line-number="404"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		freq_target = (dbs_tuners_ins.<span class="pl-smi">freq_step</span> * policy-&gt;max) / <span class="pl-c1">100</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR405" data-line-number="405"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR406" data-line-number="406"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		this_dbs_info-&gt;requested_freq -= freq_target;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR407" data-line-number="407"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (this_dbs_info-&gt;requested_freq &lt; policy-&gt;min)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR408" data-line-number="408"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			this_dbs_info-&gt;requested_freq = policy-&gt;min;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR409" data-line-number="409"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR410" data-line-number="410"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR411" data-line-number="411"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * if we cannot reduce the frequency anymore, break out early</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR412" data-line-number="412"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR413" data-line-number="413"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (policy-&gt;cur == policy-&gt;min)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR414" data-line-number="414"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">return</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR415" data-line-number="415"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR416" data-line-number="416"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">__cpufreq_driver_target</span>(policy, this_dbs_info-&gt;requested_freq,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR417" data-line-number="417"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				CPUFREQ_RELATION_H);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR418" data-line-number="418"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR419" data-line-number="419"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR420" data-line-number="420"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR421" data-line-number="421"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR422" data-line-number="422"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">void</span> <span class="pl-en">do_dbs_timer</span>(<span class="pl-k">struct</span> work_struct *work)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR423" data-line-number="423"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR424" data-line-number="424"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> cpu_dbs_info_s *dbs_info =</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR425" data-line-number="425"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">container_of</span>(work, <span class="pl-k">struct</span> cpu_dbs_info_s, work.<span class="pl-smi">work</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR426" data-line-number="426"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> cpu = dbs_info-&gt;cpu;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR427" data-line-number="427"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR428" data-line-number="428"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c">/* We want all CPUs to do sampling nearly on same jiffy */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR429" data-line-number="429"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> delay = <span class="pl-c1">usecs_to_jiffies</span>(dbs_tuners_ins.<span class="pl-smi">sampling_rate</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR430" data-line-number="430"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR431" data-line-number="431"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c">// delay -= jiffies % delay;</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR432" data-line-number="432"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR433" data-line-number="433"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">mutex_lock</span>(&amp;dbs_info-&gt;timer_mutex);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR434" data-line-number="434"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR435" data-line-number="435"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">dbs_check_cpu</span>(dbs_info);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR436" data-line-number="436"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR437" data-line-number="437"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">schedule_delayed_work_on</span>(cpu, &amp;dbs_info-&gt;work, delay);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR438" data-line-number="438"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">mutex_unlock</span>(&amp;dbs_info-&gt;timer_mutex);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR439" data-line-number="439"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR440" data-line-number="440"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR441" data-line-number="441"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">inline</span> <span class="pl-k">void</span> <span class="pl-en">dbs_timer_init</span>(<span class="pl-k">struct</span> cpu_dbs_info_s *dbs_info)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR442" data-line-number="442"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR443" data-line-number="443"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c">/* We want all CPUs to do sampling nearly on same jiffy */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR444" data-line-number="444"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> delay = <span class="pl-c1">usecs_to_jiffies</span>(dbs_tuners_ins.<span class="pl-smi">sampling_rate</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR445" data-line-number="445"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR446" data-line-number="446"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c">// delay -= jiffies % delay;</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR447" data-line-number="447"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR448" data-line-number="448"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	dbs_info-&gt;enable = <span class="pl-c1">1</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR449" data-line-number="449"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">INIT_DEFERRABLE_WORK</span>(&amp;dbs_info-&gt;work, do_dbs_timer);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR450" data-line-number="450"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">schedule_delayed_work_on</span>(dbs_info-&gt;cpu, &amp;dbs_info-&gt;work, delay);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR451" data-line-number="451"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR452" data-line-number="452"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR453" data-line-number="453"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">inline</span> <span class="pl-k">void</span> <span class="pl-en">dbs_timer_exit</span>(<span class="pl-k">struct</span> cpu_dbs_info_s *dbs_info)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR454" data-line-number="454"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR455" data-line-number="455"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	dbs_info-&gt;enable = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR456" data-line-number="456"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">cancel_delayed_work_sync</span>(&amp;dbs_info-&gt;work);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR457" data-line-number="457"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR458" data-line-number="458"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR459" data-line-number="459"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">int</span> <span class="pl-en">cpufreq_governor_dbs</span>(<span class="pl-k">struct</span> cpufreq_policy *policy,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR460" data-line-number="460"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				   <span class="pl-k">unsigned</span> <span class="pl-k">int</span> event)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR461" data-line-number="461"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR462" data-line-number="462"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> cpu = policy-&gt;cpu;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR463" data-line-number="463"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> cpu_dbs_info_s *this_dbs_info;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR464" data-line-number="464"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> j;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR465" data-line-number="465"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> rc;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR466" data-line-number="466"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR467" data-line-number="467"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	this_dbs_info = &amp;<span class="pl-c1">per_cpu</span>(cs_cpu_dbs_info, cpu);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR468" data-line-number="468"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR469" data-line-number="469"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">switch</span> (event) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR470" data-line-number="470"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">case</span> CPUFREQ_GOV_START:</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR471" data-line-number="471"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> ((!<span class="pl-c1">cpu_online</span>(cpu)) || (!policy-&gt;cur))</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR472" data-line-number="472"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">return</span> -EINVAL;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR473" data-line-number="473"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR474" data-line-number="474"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">mutex_lock</span>(&amp;dbs_mutex);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR475" data-line-number="475"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR476" data-line-number="476"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">for_each_cpu</span>(j, policy-&gt;cpus) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR477" data-line-number="477"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">struct</span> cpu_dbs_info_s *j_dbs_info;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR478" data-line-number="478"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			j_dbs_info = &amp;<span class="pl-c1">per_cpu</span>(cs_cpu_dbs_info, j);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR479" data-line-number="479"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			j_dbs_info-&gt;cur_policy = policy;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR480" data-line-number="480"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR481" data-line-number="481"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			j_dbs_info-&gt;prev_cpu_idle = <span class="pl-c1">get_cpu_idle_time</span>(j,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR482" data-line-number="482"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+						&amp;j_dbs_info-&gt;prev_cpu_wall, <span class="pl-c1">0</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR483" data-line-number="483"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">if</span> (dbs_tuners_ins.<span class="pl-smi">ignore_nice</span>) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR484" data-line-number="484"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				j_dbs_info-&gt;prev_cpu_nice =</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR485" data-line-number="485"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+						<span class="pl-c1">kcpustat_cpu</span>(j).<span class="pl-smi">cpustat</span>[CPUTIME_NICE];</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR486" data-line-number="486"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR487" data-line-number="487"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR488" data-line-number="488"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		this_dbs_info-&gt;down_skip = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR489" data-line-number="489"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		this_dbs_info-&gt;requested_freq = policy-&gt;cur;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR490" data-line-number="490"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR491" data-line-number="491"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">mutex_init</span>(&amp;this_dbs_info-&gt;timer_mutex);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR492" data-line-number="492"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		dbs_enable++;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR493" data-line-number="493"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR494" data-line-number="494"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * Start the timerschedule work, when this governor</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR495" data-line-number="495"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * is used for first time</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR496" data-line-number="496"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR497" data-line-number="497"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (dbs_enable == <span class="pl-c1">1</span>) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR498" data-line-number="498"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">unsigned</span> <span class="pl-k">int</span> latency;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR499" data-line-number="499"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c">/* policy latency is in nS. Convert it to uS first */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR500" data-line-number="500"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			latency = policy-&gt;cpuinfo.<span class="pl-smi">transition_latency</span> / <span class="pl-c1">1000</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR501" data-line-number="501"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">if</span> (latency == <span class="pl-c1">0</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR502" data-line-number="502"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				latency = <span class="pl-c1">1</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR503" data-line-number="503"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR504" data-line-number="504"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			rc = <span class="pl-c1">sysfs_create_group</span>(cpufreq_global_kobject,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR505" data-line-number="505"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+						&amp;dbs_attr_group);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR506" data-line-number="506"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">if</span> (rc) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR507" data-line-number="507"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				<span class="pl-c1">mutex_unlock</span>(&amp;dbs_mutex);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR508" data-line-number="508"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				<span class="pl-k">return</span> rc;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR509" data-line-number="509"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR510" data-line-number="510"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR511" data-line-number="511"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			min_sampling_rate = <span class="pl-c1">10000</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR512" data-line-number="512"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			dbs_tuners_ins.<span class="pl-smi">sampling_rate</span> = <span class="pl-c1">10000</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR513" data-line-number="513"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR514" data-line-number="514"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c1">cpufreq_register_notifier</span>(</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR515" data-line-number="515"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+					&amp;dbs_cpufreq_notifier_block,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR516" data-line-number="516"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+					CPUFREQ_TRANSITION_NOTIFIER);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR517" data-line-number="517"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR518" data-line-number="518"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">mutex_unlock</span>(&amp;dbs_mutex);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR519" data-line-number="519"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR520" data-line-number="520"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">dbs_timer_init</span>(this_dbs_info);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR521" data-line-number="521"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR522" data-line-number="522"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">break</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR523" data-line-number="523"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR524" data-line-number="524"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">case</span> CPUFREQ_GOV_STOP:</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR525" data-line-number="525"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">dbs_timer_exit</span>(this_dbs_info);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR526" data-line-number="526"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR527" data-line-number="527"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">mutex_lock</span>(&amp;dbs_mutex);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR528" data-line-number="528"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		dbs_enable--;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR529" data-line-number="529"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">mutex_destroy</span>(&amp;this_dbs_info-&gt;timer_mutex);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR530" data-line-number="530"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR531" data-line-number="531"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR532" data-line-number="532"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * Stop the timerschedule work, when this governor</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR533" data-line-number="533"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * is used for first time</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR534" data-line-number="534"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR535" data-line-number="535"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (dbs_enable == <span class="pl-c1">0</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR536" data-line-number="536"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c1">cpufreq_unregister_notifier</span>(</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR537" data-line-number="537"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+					&amp;dbs_cpufreq_notifier_block,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR538" data-line-number="538"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+					CPUFREQ_TRANSITION_NOTIFIER);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR539" data-line-number="539"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR540" data-line-number="540"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">mutex_unlock</span>(&amp;dbs_mutex);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR541" data-line-number="541"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (!dbs_enable)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR542" data-line-number="542"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c1">sysfs_remove_group</span>(cpufreq_global_kobject,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR543" data-line-number="543"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+					   &amp;dbs_attr_group);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR544" data-line-number="544"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR545" data-line-number="545"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">break</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR546" data-line-number="546"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR547" data-line-number="547"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">case</span> CPUFREQ_GOV_LIMITS:</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR548" data-line-number="548"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">mutex_lock</span>(&amp;this_dbs_info-&gt;timer_mutex);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR549" data-line-number="549"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (policy-&gt;max &lt; this_dbs_info-&gt;cur_policy-&gt;cur)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR550" data-line-number="550"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c1">__cpufreq_driver_target</span>(</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR551" data-line-number="551"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+					this_dbs_info-&gt;cur_policy,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR552" data-line-number="552"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+					policy-&gt;max, CPUFREQ_RELATION_H);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR553" data-line-number="553"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">else</span> <span class="pl-k">if</span> (policy-&gt;min &gt; this_dbs_info-&gt;cur_policy-&gt;cur)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR554" data-line-number="554"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c1">__cpufreq_driver_target</span>(</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR555" data-line-number="555"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+					this_dbs_info-&gt;cur_policy,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR556" data-line-number="556"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+					policy-&gt;min, CPUFREQ_RELATION_C);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR557" data-line-number="557"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">mutex_unlock</span>(&amp;this_dbs_info-&gt;timer_mutex);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR558" data-line-number="558"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR559" data-line-number="559"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">break</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR560" data-line-number="560"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR561" data-line-number="561"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR562" data-line-number="562"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR563" data-line-number="563"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR564" data-line-number="564"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">ifndef</span> CONFIG_CPU_FREQ_DEFAULT_GOV_BIOSHOCK</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR565" data-line-number="565"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR566" data-line-number="566"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">endif</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR567" data-line-number="567"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">struct</span> cpufreq_governor cpufreq_gov_bioshock = {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR568" data-line-number="568"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">name</span>			= <span class="pl-s"><span class="pl-pds">&quot;</span>bioshock<span class="pl-pds">&quot;</span></span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR569" data-line-number="569"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">governor</span>		= cpufreq_governor_dbs,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR570" data-line-number="570"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">max_transition_latency</span>	= TRANSITION_LATENCY_LIMIT,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR571" data-line-number="571"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">owner</span>			= THIS_MODULE,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR572" data-line-number="572"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+};</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR573" data-line-number="573"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR574" data-line-number="574"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">int</span> __init <span class="pl-en">cpufreq_gov_dbs_init</span>(<span class="pl-k">void</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR575" data-line-number="575"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR576" data-line-number="576"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> <span class="pl-c1">cpufreq_register_governor</span>(&amp;cpufreq_gov_bioshock);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR577" data-line-number="577"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR578" data-line-number="578"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR579" data-line-number="579"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">void</span> __exit <span class="pl-en">cpufreq_gov_dbs_exit</span>(<span class="pl-k">void</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR580" data-line-number="580"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR581" data-line-number="581"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">cpufreq_unregister_governor</span>(&amp;cpufreq_gov_bioshock);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR582" data-line-number="582"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR583" data-line-number="583"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR584" data-line-number="584"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">MODULE_AUTHOR</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>James Jamison<span class="pl-pds">&quot;</span></span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR585" data-line-number="585"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">MODULE_AUTHOR</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>Jamison904 &lt;tinfamousprollc@gmail.com&gt;<span class="pl-pds">&quot;</span></span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR586" data-line-number="586"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">MODULE_DESCRIPTION</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>&#39;cpufreq_bioshock&#39; - The Infmous conservative-based governor.<span class="pl-pds">&quot;</span></span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR587" data-line-number="587"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">MODULE_LICENSE</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>GPL<span class="pl-pds">&quot;</span></span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR588" data-line-number="588"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR589" data-line-number="589"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">fs_initcall</span>(cpufreq_gov_dbs_init);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-c936faba4c025c6dce871283b7005acaR590" data-line-number="590"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">module_exit</span>(cpufreq_gov_dbs_exit);</span>

  </td>
</tr>



              </table>
            </div>
      </div>

      <a name="diff-19aea1202cef31a9a95958068e51933b"></a>
      <div id="diff-9"
           class="file js-details-container
                   
                   
                   
                   
                   show-inline-notes
                 ">
        <div class="file-header" data-path="drivers/cpufreq/cpufreq_blu_active.c">
          <div class="file-actions">
              <span class="show-file-notes">
                <label>
                  <input type="checkbox" checked="checked" class="js-toggle-file-notes">
                  Show notes
                </label>
              </span>

                <a href="/Tkkg1994/StockKernel/blob/cbf17b4b432bfe962ae330d9a86f8ded47d33b22/drivers/cpufreq/cpufreq_blu_active.c" class="btn btn-sm tooltipped tooltipped-nw" rel="nofollow" aria-label="View the whole file at version cbf17b4 ">View</a>


          </div>
          <div class="file-info">
              <span class="diffstat tooltipped tooltipped-e" aria-label="1,206 additions &amp; 0 deletions">1,206 <span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span></span>

            <span class="user-select-contain" title="drivers/cpufreq/cpufreq_blu_active.c">
              drivers/cpufreq/cpufreq_blu_active.c
            </span>
            
          </div>
        </div>

            <div class="data highlight blob-wrapper">
              <table class="diff-table tab-size  " data-tab-size="8">
                
      <tr data-position="0">
    <td id="diff-19aea1202cef31a9a95958068e51933bL-1" class="blob-num blob-num-hunk non-expandable" data-line-number="..."></td>
    <td id="diff-19aea1202cef31a9a95958068e51933bR0" class="blob-num blob-num-hunk non-expandable" data-line-number="..."></td>
    <td class="blob-code blob-code-inner blob-code-hunk">@@ -0,0 +1,1206 @@</td>
  </tr>

    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1" data-line-number="1"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR2" data-line-number="2"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * drivers/cpufreq/cpufreq_blu_active.c</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR3" data-line-number="3"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> *</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR4" data-line-number="4"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * Copyright (C) 2010 Google, Inc.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR5" data-line-number="5"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * Copyright (C) 2015 engstk (changes for blu_active)</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR6" data-line-number="6"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> *</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR7" data-line-number="7"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * This software is licensed under the terms of the GNU General Public</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR8" data-line-number="8"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * License version 2, as published by the Free Software Foundation, and</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR9" data-line-number="9"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * may be copied, distributed, and modified under those terms.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR10" data-line-number="10"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> *</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR11" data-line-number="11"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * This program is distributed in the hope that it will be useful,</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR12" data-line-number="12"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR13" data-line-number="13"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR14" data-line-number="14"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * GNU General Public License for more details.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR15" data-line-number="15"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> *</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR16" data-line-number="16"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * Author: Mike Chan (mike@android.com)</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR17" data-line-number="17"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * Author: engstk (eng.stk@sapo.pt)</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR18" data-line-number="18"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR19" data-line-number="19"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR20" data-line-number="20"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/cpu.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR21" data-line-number="21"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/cpumask.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR22" data-line-number="22"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/cpufreq.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR23" data-line-number="23"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/module.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR24" data-line-number="24"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/moduleparam.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR25" data-line-number="25"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/rwsem.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR26" data-line-number="26"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/sched.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR27" data-line-number="27"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/sched/rt.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR28" data-line-number="28"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/tick.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR29" data-line-number="29"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/time.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR30" data-line-number="30"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/timer.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR31" data-line-number="31"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/workqueue.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR32" data-line-number="32"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/kthread.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR33" data-line-number="33"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/slab.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR34" data-line-number="34"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/kernel_stat.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR35" data-line-number="35"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>asm/cputime.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR36" data-line-number="36"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/input.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR37" data-line-number="37"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR38" data-line-number="38"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">int</span> active_count;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR39" data-line-number="39"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR40" data-line-number="40"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">struct</span> cpufreq_interactive_cpuinfo {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR41" data-line-number="41"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> timer_list cpu_timer;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR42" data-line-number="42"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> timer_list cpu_slack_timer;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR43" data-line-number="43"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">spinlock_t</span> load_lock; <span class="pl-c">/* protects the next 4 fields */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR44" data-line-number="44"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	u64 time_in_idle;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR45" data-line-number="45"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	u64 time_in_idle_timestamp;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR46" data-line-number="46"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	u64 cputime_speedadj;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR47" data-line-number="47"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	u64 cputime_speedadj_timestamp;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR48" data-line-number="48"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	u64 last_evaluated_jiffy;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR49" data-line-number="49"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> cpufreq_policy *policy;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR50" data-line-number="50"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> cpufreq_frequency_table *freq_table;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR51" data-line-number="51"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">spinlock_t</span> target_freq_lock; <span class="pl-c">/*protects target freq */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR52" data-line-number="52"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> target_freq;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR53" data-line-number="53"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> floor_freq;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR54" data-line-number="54"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> max_freq;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR55" data-line-number="55"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> min_freq;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR56" data-line-number="56"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	u64 floor_validate_time;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR57" data-line-number="57"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	u64 hispeed_validate_time; <span class="pl-c">/* cluster hispeed_validate_time */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR58" data-line-number="58"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	u64 local_hvtime; <span class="pl-c">/* per-cpu hispeed_validate_time */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR59" data-line-number="59"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	u64 max_freq_hyst_start_time;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR60" data-line-number="60"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> rw_semaphore enable_sem;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR61" data-line-number="61"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> governor_enabled;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR62" data-line-number="62"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+};</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR63" data-line-number="63"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR64" data-line-number="64"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-en">DEFINE_PER_CPU</span>(<span class="pl-k">struct</span> cpufreq_interactive_cpuinfo, cpuinfo);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR65" data-line-number="65"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR66" data-line-number="66"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">/* realtime thread handles frequency scaling */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR67" data-line-number="67"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">struct</span> task_struct *speedchange_task;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR68" data-line-number="68"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">cpumask_t</span> speedchange_cpumask;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR69" data-line-number="69"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">spinlock_t</span> speedchange_cpumask_lock;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR70" data-line-number="70"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">struct</span> mutex gov_lock;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR71" data-line-number="71"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR72" data-line-number="72"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">/* Hi speed to bump to from lo speed when load burst (default max) */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR73" data-line-number="73"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">unsigned</span> <span class="pl-k">int</span> hispeed_freq;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR74" data-line-number="74"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR75" data-line-number="75"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">/* Go to hi speed when CPU load at or above this value. */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR76" data-line-number="76"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">DEFAULT_GO_HISPEED_LOAD</span> <span class="pl-c1">99</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR77" data-line-number="77"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">unsigned</span> <span class="pl-k">long</span> go_hispeed_load = DEFAULT_GO_HISPEED_LOAD;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR78" data-line-number="78"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR79" data-line-number="79"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR80" data-line-number="80"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * The minimum amount of time to spend at a frequency before we can ramp down.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR81" data-line-number="81"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR82" data-line-number="82"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">DEFAULT_MIN_SAMPLE_TIME</span> (<span class="pl-c1">80</span> * USEC_PER_MSEC)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR83" data-line-number="83"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">unsigned</span> <span class="pl-k">long</span> min_sample_time = DEFAULT_MIN_SAMPLE_TIME;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR84" data-line-number="84"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR85" data-line-number="85"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR86" data-line-number="86"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * The sample rate of the timer used to increase frequency</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR87" data-line-number="87"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR88" data-line-number="88"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">DEFAULT_TIMER_RATE</span> (<span class="pl-c1">20</span> * USEC_PER_MSEC)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR89" data-line-number="89"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">unsigned</span> <span class="pl-k">long</span> timer_rate = DEFAULT_TIMER_RATE;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR90" data-line-number="90"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR91" data-line-number="91"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR92" data-line-number="92"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * Wait this long before raising speed above hispeed, by default a single</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR93" data-line-number="93"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * timer interval.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR94" data-line-number="94"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR95" data-line-number="95"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">DEFAULT_ABOVE_HISPEED_DELAY</span> DEFAULT_TIMER_RATE</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR96" data-line-number="96"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">unsigned</span> <span class="pl-k">int</span> default_above_hispeed_delay[] = {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR97" data-line-number="97"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	DEFAULT_ABOVE_HISPEED_DELAY };</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR98" data-line-number="98"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">spinlock_t</span> above_hispeed_delay_lock;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR99" data-line-number="99"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">unsigned</span> <span class="pl-k">int</span> *above_hispeed_delay = default_above_hispeed_delay;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR100" data-line-number="100"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">int</span> nabove_hispeed_delay = ARRAY_SIZE(default_above_hispeed_delay);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR101" data-line-number="101"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR102" data-line-number="102"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">/* Duration of a boot pulse in usecs */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR103" data-line-number="103"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">int</span> boostpulse_duration_val = DEFAULT_MIN_SAMPLE_TIME;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR104" data-line-number="104"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">/* End time of boost pulse in ktime converted to usecs */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR105" data-line-number="105"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> u64 boostpulse_endtime;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR106" data-line-number="106"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">/* input boost frequency */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR107" data-line-number="107"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">unsigned</span> <span class="pl-k">int</span> input_boost_freq;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR108" data-line-number="108"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR109" data-line-number="109"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR110" data-line-number="110"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * Max additional time to wait in idle, beyond timer_rate, at speeds above</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR111" data-line-number="111"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * minimum before wakeup to reduce speed, or -1 if unnecessary.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR112" data-line-number="112"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR113" data-line-number="113"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">DEFAULT_TIMER_SLACK</span> (<span class="pl-c1">4</span> * DEFAULT_TIMER_RATE)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR114" data-line-number="114"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">int</span> timer_slack_val = DEFAULT_TIMER_SLACK;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR115" data-line-number="115"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR116" data-line-number="116"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR117" data-line-number="117"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * Stay at max freq for at least max_freq_hysteresis before dropping</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR118" data-line-number="118"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * frequency.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR119" data-line-number="119"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR120" data-line-number="120"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">unsigned</span> <span class="pl-k">int</span> max_freq_hysteresis;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR121" data-line-number="121"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR122" data-line-number="122"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">bool</span> io_is_busy;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR123" data-line-number="123"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR124" data-line-number="124"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">/* Don&#39;t scale frequency if load is bellow threshold */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR125" data-line-number="125"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">unsigned</span> <span class="pl-k">int</span> low_load_down_threshold = <span class="pl-c1">10</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR126" data-line-number="126"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR127" data-line-number="127"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">/* Round to starting jiffy of next evaluation window */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR128" data-line-number="128"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> u64 <span class="pl-en">round_to_nw_start</span>(u64 jif)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR129" data-line-number="129"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR130" data-line-number="130"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">long</span> step = <span class="pl-c1">usecs_to_jiffies</span>(timer_rate);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR131" data-line-number="131"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR132" data-line-number="132"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">do_div</span>(jif, step);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR133" data-line-number="133"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> (jif + <span class="pl-c1">1</span>) * step;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR134" data-line-number="134"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR135" data-line-number="135"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR136" data-line-number="136"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">void</span> <span class="pl-en">cpufreq_interactive_timer_resched</span>(<span class="pl-k">unsigned</span> <span class="pl-k">long</span> cpu, <span class="pl-k">bool</span> slack_only)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR137" data-line-number="137"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR138" data-line-number="138"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> cpufreq_interactive_cpuinfo *pcpu = &amp;<span class="pl-c1">per_cpu</span>(cpuinfo, cpu);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR139" data-line-number="139"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	u64 expires;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR140" data-line-number="140"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">long</span> flags;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR141" data-line-number="141"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR142" data-line-number="142"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">spin_lock_irqsave</span>(&amp;pcpu-&gt;load_lock, flags);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR143" data-line-number="143"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	expires = <span class="pl-c1">round_to_nw_start</span>(pcpu-&gt;last_evaluated_jiffy);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR144" data-line-number="144"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR145" data-line-number="145"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (!slack_only) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR146" data-line-number="146"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		pcpu-&gt;time_in_idle =</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR147" data-line-number="147"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c1">get_cpu_idle_time</span>(<span class="pl-c1">smp_processor_id</span>(),</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR148" data-line-number="148"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				  &amp;pcpu-&gt;time_in_idle_timestamp, io_is_busy);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR149" data-line-number="149"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		pcpu-&gt;cputime_speedadj = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR150" data-line-number="150"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		pcpu-&gt;cputime_speedadj_timestamp = pcpu-&gt;time_in_idle_timestamp;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR151" data-line-number="151"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">del_timer</span>(&amp;pcpu-&gt;cpu_timer);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR152" data-line-number="152"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		pcpu-&gt;cpu_timer.<span class="pl-smi">expires</span> = expires;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR153" data-line-number="153"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">add_timer_on</span>(&amp;pcpu-&gt;cpu_timer, cpu);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR154" data-line-number="154"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR155" data-line-number="155"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR156" data-line-number="156"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (timer_slack_val &gt;= <span class="pl-c1">0</span> &amp;&amp; pcpu-&gt;target_freq &gt; pcpu-&gt;policy-&gt;min) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR157" data-line-number="157"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		expires += <span class="pl-c1">usecs_to_jiffies</span>(timer_slack_val);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR158" data-line-number="158"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">del_timer</span>(&amp;pcpu-&gt;cpu_slack_timer);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR159" data-line-number="159"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		pcpu-&gt;cpu_slack_timer.<span class="pl-smi">expires</span> = expires;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR160" data-line-number="160"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">add_timer_on</span>(&amp;pcpu-&gt;cpu_slack_timer, cpu);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR161" data-line-number="161"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR162" data-line-number="162"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR163" data-line-number="163"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">spin_unlock_irqrestore</span>(&amp;pcpu-&gt;load_lock, flags);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR164" data-line-number="164"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR165" data-line-number="165"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR166" data-line-number="166"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">/* The caller shall take enable_sem write semaphore to avoid any timer race.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR167" data-line-number="167"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * The cpu_timer and cpu_slack_timer must be deactivated when calling this</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR168" data-line-number="168"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * function.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR169" data-line-number="169"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR170" data-line-number="170"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">void</span> <span class="pl-en">cpufreq_interactive_timer_start</span>(<span class="pl-k">int</span> cpu)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR171" data-line-number="171"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR172" data-line-number="172"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> cpufreq_interactive_cpuinfo *pcpu = &amp;<span class="pl-c1">per_cpu</span>(cpuinfo, cpu);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR173" data-line-number="173"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	u64 expires = <span class="pl-c1">round_to_nw_start</span>(pcpu-&gt;last_evaluated_jiffy);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR174" data-line-number="174"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">long</span> flags;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR175" data-line-number="175"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR176" data-line-number="176"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">spin_lock_irqsave</span>(&amp;pcpu-&gt;load_lock, flags);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR177" data-line-number="177"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	pcpu-&gt;cpu_timer.<span class="pl-smi">expires</span> = expires;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR178" data-line-number="178"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">add_timer_on</span>(&amp;pcpu-&gt;cpu_timer, cpu);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR179" data-line-number="179"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (timer_slack_val &gt;= <span class="pl-c1">0</span> &amp;&amp; pcpu-&gt;target_freq &gt; pcpu-&gt;policy-&gt;min) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR180" data-line-number="180"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		expires += <span class="pl-c1">usecs_to_jiffies</span>(timer_slack_val);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR181" data-line-number="181"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		pcpu-&gt;cpu_slack_timer.<span class="pl-smi">expires</span> = expires;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR182" data-line-number="182"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">add_timer_on</span>(&amp;pcpu-&gt;cpu_slack_timer, cpu);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR183" data-line-number="183"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR184" data-line-number="184"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR185" data-line-number="185"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	pcpu-&gt;time_in_idle =</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR186" data-line-number="186"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">get_cpu_idle_time</span>(cpu, &amp;pcpu-&gt;time_in_idle_timestamp,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR187" data-line-number="187"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				  io_is_busy);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR188" data-line-number="188"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	pcpu-&gt;cputime_speedadj = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR189" data-line-number="189"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	pcpu-&gt;cputime_speedadj_timestamp = pcpu-&gt;time_in_idle_timestamp;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR190" data-line-number="190"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">spin_unlock_irqrestore</span>(&amp;pcpu-&gt;load_lock, flags);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR191" data-line-number="191"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR192" data-line-number="192"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR193" data-line-number="193"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">unsigned</span> <span class="pl-k">int</span> <span class="pl-en">freq_to_above_hispeed_delay</span>(<span class="pl-k">unsigned</span> <span class="pl-k">int</span> freq)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR194" data-line-number="194"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR195" data-line-number="195"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> i;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR196" data-line-number="196"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR197" data-line-number="197"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">long</span> flags;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR198" data-line-number="198"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR199" data-line-number="199"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">spin_lock_irqsave</span>(&amp;above_hispeed_delay_lock, flags);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR200" data-line-number="200"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR201" data-line-number="201"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">for</span> (i = <span class="pl-c1">0</span>; i &lt; nabove_hispeed_delay - <span class="pl-c1">1</span> &amp;&amp;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR202" data-line-number="202"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			freq &gt;= above_hispeed_delay[i+<span class="pl-c1">1</span>]; i += <span class="pl-c1">2</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR203" data-line-number="203"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR204" data-line-number="204"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR205" data-line-number="205"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	ret = above_hispeed_delay[i];</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR206" data-line-number="206"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR207" data-line-number="207"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">spin_unlock_irqrestore</span>(&amp;above_hispeed_delay_lock, flags);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR208" data-line-number="208"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR209" data-line-number="209"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR210" data-line-number="210"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR211" data-line-number="211"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> u64 <span class="pl-en">update_load</span>(<span class="pl-k">int</span> cpu)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR212" data-line-number="212"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR213" data-line-number="213"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> cpufreq_interactive_cpuinfo *pcpu = &amp;<span class="pl-c1">per_cpu</span>(cpuinfo, cpu);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR214" data-line-number="214"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	u64 now;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR215" data-line-number="215"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	u64 now_idle;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR216" data-line-number="216"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> delta_idle;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR217" data-line-number="217"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> delta_time;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR218" data-line-number="218"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	u64 active_time;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR219" data-line-number="219"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR220" data-line-number="220"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	now_idle = <span class="pl-c1">get_cpu_idle_time</span>(cpu, &amp;now, io_is_busy);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR221" data-line-number="221"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	delta_idle = (<span class="pl-k">unsigned</span> <span class="pl-k">int</span>)(now_idle - pcpu-&gt;time_in_idle);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR222" data-line-number="222"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	delta_time = (<span class="pl-k">unsigned</span> <span class="pl-k">int</span>)(now - pcpu-&gt;time_in_idle_timestamp);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR223" data-line-number="223"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR224" data-line-number="224"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (delta_time &lt;= delta_idle)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR225" data-line-number="225"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		active_time = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR226" data-line-number="226"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">else</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR227" data-line-number="227"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		active_time = delta_time - delta_idle;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR228" data-line-number="228"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR229" data-line-number="229"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	pcpu-&gt;cputime_speedadj += active_time * pcpu-&gt;policy-&gt;cur;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR230" data-line-number="230"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR231" data-line-number="231"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	pcpu-&gt;time_in_idle = now_idle;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR232" data-line-number="232"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	pcpu-&gt;time_in_idle_timestamp = now;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR233" data-line-number="233"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> now;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR234" data-line-number="234"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR235" data-line-number="235"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR236" data-line-number="236"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">void</span> <span class="pl-en">cpufreq_interactive_timer</span>(<span class="pl-k">unsigned</span> <span class="pl-k">long</span> data)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR237" data-line-number="237"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR238" data-line-number="238"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	u64 now;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR239" data-line-number="239"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> delta_time;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR240" data-line-number="240"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	u64 cputime_speedadj;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR241" data-line-number="241"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> cpu_load;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR242" data-line-number="242"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> cpufreq_interactive_cpuinfo *pcpu =</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR243" data-line-number="243"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		&amp;<span class="pl-c1">per_cpu</span>(cpuinfo, data);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR244" data-line-number="244"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> new_freq;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR245" data-line-number="245"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> loadadjfreq;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR246" data-line-number="246"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> <span class="pl-c1">index</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR247" data-line-number="247"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">long</span> flags;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR248" data-line-number="248"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">bool</span> boosted;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR249" data-line-number="249"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR250" data-line-number="250"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (!<span class="pl-c1">down_read_trylock</span>(&amp;pcpu-&gt;enable_sem))</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR251" data-line-number="251"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR252" data-line-number="252"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (!pcpu-&gt;governor_enabled)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR253" data-line-number="253"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">goto</span> <span class="pl-c1">exit</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR254" data-line-number="254"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR255" data-line-number="255"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">spin_lock_irqsave</span>(&amp;pcpu-&gt;load_lock, flags);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR256" data-line-number="256"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	now = <span class="pl-c1">update_load</span>(data);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR257" data-line-number="257"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	delta_time = (<span class="pl-k">unsigned</span> <span class="pl-k">int</span>)(now - pcpu-&gt;cputime_speedadj_timestamp);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR258" data-line-number="258"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	cputime_speedadj = pcpu-&gt;cputime_speedadj;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR259" data-line-number="259"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	pcpu-&gt;last_evaluated_jiffy = <span class="pl-c1">get_jiffies_64</span>();</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR260" data-line-number="260"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">spin_unlock_irqrestore</span>(&amp;pcpu-&gt;load_lock, flags);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR261" data-line-number="261"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR262" data-line-number="262"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (<span class="pl-c1">WARN_ON_ONCE</span>(!delta_time))</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR263" data-line-number="263"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">goto</span> rearm;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR264" data-line-number="264"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR265" data-line-number="265"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">spin_lock_irqsave</span>(&amp;pcpu-&gt;target_freq_lock, flags);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR266" data-line-number="266"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">do_div</span>(cputime_speedadj, delta_time);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR267" data-line-number="267"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	loadadjfreq = (<span class="pl-k">unsigned</span> <span class="pl-k">int</span>)cputime_speedadj * <span class="pl-c1">100</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR268" data-line-number="268"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	cpu_load = loadadjfreq / pcpu-&gt;policy-&gt;cur;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR269" data-line-number="269"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	boosted = now &lt; boostpulse_endtime;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR270" data-line-number="270"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR271" data-line-number="271"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">cpufreq_notify_utilization</span>(pcpu-&gt;policy, cpu_load);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR272" data-line-number="272"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR273" data-line-number="273"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (cpu_load &gt;= go_hispeed_load) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR274" data-line-number="274"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (pcpu-&gt;policy-&gt;cur &lt; hispeed_freq) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR275" data-line-number="275"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			new_freq = hispeed_freq;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR276" data-line-number="276"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		} <span class="pl-k">else</span> {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR277" data-line-number="277"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			new_freq = pcpu-&gt;policy-&gt;min + cpu_load * (pcpu-&gt;policy-&gt;max - pcpu-&gt;policy-&gt;min) / <span class="pl-c1">100</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR278" data-line-number="278"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR279" data-line-number="279"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">if</span> (new_freq &lt; hispeed_freq)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR280" data-line-number="280"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				new_freq = hispeed_freq;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR281" data-line-number="281"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR282" data-line-number="282"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	} <span class="pl-k">else</span> <span class="pl-k">if</span> (cpu_load &lt;= low_load_down_threshold) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR283" data-line-number="283"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		new_freq = pcpu-&gt;policy-&gt;cpuinfo.<span class="pl-smi">min_freq</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR284" data-line-number="284"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	} <span class="pl-k">else</span> {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR285" data-line-number="285"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		new_freq = pcpu-&gt;policy-&gt;min + cpu_load * (pcpu-&gt;policy-&gt;max - pcpu-&gt;policy-&gt;min) / <span class="pl-c1">100</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR286" data-line-number="286"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR287" data-line-number="287"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR288" data-line-number="288"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (boosted &amp;&amp; new_freq &lt; input_boost_freq)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR289" data-line-number="289"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		new_freq = input_boost_freq;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR290" data-line-number="290"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR291" data-line-number="291"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (pcpu-&gt;policy-&gt;cur &gt;= hispeed_freq &amp;&amp;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR292" data-line-number="292"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	    new_freq &gt; pcpu-&gt;policy-&gt;cur &amp;&amp;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR293" data-line-number="293"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	    now - pcpu-&gt;hispeed_validate_time &lt;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR294" data-line-number="294"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	    <span class="pl-c1">freq_to_above_hispeed_delay</span>(pcpu-&gt;policy-&gt;cur)) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR295" data-line-number="295"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">spin_unlock_irqrestore</span>(&amp;pcpu-&gt;target_freq_lock, flags);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR296" data-line-number="296"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">goto</span> rearm;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR297" data-line-number="297"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR298" data-line-number="298"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR299" data-line-number="299"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	pcpu-&gt;local_hvtime = now;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR300" data-line-number="300"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR301" data-line-number="301"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (<span class="pl-c1">cpufreq_frequency_table_target</span>(pcpu-&gt;policy, pcpu-&gt;freq_table,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR302" data-line-number="302"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+					   new_freq, CPUFREQ_RELATION_L,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR303" data-line-number="303"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+					   &amp;<span class="pl-c1">index</span>)) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR304" data-line-number="304"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">spin_unlock_irqrestore</span>(&amp;pcpu-&gt;target_freq_lock, flags);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR305" data-line-number="305"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">goto</span> rearm;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR306" data-line-number="306"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR307" data-line-number="307"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR308" data-line-number="308"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	new_freq = pcpu-&gt;freq_table[<span class="pl-c1">index</span>].<span class="pl-smi">frequency</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR309" data-line-number="309"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR310" data-line-number="310"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (new_freq &lt; pcpu-&gt;target_freq &amp;&amp;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR311" data-line-number="311"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	    now - pcpu-&gt;max_freq_hyst_start_time &lt; max_freq_hysteresis) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR312" data-line-number="312"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">spin_unlock_irqrestore</span>(&amp;pcpu-&gt;target_freq_lock, flags);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR313" data-line-number="313"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">goto</span> rearm;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR314" data-line-number="314"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR315" data-line-number="315"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR316" data-line-number="316"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR317" data-line-number="317"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 * Do not scale below floor_freq unless we have been at or above the</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR318" data-line-number="318"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 * floor frequency for the minimum sample time since last validated.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR319" data-line-number="319"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR320" data-line-number="320"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (new_freq &lt; pcpu-&gt;floor_freq) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR321" data-line-number="321"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (now - pcpu-&gt;floor_validate_time &lt; min_sample_time) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR322" data-line-number="322"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c1">spin_unlock_irqrestore</span>(&amp;pcpu-&gt;target_freq_lock, flags);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR323" data-line-number="323"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">goto</span> rearm;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR324" data-line-number="324"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR325" data-line-number="325"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR326" data-line-number="326"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR327" data-line-number="327"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR328" data-line-number="328"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 * Update the timestamp for checking whether speed has been held at</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR329" data-line-number="329"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 * or above the selected frequency for a minimum of min_sample_time,</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR330" data-line-number="330"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 * if not boosted to hispeed_freq.  If boosted to hispeed_freq then we</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR331" data-line-number="331"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 * allow the speed to drop as soon as the boostpulse duration expires</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR332" data-line-number="332"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 * (or the indefinite boost is turned off).</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR333" data-line-number="333"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR334" data-line-number="334"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR335" data-line-number="335"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (!boosted || new_freq &gt; hispeed_freq) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR336" data-line-number="336"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		pcpu-&gt;floor_freq = new_freq;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR337" data-line-number="337"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		pcpu-&gt;floor_validate_time = now;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR338" data-line-number="338"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR339" data-line-number="339"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR340" data-line-number="340"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (new_freq == pcpu-&gt;policy-&gt;max)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR341" data-line-number="341"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		pcpu-&gt;max_freq_hyst_start_time = now;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR342" data-line-number="342"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR343" data-line-number="343"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (pcpu-&gt;target_freq == new_freq) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR344" data-line-number="344"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">spin_unlock_irqrestore</span>(&amp;pcpu-&gt;target_freq_lock, flags);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR345" data-line-number="345"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">goto</span> rearm;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR346" data-line-number="346"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR347" data-line-number="347"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR348" data-line-number="348"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	pcpu-&gt;target_freq = new_freq;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR349" data-line-number="349"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">spin_unlock_irqrestore</span>(&amp;pcpu-&gt;target_freq_lock, flags);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR350" data-line-number="350"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">spin_lock_irqsave</span>(&amp;speedchange_cpumask_lock, flags);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR351" data-line-number="351"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">cpumask_set_cpu</span>(data, &amp;speedchange_cpumask);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR352" data-line-number="352"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">spin_unlock_irqrestore</span>(&amp;speedchange_cpumask_lock, flags);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR353" data-line-number="353"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">wake_up_process</span>(speedchange_task);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR354" data-line-number="354"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR355" data-line-number="355"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+rearm:</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR356" data-line-number="356"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (!<span class="pl-c1">timer_pending</span>(&amp;pcpu-&gt;cpu_timer))</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR357" data-line-number="357"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">cpufreq_interactive_timer_resched</span>(data, <span class="pl-c1">false</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR358" data-line-number="358"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR359" data-line-number="359"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c1">exit</span>:</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR360" data-line-number="360"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">up_read</span>(&amp;pcpu-&gt;enable_sem);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR361" data-line-number="361"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR362" data-line-number="362"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR363" data-line-number="363"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR364" data-line-number="364"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">void</span> <span class="pl-en">cpufreq_interactive_idle_end</span>(<span class="pl-k">void</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR365" data-line-number="365"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR366" data-line-number="366"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> cpufreq_interactive_cpuinfo *pcpu =</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR367" data-line-number="367"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		&amp;<span class="pl-c1">per_cpu</span>(cpuinfo, <span class="pl-c1">smp_processor_id</span>());</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR368" data-line-number="368"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR369" data-line-number="369"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (!<span class="pl-c1">down_read_trylock</span>(&amp;pcpu-&gt;enable_sem))</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR370" data-line-number="370"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR371" data-line-number="371"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (!pcpu-&gt;governor_enabled) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR372" data-line-number="372"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">up_read</span>(&amp;pcpu-&gt;enable_sem);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR373" data-line-number="373"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR374" data-line-number="374"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR375" data-line-number="375"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR376" data-line-number="376"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c">/* Arm the timer for 1-2 ticks later if not already. */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR377" data-line-number="377"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (!<span class="pl-c1">timer_pending</span>(&amp;pcpu-&gt;cpu_timer)) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR378" data-line-number="378"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">cpufreq_interactive_timer_resched</span>(<span class="pl-c1">smp_processor_id</span>(), <span class="pl-c1">false</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR379" data-line-number="379"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	} <span class="pl-k">else</span> <span class="pl-k">if</span> (<span class="pl-c1">time_after_eq</span>(jiffies, pcpu-&gt;cpu_timer.<span class="pl-smi">expires</span>)) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR380" data-line-number="380"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">del_timer</span>(&amp;pcpu-&gt;cpu_timer);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR381" data-line-number="381"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">del_timer</span>(&amp;pcpu-&gt;cpu_slack_timer);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR382" data-line-number="382"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">cpufreq_interactive_timer</span>(<span class="pl-c1">smp_processor_id</span>());</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR383" data-line-number="383"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR384" data-line-number="384"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR385" data-line-number="385"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">up_read</span>(&amp;pcpu-&gt;enable_sem);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR386" data-line-number="386"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR387" data-line-number="387"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR388" data-line-number="388"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">int</span> <span class="pl-en">cpufreq_interactive_speedchange_task</span>(<span class="pl-k">void</span> *data)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR389" data-line-number="389"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR390" data-line-number="390"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> cpu;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR391" data-line-number="391"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">cpumask_t</span> tmp_mask;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR392" data-line-number="392"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">long</span> flags;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR393" data-line-number="393"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> cpufreq_interactive_cpuinfo *pcpu;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR394" data-line-number="394"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR395" data-line-number="395"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">while</span> (<span class="pl-c1">1</span>) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR396" data-line-number="396"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">set_current_state</span>(TASK_INTERRUPTIBLE);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR397" data-line-number="397"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">spin_lock_irqsave</span>(&amp;speedchange_cpumask_lock, flags);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR398" data-line-number="398"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR399" data-line-number="399"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (<span class="pl-c1">cpumask_empty</span>(&amp;speedchange_cpumask)) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR400" data-line-number="400"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c1">spin_unlock_irqrestore</span>(&amp;speedchange_cpumask_lock,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR401" data-line-number="401"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+					       flags);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR402" data-line-number="402"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c1">schedule</span>();</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR403" data-line-number="403"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR404" data-line-number="404"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">if</span> (<span class="pl-c1">kthread_should_stop</span>())</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR405" data-line-number="405"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				<span class="pl-k">break</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR406" data-line-number="406"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR407" data-line-number="407"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c1">spin_lock_irqsave</span>(&amp;speedchange_cpumask_lock, flags);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR408" data-line-number="408"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR409" data-line-number="409"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR410" data-line-number="410"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">set_current_state</span>(TASK_RUNNING);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR411" data-line-number="411"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		tmp_mask = speedchange_cpumask;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR412" data-line-number="412"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">cpumask_clear</span>(&amp;speedchange_cpumask);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR413" data-line-number="413"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">spin_unlock_irqrestore</span>(&amp;speedchange_cpumask_lock, flags);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR414" data-line-number="414"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR415" data-line-number="415"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">for_each_cpu</span>(cpu, &amp;tmp_mask) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR416" data-line-number="416"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">unsigned</span> <span class="pl-k">int</span> j;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR417" data-line-number="417"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">unsigned</span> <span class="pl-k">int</span> max_freq = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR418" data-line-number="418"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">struct</span> cpufreq_interactive_cpuinfo *pjcpu;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR419" data-line-number="419"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			u64 hvt;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR420" data-line-number="420"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR421" data-line-number="421"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			pcpu = &amp;<span class="pl-c1">per_cpu</span>(cpuinfo, cpu);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR422" data-line-number="422"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">if</span> (!<span class="pl-c1">down_read_trylock</span>(&amp;pcpu-&gt;enable_sem))</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR423" data-line-number="423"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				<span class="pl-k">continue</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR424" data-line-number="424"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">if</span> (!pcpu-&gt;governor_enabled) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR425" data-line-number="425"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				<span class="pl-c1">up_read</span>(&amp;pcpu-&gt;enable_sem);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR426" data-line-number="426"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				<span class="pl-k">continue</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR427" data-line-number="427"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR428" data-line-number="428"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR429" data-line-number="429"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c1">for_each_cpu</span>(j, pcpu-&gt;policy-&gt;cpus) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR430" data-line-number="430"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				pjcpu = &amp;<span class="pl-c1">per_cpu</span>(cpuinfo, j);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR431" data-line-number="431"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR432" data-line-number="432"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				<span class="pl-k">if</span> (pjcpu-&gt;target_freq &gt; max_freq) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR433" data-line-number="433"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+					max_freq = pjcpu-&gt;target_freq;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR434" data-line-number="434"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+					hvt = pjcpu-&gt;local_hvtime;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR435" data-line-number="435"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				} <span class="pl-k">else</span> <span class="pl-k">if</span> (pjcpu-&gt;target_freq == max_freq) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR436" data-line-number="436"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+					hvt = <span class="pl-c1">min</span>(hvt, pjcpu-&gt;local_hvtime);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR437" data-line-number="437"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR438" data-line-number="438"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR439" data-line-number="439"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR440" data-line-number="440"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">if</span> (max_freq != pcpu-&gt;policy-&gt;cur) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR441" data-line-number="441"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				<span class="pl-c1">__cpufreq_driver_target</span>(pcpu-&gt;policy,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR442" data-line-number="442"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+							max_freq,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR443" data-line-number="443"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+							CPUFREQ_RELATION_H);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR444" data-line-number="444"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				<span class="pl-c1">for_each_cpu</span>(j, pcpu-&gt;policy-&gt;cpus) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR445" data-line-number="445"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+					pjcpu = &amp;<span class="pl-c1">per_cpu</span>(cpuinfo, j);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR446" data-line-number="446"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+					pjcpu-&gt;hispeed_validate_time = hvt;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR447" data-line-number="447"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR448" data-line-number="448"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR449" data-line-number="449"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR450" data-line-number="450"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c1">up_read</span>(&amp;pcpu-&gt;enable_sem);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR451" data-line-number="451"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR452" data-line-number="452"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR453" data-line-number="453"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR454" data-line-number="454"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR455" data-line-number="455"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR456" data-line-number="456"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR457" data-line-number="457"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">void</span> <span class="pl-en">cpufreq_interactive_boost</span>(<span class="pl-k">void</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR458" data-line-number="458"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR459" data-line-number="459"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> i;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR460" data-line-number="460"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> anyboost = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR461" data-line-number="461"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">long</span> flags[<span class="pl-c1">2</span>];</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR462" data-line-number="462"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> cpufreq_interactive_cpuinfo *pcpu;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR463" data-line-number="463"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR464" data-line-number="464"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">spin_lock_irqsave</span>(&amp;speedchange_cpumask_lock, flags[<span class="pl-c1">0</span>]);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR465" data-line-number="465"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR466" data-line-number="466"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">for_each_online_cpu</span>(i) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR467" data-line-number="467"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		pcpu = &amp;<span class="pl-c1">per_cpu</span>(cpuinfo, i);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR468" data-line-number="468"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">spin_lock_irqsave</span>(&amp;pcpu-&gt;target_freq_lock, flags[<span class="pl-c1">1</span>]);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR469" data-line-number="469"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (pcpu-&gt;target_freq &lt; hispeed_freq) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR470" data-line-number="470"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			pcpu-&gt;target_freq = hispeed_freq;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR471" data-line-number="471"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c1">cpumask_set_cpu</span>(i, &amp;speedchange_cpumask);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR472" data-line-number="472"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			pcpu-&gt;hispeed_validate_time =</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR473" data-line-number="473"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				<span class="pl-c1">ktime_to_us</span>(<span class="pl-c1">ktime_get</span>());</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR474" data-line-number="474"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			anyboost = <span class="pl-c1">1</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR475" data-line-number="475"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR476" data-line-number="476"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR477" data-line-number="477"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR478" data-line-number="478"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * Set floor freq and (re)start timer for when last</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR479" data-line-number="479"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * validated.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR480" data-line-number="480"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR481" data-line-number="481"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR482" data-line-number="482"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		pcpu-&gt;floor_freq = hispeed_freq;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR483" data-line-number="483"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		pcpu-&gt;floor_validate_time = <span class="pl-c1">ktime_to_us</span>(<span class="pl-c1">ktime_get</span>());</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR484" data-line-number="484"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">spin_unlock_irqrestore</span>(&amp;pcpu-&gt;target_freq_lock, flags[<span class="pl-c1">1</span>]);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR485" data-line-number="485"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR486" data-line-number="486"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR487" data-line-number="487"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">spin_unlock_irqrestore</span>(&amp;speedchange_cpumask_lock, flags[<span class="pl-c1">0</span>]);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR488" data-line-number="488"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR489" data-line-number="489"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (anyboost)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR490" data-line-number="490"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">wake_up_process</span>(speedchange_task);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR491" data-line-number="491"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR492" data-line-number="492"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR493" data-line-number="493"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">int</span> <span class="pl-en">cpufreq_interactive_notifier</span>(</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR494" data-line-number="494"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> notifier_block *nb, <span class="pl-k">unsigned</span> <span class="pl-k">long</span> val, <span class="pl-k">void</span> *data)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR495" data-line-number="495"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR496" data-line-number="496"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> cpufreq_freqs *freq = data;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR497" data-line-number="497"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> cpufreq_interactive_cpuinfo *pcpu;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR498" data-line-number="498"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> cpu;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR499" data-line-number="499"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">long</span> flags;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR500" data-line-number="500"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR501" data-line-number="501"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (val == CPUFREQ_PRECHANGE) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR502" data-line-number="502"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		pcpu = &amp;<span class="pl-c1">per_cpu</span>(cpuinfo, freq-&gt;cpu);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR503" data-line-number="503"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (!<span class="pl-c1">down_read_trylock</span>(&amp;pcpu-&gt;enable_sem))</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR504" data-line-number="504"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">return</span> <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR505" data-line-number="505"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (!pcpu-&gt;governor_enabled) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR506" data-line-number="506"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c1">up_read</span>(&amp;pcpu-&gt;enable_sem);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR507" data-line-number="507"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">return</span> <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR508" data-line-number="508"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR509" data-line-number="509"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR510" data-line-number="510"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">for_each_cpu</span>(cpu, pcpu-&gt;policy-&gt;cpus) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR511" data-line-number="511"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">struct</span> cpufreq_interactive_cpuinfo *pjcpu =</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR512" data-line-number="512"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				&amp;<span class="pl-c1">per_cpu</span>(cpuinfo, cpu);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR513" data-line-number="513"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">if</span> (cpu != freq-&gt;cpu) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR514" data-line-number="514"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				<span class="pl-k">if</span> (!<span class="pl-c1">down_read_trylock</span>(&amp;pjcpu-&gt;enable_sem))</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR515" data-line-number="515"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+					<span class="pl-k">continue</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR516" data-line-number="516"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				<span class="pl-k">if</span> (!pjcpu-&gt;governor_enabled) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR517" data-line-number="517"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+					<span class="pl-c1">up_read</span>(&amp;pjcpu-&gt;enable_sem);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR518" data-line-number="518"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+					<span class="pl-k">continue</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR519" data-line-number="519"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR520" data-line-number="520"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR521" data-line-number="521"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c1">spin_lock_irqsave</span>(&amp;pjcpu-&gt;load_lock, flags);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR522" data-line-number="522"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c1">update_load</span>(cpu);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR523" data-line-number="523"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c1">spin_unlock_irqrestore</span>(&amp;pjcpu-&gt;load_lock, flags);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR524" data-line-number="524"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">if</span> (cpu != freq-&gt;cpu)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR525" data-line-number="525"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				<span class="pl-c1">up_read</span>(&amp;pjcpu-&gt;enable_sem);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR526" data-line-number="526"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR527" data-line-number="527"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR528" data-line-number="528"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">up_read</span>(&amp;pcpu-&gt;enable_sem);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR529" data-line-number="529"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR530" data-line-number="530"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR531" data-line-number="531"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR532" data-line-number="532"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR533" data-line-number="533"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">struct</span> notifier_block cpufreq_notifier_block = {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR534" data-line-number="534"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">notifier_call</span> = cpufreq_interactive_notifier,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR535" data-line-number="535"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+};</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR536" data-line-number="536"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR537" data-line-number="537"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">unsigned</span> <span class="pl-k">int</span> *<span class="pl-en">get_tokenized_data</span>(<span class="pl-k">const</span> <span class="pl-k">char</span> *buf, <span class="pl-k">int</span> *num_tokens)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR538" data-line-number="538"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR539" data-line-number="539"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">const</span> <span class="pl-k">char</span> *cp;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR540" data-line-number="540"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> i;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR541" data-line-number="541"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> ntokens = <span class="pl-c1">1</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR542" data-line-number="542"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> *tokenized_data;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR543" data-line-number="543"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> err = -EINVAL;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR544" data-line-number="544"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR545" data-line-number="545"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	cp = buf;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR546" data-line-number="546"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">while</span> ((cp = <span class="pl-c1">strpbrk</span>(cp + <span class="pl-c1">1</span>, <span class="pl-s"><span class="pl-pds">&quot;</span> :<span class="pl-pds">&quot;</span></span>)))</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR547" data-line-number="547"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		ntokens++;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR548" data-line-number="548"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR549" data-line-number="549"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (!(ntokens &amp; 0x1))</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR550" data-line-number="550"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">goto</span> err;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR551" data-line-number="551"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR552" data-line-number="552"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	tokenized_data = <span class="pl-c1">kmalloc</span>(ntokens * <span class="pl-k">sizeof</span>(<span class="pl-k">unsigned</span> <span class="pl-k">int</span>), GFP_KERNEL);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR553" data-line-number="553"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (!tokenized_data) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR554" data-line-number="554"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		err = -ENOMEM;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR555" data-line-number="555"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">goto</span> err;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR556" data-line-number="556"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR557" data-line-number="557"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR558" data-line-number="558"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	cp = buf;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR559" data-line-number="559"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	i = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR560" data-line-number="560"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">while</span> (i &lt; ntokens) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR561" data-line-number="561"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (<span class="pl-c1">sscanf</span>(cp, <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%u</span><span class="pl-pds">&quot;</span></span>, &amp;tokenized_data[i++]) != <span class="pl-c1">1</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR562" data-line-number="562"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">goto</span> err_kfree;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR563" data-line-number="563"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR564" data-line-number="564"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		cp = <span class="pl-c1">strpbrk</span>(cp, <span class="pl-s"><span class="pl-pds">&quot;</span> :<span class="pl-pds">&quot;</span></span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR565" data-line-number="565"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (!cp)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR566" data-line-number="566"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">break</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR567" data-line-number="567"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		cp++;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR568" data-line-number="568"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR569" data-line-number="569"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR570" data-line-number="570"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (i != ntokens)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR571" data-line-number="571"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">goto</span> err_kfree;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR572" data-line-number="572"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR573" data-line-number="573"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	*num_tokens = ntokens;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR574" data-line-number="574"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> tokenized_data;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR575" data-line-number="575"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR576" data-line-number="576"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+err_kfree:</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR577" data-line-number="577"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">kfree</span>(tokenized_data);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR578" data-line-number="578"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+err:</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR579" data-line-number="579"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> <span class="pl-c1">ERR_PTR</span>(err);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR580" data-line-number="580"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR581" data-line-number="581"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR582" data-line-number="582"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">show_above_hispeed_delay</span>(</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR583" data-line-number="583"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> kobject *kobj, <span class="pl-k">struct</span> attribute *attr, <span class="pl-k">char</span> *buf)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR584" data-line-number="584"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR585" data-line-number="585"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> i;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR586" data-line-number="586"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">ssize_t</span> ret = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR587" data-line-number="587"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">long</span> flags;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR588" data-line-number="588"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR589" data-line-number="589"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">spin_lock_irqsave</span>(&amp;above_hispeed_delay_lock, flags);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR590" data-line-number="590"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR591" data-line-number="591"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">for</span> (i = <span class="pl-c1">0</span>; i &lt; nabove_hispeed_delay; i++)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR592" data-line-number="592"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		ret += <span class="pl-c1">sprintf</span>(buf + ret, <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%u%s</span><span class="pl-pds">&quot;</span></span>, above_hispeed_delay[i],</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR593" data-line-number="593"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			       i &amp; 0x1 ? <span class="pl-s"><span class="pl-pds">&quot;</span>:<span class="pl-pds">&quot;</span></span> : <span class="pl-s"><span class="pl-pds">&quot;</span> <span class="pl-pds">&quot;</span></span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR594" data-line-number="594"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR595" data-line-number="595"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">sprintf</span>(buf + ret - <span class="pl-c1">1</span>, <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR596" data-line-number="596"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">spin_unlock_irqrestore</span>(&amp;above_hispeed_delay_lock, flags);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR597" data-line-number="597"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR598" data-line-number="598"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR599" data-line-number="599"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR600" data-line-number="600"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">store_above_hispeed_delay</span>(</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR601" data-line-number="601"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> kobject *kobj, <span class="pl-k">struct</span> attribute *attr, <span class="pl-k">const</span> <span class="pl-k">char</span> *buf,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR602" data-line-number="602"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">size_t</span> count)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR603" data-line-number="603"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR604" data-line-number="604"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> ntokens;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR605" data-line-number="605"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> *new_above_hispeed_delay = <span class="pl-c1">NULL</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR606" data-line-number="606"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">long</span> flags;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR607" data-line-number="607"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR608" data-line-number="608"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	new_above_hispeed_delay = <span class="pl-c1">get_tokenized_data</span>(buf, &amp;ntokens);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR609" data-line-number="609"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (<span class="pl-c1">IS_ERR</span>(new_above_hispeed_delay))</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR610" data-line-number="610"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> <span class="pl-c1">PTR_RET</span>(new_above_hispeed_delay);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR611" data-line-number="611"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR612" data-line-number="612"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">spin_lock_irqsave</span>(&amp;above_hispeed_delay_lock, flags);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR613" data-line-number="613"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (above_hispeed_delay != default_above_hispeed_delay)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR614" data-line-number="614"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">kfree</span>(above_hispeed_delay);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR615" data-line-number="615"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	above_hispeed_delay = new_above_hispeed_delay;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR616" data-line-number="616"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	nabove_hispeed_delay = ntokens;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR617" data-line-number="617"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">spin_unlock_irqrestore</span>(&amp;above_hispeed_delay_lock, flags);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR618" data-line-number="618"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> count;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR619" data-line-number="619"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR620" data-line-number="620"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR621" data-line-number="621"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR622" data-line-number="622"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">struct</span> global_attr above_hispeed_delay_attr =</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR623" data-line-number="623"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-en">__ATTR</span>(above_hispeed_delay, S_IRUGO | S_IWUSR,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR624" data-line-number="624"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		show_above_hispeed_delay, store_above_hispeed_delay);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR625" data-line-number="625"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR626" data-line-number="626"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">show_hispeed_freq</span>(<span class="pl-k">struct</span> kobject *kobj,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR627" data-line-number="627"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				 <span class="pl-k">struct</span> attribute *attr, <span class="pl-k">char</span> *buf)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR628" data-line-number="628"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR629" data-line-number="629"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> <span class="pl-c1">sprintf</span>(buf, <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%u</span><span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>, hispeed_freq);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR630" data-line-number="630"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR631" data-line-number="631"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR632" data-line-number="632"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">store_hispeed_freq</span>(<span class="pl-k">struct</span> kobject *kobj,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR633" data-line-number="633"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				  <span class="pl-k">struct</span> attribute *attr, <span class="pl-k">const</span> <span class="pl-k">char</span> *buf,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR634" data-line-number="634"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				  <span class="pl-c1">size_t</span> count)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR635" data-line-number="635"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR636" data-line-number="636"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR637" data-line-number="637"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">long</span> <span class="pl-k">unsigned</span> <span class="pl-k">int</span> val;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR638" data-line-number="638"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR639" data-line-number="639"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	ret = <span class="pl-c1">kstrtoul</span>(buf, <span class="pl-c1">0</span>, &amp;val);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR640" data-line-number="640"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (ret &lt; <span class="pl-c1">0</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR641" data-line-number="641"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR642" data-line-number="642"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	hispeed_freq = val;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR643" data-line-number="643"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> count;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR644" data-line-number="644"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR645" data-line-number="645"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR646" data-line-number="646"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">struct</span> global_attr hispeed_freq_attr = __ATTR(hispeed_freq, <span class="pl-c1">0644</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR647" data-line-number="647"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		show_hispeed_freq, store_hispeed_freq);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR648" data-line-number="648"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR649" data-line-number="649"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">show_max_freq_hysteresis</span>(<span class="pl-k">struct</span> kobject *kobj,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR650" data-line-number="650"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				     <span class="pl-k">struct</span> attribute *attr, <span class="pl-k">char</span> *buf)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR651" data-line-number="651"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR652" data-line-number="652"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> <span class="pl-c1">sprintf</span>(buf, <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%u</span><span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>, max_freq_hysteresis);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR653" data-line-number="653"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR654" data-line-number="654"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR655" data-line-number="655"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">store_max_freq_hysteresis</span>(<span class="pl-k">struct</span> kobject *kobj,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR656" data-line-number="656"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">struct</span> attribute *attr, <span class="pl-k">const</span> <span class="pl-k">char</span> *buf, <span class="pl-c1">size_t</span> count)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR657" data-line-number="657"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR658" data-line-number="658"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR659" data-line-number="659"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">long</span> val;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR660" data-line-number="660"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR661" data-line-number="661"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	ret = <span class="pl-c1">kstrtoul</span>(buf, <span class="pl-c1">0</span>, &amp;val);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR662" data-line-number="662"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (ret &lt; <span class="pl-c1">0</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR663" data-line-number="663"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR664" data-line-number="664"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	max_freq_hysteresis = val;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR665" data-line-number="665"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> count;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR666" data-line-number="666"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR667" data-line-number="667"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR668" data-line-number="668"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">struct</span> global_attr max_freq_hysteresis_attr =</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR669" data-line-number="669"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-en">__ATTR</span>(max_freq_hysteresis, <span class="pl-c1">0644</span>, show_max_freq_hysteresis,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR670" data-line-number="670"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		store_max_freq_hysteresis);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR671" data-line-number="671"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR672" data-line-number="672"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">show_go_hispeed_load</span>(<span class="pl-k">struct</span> kobject *kobj,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR673" data-line-number="673"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				     <span class="pl-k">struct</span> attribute *attr, <span class="pl-k">char</span> *buf)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR674" data-line-number="674"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR675" data-line-number="675"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> <span class="pl-c1">sprintf</span>(buf, <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%lu</span><span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>, go_hispeed_load);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR676" data-line-number="676"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR677" data-line-number="677"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR678" data-line-number="678"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">store_go_hispeed_load</span>(<span class="pl-k">struct</span> kobject *kobj,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR679" data-line-number="679"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">struct</span> attribute *attr, <span class="pl-k">const</span> <span class="pl-k">char</span> *buf, <span class="pl-c1">size_t</span> count)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR680" data-line-number="680"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR681" data-line-number="681"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR682" data-line-number="682"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">long</span> val;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR683" data-line-number="683"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR684" data-line-number="684"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	ret = <span class="pl-c1">kstrtoul</span>(buf, <span class="pl-c1">0</span>, &amp;val);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR685" data-line-number="685"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (ret &lt; <span class="pl-c1">0</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR686" data-line-number="686"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR687" data-line-number="687"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	go_hispeed_load = val;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR688" data-line-number="688"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> count;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR689" data-line-number="689"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR690" data-line-number="690"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR691" data-line-number="691"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">struct</span> global_attr go_hispeed_load_attr = __ATTR(go_hispeed_load, <span class="pl-c1">0644</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR692" data-line-number="692"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		show_go_hispeed_load, store_go_hispeed_load);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR693" data-line-number="693"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR694" data-line-number="694"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">show_min_sample_time</span>(<span class="pl-k">struct</span> kobject *kobj,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR695" data-line-number="695"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				<span class="pl-k">struct</span> attribute *attr, <span class="pl-k">char</span> *buf)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR696" data-line-number="696"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR697" data-line-number="697"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> <span class="pl-c1">sprintf</span>(buf, <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%lu</span><span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>, min_sample_time);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR698" data-line-number="698"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR699" data-line-number="699"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR700" data-line-number="700"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">store_min_sample_time</span>(<span class="pl-k">struct</span> kobject *kobj,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR701" data-line-number="701"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">struct</span> attribute *attr, <span class="pl-k">const</span> <span class="pl-k">char</span> *buf, <span class="pl-c1">size_t</span> count)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR702" data-line-number="702"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR703" data-line-number="703"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR704" data-line-number="704"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">long</span> val;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR705" data-line-number="705"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR706" data-line-number="706"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	ret = <span class="pl-c1">kstrtoul</span>(buf, <span class="pl-c1">0</span>, &amp;val);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR707" data-line-number="707"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (ret &lt; <span class="pl-c1">0</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR708" data-line-number="708"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR709" data-line-number="709"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	min_sample_time = val;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR710" data-line-number="710"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> count;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR711" data-line-number="711"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR712" data-line-number="712"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR713" data-line-number="713"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">struct</span> global_attr min_sample_time_attr = __ATTR(min_sample_time, <span class="pl-c1">0644</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR714" data-line-number="714"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		show_min_sample_time, store_min_sample_time);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR715" data-line-number="715"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR716" data-line-number="716"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">show_timer_rate</span>(<span class="pl-k">struct</span> kobject *kobj,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR717" data-line-number="717"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">struct</span> attribute *attr, <span class="pl-k">char</span> *buf)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR718" data-line-number="718"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR719" data-line-number="719"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> <span class="pl-c1">sprintf</span>(buf, <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%lu</span><span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>, timer_rate);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR720" data-line-number="720"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR721" data-line-number="721"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR722" data-line-number="722"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">store_timer_rate</span>(<span class="pl-k">struct</span> kobject *kobj,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR723" data-line-number="723"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">struct</span> attribute *attr, <span class="pl-k">const</span> <span class="pl-k">char</span> *buf, <span class="pl-c1">size_t</span> count)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR724" data-line-number="724"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR725" data-line-number="725"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR726" data-line-number="726"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">long</span> val, val_round;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR727" data-line-number="727"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR728" data-line-number="728"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	ret = <span class="pl-c1">kstrtoul</span>(buf, <span class="pl-c1">0</span>, &amp;val);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR729" data-line-number="729"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (ret &lt; <span class="pl-c1">0</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR730" data-line-number="730"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR731" data-line-number="731"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR732" data-line-number="732"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	val_round = <span class="pl-c1">jiffies_to_usecs</span>(<span class="pl-c1">usecs_to_jiffies</span>(val));</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR733" data-line-number="733"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (val != val_round)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR734" data-line-number="734"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">pr_warn</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>timer_rate not aligned to jiffy. Rounded up to <span class="pl-c1">%lu</span><span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR735" data-line-number="735"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				val_round);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR736" data-line-number="736"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR737" data-line-number="737"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	timer_rate = val_round;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR738" data-line-number="738"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> count;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR739" data-line-number="739"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR740" data-line-number="740"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR741" data-line-number="741"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">struct</span> global_attr timer_rate_attr = __ATTR(timer_rate, <span class="pl-c1">0644</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR742" data-line-number="742"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		show_timer_rate, store_timer_rate);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR743" data-line-number="743"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR744" data-line-number="744"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">show_input_boost_freq</span>(<span class="pl-k">struct</span> kobject *kobj, <span class="pl-k">struct</span> attribute *attr,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR745" data-line-number="745"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+                                     <span class="pl-k">char</span> *buf)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR746" data-line-number="746"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR747" data-line-number="747"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> <span class="pl-c1">sprintf</span>(buf, <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%d</span><span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>, input_boost_freq);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR748" data-line-number="748"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR749" data-line-number="749"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR750" data-line-number="750"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">store_input_boost_freq</span>(<span class="pl-k">struct</span> kobject *kobj, <span class="pl-k">struct</span> attribute *attr,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR751" data-line-number="751"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+                                      <span class="pl-k">const</span> <span class="pl-k">char</span> *buf, <span class="pl-c1">size_t</span> count)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR752" data-line-number="752"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR753" data-line-number="753"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR754" data-line-number="754"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">long</span> val;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR755" data-line-number="755"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR756" data-line-number="756"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	ret = <span class="pl-c1">kstrtoul</span>(buf, <span class="pl-c1">0</span>, &amp;val);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR757" data-line-number="757"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (ret &lt; <span class="pl-c1">0</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR758" data-line-number="758"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR759" data-line-number="759"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR760" data-line-number="760"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	input_boost_freq = val;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR761" data-line-number="761"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> count;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR762" data-line-number="762"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR763" data-line-number="763"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR764" data-line-number="764"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR765" data-line-number="765"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">struct</span> global_attr input_boost_freq_attr = __ATTR(input_boost_freq, <span class="pl-c1">0644</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR766" data-line-number="766"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		show_input_boost_freq, store_input_boost_freq);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR767" data-line-number="767"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR768" data-line-number="768"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">show_timer_slack</span>(</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR769" data-line-number="769"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> kobject *kobj, <span class="pl-k">struct</span> attribute *attr, <span class="pl-k">char</span> *buf)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR770" data-line-number="770"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR771" data-line-number="771"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> <span class="pl-c1">sprintf</span>(buf, <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%d</span><span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>, timer_slack_val);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR772" data-line-number="772"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR773" data-line-number="773"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR774" data-line-number="774"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">store_timer_slack</span>(</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR775" data-line-number="775"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> kobject *kobj, <span class="pl-k">struct</span> attribute *attr, <span class="pl-k">const</span> <span class="pl-k">char</span> *buf,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR776" data-line-number="776"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">size_t</span> count)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR777" data-line-number="777"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR778" data-line-number="778"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR779" data-line-number="779"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">long</span> val;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR780" data-line-number="780"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR781" data-line-number="781"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	ret = <span class="pl-c1">kstrtol</span>(buf, <span class="pl-c1">10</span>, &amp;val);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR782" data-line-number="782"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (ret &lt; <span class="pl-c1">0</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR783" data-line-number="783"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR784" data-line-number="784"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR785" data-line-number="785"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	timer_slack_val = val;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR786" data-line-number="786"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> count;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR787" data-line-number="787"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR788" data-line-number="788"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR789" data-line-number="789"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">define_one_global_rw</span>(timer_slack);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR790" data-line-number="790"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR791" data-line-number="791"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">store_boostpulse</span>(<span class="pl-k">struct</span> kobject *kobj, <span class="pl-k">struct</span> attribute *attr,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR792" data-line-number="792"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				<span class="pl-k">const</span> <span class="pl-k">char</span> *buf, <span class="pl-c1">size_t</span> count)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR793" data-line-number="793"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR794" data-line-number="794"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR795" data-line-number="795"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">long</span> val;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR796" data-line-number="796"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR797" data-line-number="797"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	ret = <span class="pl-c1">kstrtoul</span>(buf, <span class="pl-c1">0</span>, &amp;val);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR798" data-line-number="798"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (ret &lt; <span class="pl-c1">0</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR799" data-line-number="799"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR800" data-line-number="800"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR801" data-line-number="801"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	boostpulse_endtime = <span class="pl-c1">ktime_to_us</span>(<span class="pl-c1">ktime_get</span>()) + boostpulse_duration_val;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR802" data-line-number="802"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">cpufreq_interactive_boost</span>();</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR803" data-line-number="803"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> count;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR804" data-line-number="804"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR805" data-line-number="805"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR806" data-line-number="806"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">struct</span> global_attr boostpulse =</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR807" data-line-number="807"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-en">__ATTR</span>(boostpulse, <span class="pl-c1">0200</span>, <span class="pl-c1">NULL</span>, store_boostpulse);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR808" data-line-number="808"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR809" data-line-number="809"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">show_boostpulse_duration</span>(</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR810" data-line-number="810"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> kobject *kobj, <span class="pl-k">struct</span> attribute *attr, <span class="pl-k">char</span> *buf)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR811" data-line-number="811"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR812" data-line-number="812"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> <span class="pl-c1">sprintf</span>(buf, <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%d</span><span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>, boostpulse_duration_val);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR813" data-line-number="813"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR814" data-line-number="814"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR815" data-line-number="815"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">store_boostpulse_duration</span>(</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR816" data-line-number="816"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> kobject *kobj, <span class="pl-k">struct</span> attribute *attr, <span class="pl-k">const</span> <span class="pl-k">char</span> *buf,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR817" data-line-number="817"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">size_t</span> count)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR818" data-line-number="818"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR819" data-line-number="819"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR820" data-line-number="820"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">long</span> val;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR821" data-line-number="821"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR822" data-line-number="822"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	ret = <span class="pl-c1">kstrtoul</span>(buf, <span class="pl-c1">0</span>, &amp;val);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR823" data-line-number="823"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (ret &lt; <span class="pl-c1">0</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR824" data-line-number="824"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR825" data-line-number="825"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR826" data-line-number="826"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	boostpulse_duration_val = val;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR827" data-line-number="827"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> count;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR828" data-line-number="828"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR829" data-line-number="829"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR830" data-line-number="830"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">define_one_global_rw</span>(boostpulse_duration);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR831" data-line-number="831"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR832" data-line-number="832"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">show_io_is_busy</span>(<span class="pl-k">struct</span> kobject *kobj,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR833" data-line-number="833"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">struct</span> attribute *attr, <span class="pl-k">char</span> *buf)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR834" data-line-number="834"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR835" data-line-number="835"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> <span class="pl-c1">sprintf</span>(buf, <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%u</span><span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>, io_is_busy);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR836" data-line-number="836"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR837" data-line-number="837"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR838" data-line-number="838"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">store_io_is_busy</span>(<span class="pl-k">struct</span> kobject *kobj,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR839" data-line-number="839"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">struct</span> attribute *attr, <span class="pl-k">const</span> <span class="pl-k">char</span> *buf, <span class="pl-c1">size_t</span> count)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR840" data-line-number="840"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR841" data-line-number="841"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR842" data-line-number="842"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">long</span> val;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR843" data-line-number="843"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR844" data-line-number="844"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	ret = <span class="pl-c1">kstrtoul</span>(buf, <span class="pl-c1">0</span>, &amp;val);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR845" data-line-number="845"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (ret &lt; <span class="pl-c1">0</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR846" data-line-number="846"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR847" data-line-number="847"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	io_is_busy = val;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR848" data-line-number="848"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> count;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR849" data-line-number="849"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR850" data-line-number="850"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR851" data-line-number="851"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">struct</span> global_attr io_is_busy_attr = __ATTR(io_is_busy, <span class="pl-c1">0644</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR852" data-line-number="852"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		show_io_is_busy, store_io_is_busy);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR853" data-line-number="853"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR854" data-line-number="854"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">show_low_load_down_threshold</span>(<span class="pl-k">struct</span> kobject *kobj, <span class="pl-k">struct</span> attribute *attr,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR855" data-line-number="855"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+                                     <span class="pl-k">char</span> *buf)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR856" data-line-number="856"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR857" data-line-number="857"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> <span class="pl-c1">sprintf</span>(buf, <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%d</span><span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>, low_load_down_threshold);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR858" data-line-number="858"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR859" data-line-number="859"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR860" data-line-number="860"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">store_low_load_down_threshold</span>(<span class="pl-k">struct</span> kobject *kobj, <span class="pl-k">struct</span> attribute *attr,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR861" data-line-number="861"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+                                      <span class="pl-k">const</span> <span class="pl-k">char</span> *buf, <span class="pl-c1">size_t</span> count)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR862" data-line-number="862"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR863" data-line-number="863"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR864" data-line-number="864"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">long</span> val;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR865" data-line-number="865"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR866" data-line-number="866"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	ret = <span class="pl-c1">kstrtoul</span>(buf, <span class="pl-c1">0</span>, &amp;val);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR867" data-line-number="867"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (ret &lt; <span class="pl-c1">0</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR868" data-line-number="868"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR869" data-line-number="869"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR870" data-line-number="870"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (val &lt; <span class="pl-c1">0</span> || val &gt; <span class="pl-c1">100</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR871" data-line-number="871"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		low_load_down_threshold = low_load_down_threshold;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR872" data-line-number="872"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">else</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR873" data-line-number="873"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		low_load_down_threshold = val;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR874" data-line-number="874"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR875" data-line-number="875"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> count;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR876" data-line-number="876"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR877" data-line-number="877"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR878" data-line-number="878"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">struct</span> global_attr low_load_down_threshold_attr = __ATTR(low_load_down_threshold, <span class="pl-c1">0644</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR879" data-line-number="879"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		show_low_load_down_threshold, store_low_load_down_threshold);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR880" data-line-number="880"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR881" data-line-number="881"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">struct</span> attribute *interactive_attributes[] = {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR882" data-line-number="882"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;above_hispeed_delay_attr.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR883" data-line-number="883"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;hispeed_freq_attr.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR884" data-line-number="884"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;go_hispeed_load_attr.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR885" data-line-number="885"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;min_sample_time_attr.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR886" data-line-number="886"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;timer_rate_attr.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR887" data-line-number="887"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;timer_slack.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR888" data-line-number="888"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;boostpulse.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR889" data-line-number="889"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;boostpulse_duration.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR890" data-line-number="890"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;input_boost_freq_attr.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR891" data-line-number="891"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;io_is_busy_attr.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR892" data-line-number="892"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;max_freq_hysteresis_attr.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR893" data-line-number="893"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;low_load_down_threshold_attr.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR894" data-line-number="894"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">NULL</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR895" data-line-number="895"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+};</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR896" data-line-number="896"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR897" data-line-number="897"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">void</span> <span class="pl-en">interactive_input_event</span>(<span class="pl-k">struct</span> input_handle *handle,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR898" data-line-number="898"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">unsigned</span> <span class="pl-k">int</span> type,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR899" data-line-number="899"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">unsigned</span> <span class="pl-k">int</span> code, <span class="pl-k">int</span> value)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR900" data-line-number="900"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR901" data-line-number="901"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (type == EV_SYN &amp;&amp; code == SYN_REPORT) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR902" data-line-number="902"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		boostpulse_endtime = <span class="pl-c1">ktime_to_us</span>(<span class="pl-c1">ktime_get</span>()) + boostpulse_duration_val;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR903" data-line-number="903"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR904" data-line-number="904"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR905" data-line-number="905"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR906" data-line-number="906"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">int</span> <span class="pl-en">interactive_input_connect</span>(<span class="pl-k">struct</span> input_handler *handler,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR907" data-line-number="907"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">struct</span> input_dev *dev, <span class="pl-k">const</span> <span class="pl-k">struct</span> input_device_id *id)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR908" data-line-number="908"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR909" data-line-number="909"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> input_handle *handle;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR910" data-line-number="910"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> error;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR911" data-line-number="911"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR912" data-line-number="912"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	handle = <span class="pl-c1">kzalloc</span>(<span class="pl-k">sizeof</span>(<span class="pl-k">struct</span> input_handle), GFP_KERNEL);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR913" data-line-number="913"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (!handle)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR914" data-line-number="914"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> -ENOMEM;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR915" data-line-number="915"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR916" data-line-number="916"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	handle-&gt;dev = dev;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR917" data-line-number="917"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	handle-&gt;handler = handler;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR918" data-line-number="918"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	handle-&gt;name = <span class="pl-s"><span class="pl-pds">&quot;</span>cpufreq<span class="pl-pds">&quot;</span></span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR919" data-line-number="919"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR920" data-line-number="920"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	error = <span class="pl-c1">input_register_handle</span>(handle);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR921" data-line-number="921"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (error)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR922" data-line-number="922"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">goto</span> err2;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR923" data-line-number="923"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR924" data-line-number="924"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	error = <span class="pl-c1">input_open_device</span>(handle);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR925" data-line-number="925"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (error)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR926" data-line-number="926"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">goto</span> err1;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR927" data-line-number="927"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR928" data-line-number="928"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR929" data-line-number="929"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+err1:</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR930" data-line-number="930"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">input_unregister_handle</span>(handle);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR931" data-line-number="931"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+err2:</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR932" data-line-number="932"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">kfree</span>(handle);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR933" data-line-number="933"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> error;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR934" data-line-number="934"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR935" data-line-number="935"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR936" data-line-number="936"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">void</span> <span class="pl-en">interactive_input_disconnect</span>(<span class="pl-k">struct</span> input_handle *handle)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR937" data-line-number="937"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR938" data-line-number="938"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">input_close_device</span>(handle);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR939" data-line-number="939"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">input_unregister_handle</span>(handle);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR940" data-line-number="940"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">kfree</span>(handle);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR941" data-line-number="941"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR942" data-line-number="942"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR943" data-line-number="943"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">const</span> <span class="pl-k">struct</span> input_device_id interactive_ids[] = {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR944" data-line-number="944"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR945" data-line-number="945"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		.<span class="pl-smi">flags</span> = INPUT_DEVICE_ID_MATCH_EVBIT |</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR946" data-line-number="946"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			 INPUT_DEVICE_ID_MATCH_ABSBIT,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR947" data-line-number="947"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		.<span class="pl-smi">evbit</span> = { <span class="pl-c1">BIT_MASK</span>(EV_ABS) },</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR948" data-line-number="948"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		.<span class="pl-smi">absbit</span> = { [<span class="pl-c1">BIT_WORD</span>(ABS_MT_POSITION_X)] =</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR949" data-line-number="949"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			    <span class="pl-c1">BIT_MASK</span>(ABS_MT_POSITION_X) |</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR950" data-line-number="950"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			    <span class="pl-c1">BIT_MASK</span>(ABS_MT_POSITION_Y) },</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR951" data-line-number="951"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}, <span class="pl-c">/* multi-touch touchscreen */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR952" data-line-number="952"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR953" data-line-number="953"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		.<span class="pl-smi">flags</span> = INPUT_DEVICE_ID_MATCH_KEYBIT |</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR954" data-line-number="954"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			 INPUT_DEVICE_ID_MATCH_ABSBIT,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR955" data-line-number="955"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		.<span class="pl-smi">keybit</span> = { [<span class="pl-c1">BIT_WORD</span>(BTN_TOUCH)] = <span class="pl-c1">BIT_MASK</span>(BTN_TOUCH) },</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR956" data-line-number="956"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		.<span class="pl-smi">absbit</span> = { [<span class="pl-c1">BIT_WORD</span>(ABS_X)] =</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR957" data-line-number="957"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			    <span class="pl-c1">BIT_MASK</span>(ABS_X) | <span class="pl-c1">BIT_MASK</span>(ABS_Y) },</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR958" data-line-number="958"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}, <span class="pl-c">/* touchpad */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR959" data-line-number="959"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+};</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR960" data-line-number="960"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR961" data-line-number="961"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">struct</span> input_handler interactive_input_handler = {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR962" data-line-number="962"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">event</span>		= interactive_input_event,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR963" data-line-number="963"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">connect</span>	= interactive_input_connect,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR964" data-line-number="964"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">disconnect</span>	= interactive_input_disconnect,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR965" data-line-number="965"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">name</span>		= <span class="pl-s"><span class="pl-pds">&quot;</span>blu_active<span class="pl-pds">&quot;</span></span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR966" data-line-number="966"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">id_table</span>	= interactive_ids,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR967" data-line-number="967"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+};</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR968" data-line-number="968"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR969" data-line-number="969"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">struct</span> attribute_group interactive_attr_group = {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR970" data-line-number="970"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">attrs</span> = interactive_attributes,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR971" data-line-number="971"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">name</span> = <span class="pl-s"><span class="pl-pds">&quot;</span>blu_active<span class="pl-pds">&quot;</span></span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR972" data-line-number="972"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+};</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR973" data-line-number="973"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR974" data-line-number="974"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR975" data-line-number="975"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">int</span> <span class="pl-en">cpufreq_interactive_idle_notifier</span>(<span class="pl-k">struct</span> notifier_block *nb,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR976" data-line-number="976"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+					     <span class="pl-k">unsigned</span> <span class="pl-k">long</span> val,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR977" data-line-number="977"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+					     <span class="pl-k">void</span> *data)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR978" data-line-number="978"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR979" data-line-number="979"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (val == IDLE_END)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR980" data-line-number="980"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">cpufreq_interactive_idle_end</span>();</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR981" data-line-number="981"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR982" data-line-number="982"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR983" data-line-number="983"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR984" data-line-number="984"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR985" data-line-number="985"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">struct</span> notifier_block cpufreq_interactive_idle_nb = {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR986" data-line-number="986"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">notifier_call</span> = cpufreq_interactive_idle_notifier,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR987" data-line-number="987"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+};</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR988" data-line-number="988"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR989" data-line-number="989"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">int</span> <span class="pl-en">cpufreq_governor_blu_active</span>(<span class="pl-k">struct</span> cpufreq_policy *policy,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR990" data-line-number="990"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">unsigned</span> <span class="pl-k">int</span> event)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR991" data-line-number="991"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR992" data-line-number="992"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> rc;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR993" data-line-number="993"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> j;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR994" data-line-number="994"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> cpufreq_interactive_cpuinfo *pcpu;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR995" data-line-number="995"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> cpufreq_frequency_table *freq_table;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR996" data-line-number="996"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">long</span> flags;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR997" data-line-number="997"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR998" data-line-number="998"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">switch</span> (event) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR999" data-line-number="999"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">case</span> CPUFREQ_GOV_START:</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1000" data-line-number="1000"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (!<span class="pl-c1">cpu_online</span>(policy-&gt;cpu))</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1001" data-line-number="1001"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">return</span> -EINVAL;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1002" data-line-number="1002"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1003" data-line-number="1003"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">mutex_lock</span>(&amp;gov_lock);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1004" data-line-number="1004"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1005" data-line-number="1005"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		freq_table =</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1006" data-line-number="1006"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c1">cpufreq_frequency_get_table</span>(policy-&gt;cpu);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1007" data-line-number="1007"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (!hispeed_freq)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1008" data-line-number="1008"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			hispeed_freq = policy-&gt;max;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1009" data-line-number="1009"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1010" data-line-number="1010"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">for_each_cpu</span>(j, policy-&gt;cpus) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1011" data-line-number="1011"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			pcpu = &amp;<span class="pl-c1">per_cpu</span>(cpuinfo, j);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1012" data-line-number="1012"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			pcpu-&gt;policy = policy;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1013" data-line-number="1013"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			pcpu-&gt;target_freq = policy-&gt;cur;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1014" data-line-number="1014"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			pcpu-&gt;freq_table = freq_table;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1015" data-line-number="1015"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			pcpu-&gt;floor_freq = pcpu-&gt;target_freq;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1016" data-line-number="1016"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			pcpu-&gt;floor_validate_time =</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1017" data-line-number="1017"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				<span class="pl-c1">ktime_to_us</span>(<span class="pl-c1">ktime_get</span>());</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1018" data-line-number="1018"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			pcpu-&gt;hispeed_validate_time =</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1019" data-line-number="1019"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				pcpu-&gt;floor_validate_time;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1020" data-line-number="1020"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			pcpu-&gt;local_hvtime = pcpu-&gt;floor_validate_time;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1021" data-line-number="1021"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			pcpu-&gt;max_freq = policy-&gt;max;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1022" data-line-number="1022"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			pcpu-&gt;min_freq = policy-&gt;min;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1023" data-line-number="1023"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c1">down_write</span>(&amp;pcpu-&gt;enable_sem);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1024" data-line-number="1024"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c1">del_timer_sync</span>(&amp;pcpu-&gt;cpu_timer);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1025" data-line-number="1025"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c1">del_timer_sync</span>(&amp;pcpu-&gt;cpu_slack_timer);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1026" data-line-number="1026"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			pcpu-&gt;last_evaluated_jiffy = <span class="pl-c1">get_jiffies_64</span>();</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1027" data-line-number="1027"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c1">cpufreq_interactive_timer_start</span>(j);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1028" data-line-number="1028"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			pcpu-&gt;governor_enabled = <span class="pl-c1">1</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1029" data-line-number="1029"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c1">up_write</span>(&amp;pcpu-&gt;enable_sem);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1030" data-line-number="1030"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1031" data-line-number="1031"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1032" data-line-number="1032"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1033" data-line-number="1033"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * Do not register the idle hook and create sysfs</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1034" data-line-number="1034"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * entries if we have already done so.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1035" data-line-number="1035"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1036" data-line-number="1036"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (++active_count &gt; <span class="pl-c1">1</span>) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1037" data-line-number="1037"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c1">mutex_unlock</span>(&amp;gov_lock);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1038" data-line-number="1038"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">return</span> <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1039" data-line-number="1039"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1040" data-line-number="1040"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1041" data-line-number="1041"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		rc = <span class="pl-c1">sysfs_create_group</span>(cpufreq_global_kobject,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1042" data-line-number="1042"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				&amp;interactive_attr_group);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1043" data-line-number="1043"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (rc) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1044" data-line-number="1044"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c1">mutex_unlock</span>(&amp;gov_lock);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1045" data-line-number="1045"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">return</span> rc;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1046" data-line-number="1046"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1047" data-line-number="1047"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1048" data-line-number="1048"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">idle_notifier_register</span>(&amp;cpufreq_interactive_idle_nb);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1049" data-line-number="1049"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">cpufreq_register_notifier</span>(</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1050" data-line-number="1050"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			&amp;cpufreq_notifier_block, CPUFREQ_TRANSITION_NOTIFIER);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1051" data-line-number="1051"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">mutex_unlock</span>(&amp;gov_lock);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1052" data-line-number="1052"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">break</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1053" data-line-number="1053"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1054" data-line-number="1054"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">case</span> CPUFREQ_GOV_STOP:</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1055" data-line-number="1055"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">mutex_lock</span>(&amp;gov_lock);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1056" data-line-number="1056"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">for_each_cpu</span>(j, policy-&gt;cpus) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1057" data-line-number="1057"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			pcpu = &amp;<span class="pl-c1">per_cpu</span>(cpuinfo, j);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1058" data-line-number="1058"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c1">down_write</span>(&amp;pcpu-&gt;enable_sem);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1059" data-line-number="1059"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			pcpu-&gt;governor_enabled = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1060" data-line-number="1060"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			pcpu-&gt;target_freq = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1061" data-line-number="1061"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c1">del_timer_sync</span>(&amp;pcpu-&gt;cpu_timer);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1062" data-line-number="1062"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c1">del_timer_sync</span>(&amp;pcpu-&gt;cpu_slack_timer);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1063" data-line-number="1063"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c1">up_write</span>(&amp;pcpu-&gt;enable_sem);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1064" data-line-number="1064"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1065" data-line-number="1065"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1066" data-line-number="1066"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (--active_count &gt; <span class="pl-c1">0</span>) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1067" data-line-number="1067"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c1">mutex_unlock</span>(&amp;gov_lock);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1068" data-line-number="1068"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">return</span> <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1069" data-line-number="1069"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1070" data-line-number="1070"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1071" data-line-number="1071"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">cpufreq_unregister_notifier</span>(</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1072" data-line-number="1072"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			&amp;cpufreq_notifier_block, CPUFREQ_TRANSITION_NOTIFIER);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1073" data-line-number="1073"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">idle_notifier_unregister</span>(&amp;cpufreq_interactive_idle_nb);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1074" data-line-number="1074"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">sysfs_remove_group</span>(cpufreq_global_kobject,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1075" data-line-number="1075"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				&amp;interactive_attr_group);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1076" data-line-number="1076"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">mutex_unlock</span>(&amp;gov_lock);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1077" data-line-number="1077"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1078" data-line-number="1078"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">break</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1079" data-line-number="1079"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1080" data-line-number="1080"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">case</span> CPUFREQ_GOV_LIMITS:</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1081" data-line-number="1081"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">__cpufreq_driver_target</span>(policy,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1082" data-line-number="1082"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			policy-&gt;cur, CPUFREQ_RELATION_L);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1083" data-line-number="1083"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1084" data-line-number="1084"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">for_each_cpu</span>(j, policy-&gt;cpus) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1085" data-line-number="1085"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			pcpu = &amp;<span class="pl-c1">per_cpu</span>(cpuinfo, j);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1086" data-line-number="1086"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1087" data-line-number="1087"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c1">down_read</span>(&amp;pcpu-&gt;enable_sem);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1088" data-line-number="1088"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">if</span> (pcpu-&gt;governor_enabled == <span class="pl-c1">0</span>) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1089" data-line-number="1089"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				<span class="pl-c1">up_read</span>(&amp;pcpu-&gt;enable_sem);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1090" data-line-number="1090"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				<span class="pl-k">continue</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1091" data-line-number="1091"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1092" data-line-number="1092"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1093" data-line-number="1093"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c1">spin_lock_irqsave</span>(&amp;pcpu-&gt;target_freq_lock, flags);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1094" data-line-number="1094"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">if</span> (policy-&gt;max &lt; pcpu-&gt;target_freq)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1095" data-line-number="1095"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				pcpu-&gt;target_freq = policy-&gt;max;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1096" data-line-number="1096"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">else</span> <span class="pl-k">if</span> (policy-&gt;min &gt; pcpu-&gt;target_freq)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1097" data-line-number="1097"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				pcpu-&gt;target_freq = policy-&gt;min;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1098" data-line-number="1098"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1099" data-line-number="1099"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c1">spin_unlock_irqrestore</span>(&amp;pcpu-&gt;target_freq_lock, flags);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1100" data-line-number="1100"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1101" data-line-number="1101"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">if</span> (policy-&gt;min &lt; pcpu-&gt;min_freq)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1102" data-line-number="1102"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				<span class="pl-c1">cpufreq_interactive_timer_resched</span>(j, <span class="pl-c1">true</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1103" data-line-number="1103"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			pcpu-&gt;min_freq = policy-&gt;min;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1104" data-line-number="1104"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1105" data-line-number="1105"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c1">up_read</span>(&amp;pcpu-&gt;enable_sem);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1106" data-line-number="1106"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1107" data-line-number="1107"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c">/* Reschedule timer.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1108" data-line-number="1108"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">			 * Delete the timers, else the timer callback may</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1109" data-line-number="1109"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">			 * return without re-arm the timer when failed</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1110" data-line-number="1110"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">			 * acquire the semaphore. This race may cause timer</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1111" data-line-number="1111"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">			 * stopped unexpectedly.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1112" data-line-number="1112"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">			 */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1113" data-line-number="1113"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">if</span> (policy-&gt;max &gt; pcpu-&gt;max_freq) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1114" data-line-number="1114"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				<span class="pl-c1">down_write</span>(&amp;pcpu-&gt;enable_sem);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1115" data-line-number="1115"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				<span class="pl-c1">del_timer_sync</span>(&amp;pcpu-&gt;cpu_timer);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1116" data-line-number="1116"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				<span class="pl-c1">del_timer_sync</span>(&amp;pcpu-&gt;cpu_slack_timer);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1117" data-line-number="1117"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				<span class="pl-c1">cpufreq_interactive_timer_resched</span>(j, <span class="pl-c1">false</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1118" data-line-number="1118"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				<span class="pl-c1">up_write</span>(&amp;pcpu-&gt;enable_sem);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1119" data-line-number="1119"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1120" data-line-number="1120"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1121" data-line-number="1121"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			pcpu-&gt;max_freq = policy-&gt;max;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1122" data-line-number="1122"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1123" data-line-number="1123"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">break</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1124" data-line-number="1124"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1125" data-line-number="1125"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1126" data-line-number="1126"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1127" data-line-number="1127"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1128" data-line-number="1128"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">ifndef</span> CONFIG_CPU_FREQ_DEFAULT_GOV_BLU_ACTIVE</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1129" data-line-number="1129"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1130" data-line-number="1130"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">endif</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1131" data-line-number="1131"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">struct</span> cpufreq_governor cpufreq_gov_blu_active = {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1132" data-line-number="1132"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">name</span> = <span class="pl-s"><span class="pl-pds">&quot;</span>blu_active<span class="pl-pds">&quot;</span></span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1133" data-line-number="1133"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">governor</span> = cpufreq_governor_blu_active,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1134" data-line-number="1134"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">max_transition_latency</span> = <span class="pl-c1">10000000</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1135" data-line-number="1135"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">owner</span> = THIS_MODULE,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1136" data-line-number="1136"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+};</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1137" data-line-number="1137"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1138" data-line-number="1138"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">void</span> <span class="pl-en">cpufreq_interactive_nop_timer</span>(<span class="pl-k">unsigned</span> <span class="pl-k">long</span> data)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1139" data-line-number="1139"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1140" data-line-number="1140"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1141" data-line-number="1141"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1142" data-line-number="1142"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">int</span> __init <span class="pl-en">cpufreq_blu_active_init</span>(<span class="pl-k">void</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1143" data-line-number="1143"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1144" data-line-number="1144"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> i, rc;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1145" data-line-number="1145"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> cpufreq_interactive_cpuinfo *pcpu;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1146" data-line-number="1146"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> <span class="pl-c1">sched_param</span> param = { .<span class="pl-smi">sched_priority</span> = MAX_RT_PRIO-<span class="pl-c1">1</span> };</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1147" data-line-number="1147"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1148" data-line-number="1148"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c">/* Initalize per-cpu timers */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1149" data-line-number="1149"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">for_each_possible_cpu</span>(i) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1150" data-line-number="1150"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		pcpu = &amp;<span class="pl-c1">per_cpu</span>(cpuinfo, i);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1151" data-line-number="1151"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">init_timer_deferrable</span>(&amp;pcpu-&gt;cpu_timer);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1152" data-line-number="1152"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		pcpu-&gt;cpu_timer.<span class="pl-smi">function</span> = cpufreq_interactive_timer;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1153" data-line-number="1153"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		pcpu-&gt;cpu_timer.<span class="pl-smi">data</span> = i;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1154" data-line-number="1154"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">init_timer</span>(&amp;pcpu-&gt;cpu_slack_timer);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1155" data-line-number="1155"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		pcpu-&gt;cpu_slack_timer.<span class="pl-smi">function</span> = cpufreq_interactive_nop_timer;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1156" data-line-number="1156"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">spin_lock_init</span>(&amp;pcpu-&gt;load_lock);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1157" data-line-number="1157"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">spin_lock_init</span>(&amp;pcpu-&gt;target_freq_lock);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1158" data-line-number="1158"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">init_rwsem</span>(&amp;pcpu-&gt;enable_sem);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1159" data-line-number="1159"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (!i)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1160" data-line-number="1160"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			rc = <span class="pl-c1">input_register_handler</span>(&amp;interactive_input_handler);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1161" data-line-number="1161"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1162" data-line-number="1162"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1163" data-line-number="1163"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">spin_lock_init</span>(&amp;speedchange_cpumask_lock);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1164" data-line-number="1164"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">spin_lock_init</span>(&amp;above_hispeed_delay_lock);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1165" data-line-number="1165"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">mutex_init</span>(&amp;gov_lock);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1166" data-line-number="1166"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	speedchange_task =</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1167" data-line-number="1167"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">kthread_create</span>(cpufreq_interactive_speedchange_task, <span class="pl-c1">NULL</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1168" data-line-number="1168"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			       <span class="pl-s"><span class="pl-pds">&quot;</span>cfblu_active<span class="pl-pds">&quot;</span></span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1169" data-line-number="1169"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (<span class="pl-c1">IS_ERR</span>(speedchange_task))</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1170" data-line-number="1170"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> <span class="pl-c1">PTR_ERR</span>(speedchange_task);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1171" data-line-number="1171"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1172" data-line-number="1172"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">sched_setscheduler_nocheck</span>(speedchange_task, SCHED_FIFO, &amp;param);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1173" data-line-number="1173"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">get_task_struct</span>(speedchange_task);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1174" data-line-number="1174"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1175" data-line-number="1175"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c">/* NB: wake up so the thread does not look hung to the freezer */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1176" data-line-number="1176"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">wake_up_process</span>(speedchange_task);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1177" data-line-number="1177"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1178" data-line-number="1178"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> <span class="pl-c1">cpufreq_register_governor</span>(&amp;cpufreq_gov_blu_active);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1179" data-line-number="1179"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1180" data-line-number="1180"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1181" data-line-number="1181"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">ifdef</span> CONFIG_CPU_FREQ_DEFAULT_GOV_BLU_ACTIVE</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1182" data-line-number="1182"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">fs_initcall</span>(cpufreq_blu_active_init);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1183" data-line-number="1183"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">else</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1184" data-line-number="1184"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">module_init</span>(cpufreq_blu_active_init);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1185" data-line-number="1185"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">endif</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1186" data-line-number="1186"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1187" data-line-number="1187"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">void</span> __exit <span class="pl-en">cpufreq_interactive_exit</span>(<span class="pl-k">void</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1188" data-line-number="1188"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1189" data-line-number="1189"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> cpu;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1190" data-line-number="1190"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1191" data-line-number="1191"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">cpufreq_unregister_governor</span>(&amp;cpufreq_gov_blu_active);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1192" data-line-number="1192"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">for_each_possible_cpu</span>(cpu) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1193" data-line-number="1193"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span>(!cpu)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1194" data-line-number="1194"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c1">input_unregister_handler</span>(&amp;interactive_input_handler);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1195" data-line-number="1195"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1196" data-line-number="1196"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">kthread_stop</span>(speedchange_task);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1197" data-line-number="1197"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">put_task_struct</span>(speedchange_task);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1198" data-line-number="1198"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1199" data-line-number="1199"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1200" data-line-number="1200"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">module_exit</span>(cpufreq_interactive_exit);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1201" data-line-number="1201"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1202" data-line-number="1202"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">MODULE_AUTHOR</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>Mike Chan &lt;mike@android.com&gt;<span class="pl-pds">&quot;</span></span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1203" data-line-number="1203"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">MODULE_AUTHOR</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>engstk &lt;eng.stk@sapo.pt&gt;<span class="pl-pds">&quot;</span></span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1204" data-line-number="1204"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">MODULE_DESCRIPTION</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>&#39;cpufreq_blu_active&#39; - A cpufreq governor for <span class="pl-pds">&quot;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1205" data-line-number="1205"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-s"><span class="pl-pds">&quot;</span>Latency sensitive workloads based on Google &amp; CM Interactive<span class="pl-pds">&quot;</span></span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-19aea1202cef31a9a95958068e51933bR1206" data-line-number="1206"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">MODULE_LICENSE</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>GPLv2<span class="pl-pds">&quot;</span></span>);</span>

  </td>
</tr>



              </table>
            </div>
      </div>

      <a name="diff-b75a1c11c6af572764e03b4e0ab72bd7"></a>
      <div id="diff-10"
           class="file js-details-container
                   
                   
                   
                   
                   show-inline-notes
                 ">
        <div class="file-header" data-path="drivers/cpufreq/cpufreq_cafactive.c">
          <div class="file-actions">
              <span class="show-file-notes">
                <label>
                  <input type="checkbox" checked="checked" class="js-toggle-file-notes">
                  Show notes
                </label>
              </span>

                <a href="/Tkkg1994/StockKernel/blob/cbf17b4b432bfe962ae330d9a86f8ded47d33b22/drivers/cpufreq/cpufreq_cafactive.c" class="btn btn-sm tooltipped tooltipped-nw" rel="nofollow" aria-label="View the whole file at version cbf17b4 ">View</a>


          </div>
          <div class="file-info">
              <span class="diffstat tooltipped tooltipped-e" aria-label="1,851 additions &amp; 0 deletions">1,851 <span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span></span>

            <span class="user-select-contain" title="drivers/cpufreq/cpufreq_cafactive.c">
              drivers/cpufreq/cpufreq_cafactive.c
            </span>
            
          </div>
        </div>

            <div class="data highlight empty">
              1,851 additions,
              0 deletions
              not shown because the diff is too large. Please use a local Git client to view these changes.
            </div>
      </div>

      <a name="diff-27878bce581dda989cf8cf824d247a9c"></a>
      <div id="diff-11"
           class="file js-details-container
                   
                   
                   
                   
                   show-inline-notes
                 ">
        <div class="file-header" data-path="drivers/cpufreq/cpufreq_conservative_x.c">
          <div class="file-actions">
              <span class="show-file-notes">
                <label>
                  <input type="checkbox" checked="checked" class="js-toggle-file-notes">
                  Show notes
                </label>
              </span>

                <a href="/Tkkg1994/StockKernel/blob/cbf17b4b432bfe962ae330d9a86f8ded47d33b22/drivers/cpufreq/cpufreq_conservative_x.c" class="btn btn-sm tooltipped tooltipped-nw" rel="nofollow" aria-label="View the whole file at version cbf17b4 ">View</a>


          </div>
          <div class="file-info">
              <span class="diffstat tooltipped tooltipped-e" aria-label="503 additions &amp; 0 deletions">503 <span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span></span>

            <span class="user-select-contain" title="drivers/cpufreq/cpufreq_conservative_x.c">
              drivers/cpufreq/cpufreq_conservative_x.c
            </span>
            
          </div>
        </div>

            <div class="data highlight blob-wrapper">
              <table class="diff-table tab-size  " data-tab-size="8">
                
      <tr data-position="0">
    <td id="diff-27878bce581dda989cf8cf824d247a9cL-1" class="blob-num blob-num-hunk non-expandable" data-line-number="..."></td>
    <td id="diff-27878bce581dda989cf8cf824d247a9cR0" class="blob-num blob-num-hunk non-expandable" data-line-number="..."></td>
    <td class="blob-code blob-code-inner blob-code-hunk">@@ -0,0 +1,503 @@</td>
  </tr>

    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR1" data-line-number="1"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR2" data-line-number="2"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> *  drivers/cpufreq/cpufreq_conservative_x.c</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR3" data-line-number="3"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> *</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR4" data-line-number="4"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> *  Copyright (C)  2001 Russell King</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR5" data-line-number="5"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> *            (C)  2003 Venkatesh Pallipadi &lt;venkatesh.pallipadi@intel.com&gt;.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR6" data-line-number="6"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> *                      Jun Nakajima &lt;jun.nakajima@intel.com&gt;</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR7" data-line-number="7"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> *            (C)  2009 Alexander Clouter &lt;alex@digriz.org.uk&gt;</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR8" data-line-number="8"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> *</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR9" data-line-number="9"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * This program is free software; you can redistribute it and/or modify</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR10" data-line-number="10"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * it under the terms of the GNU General Public License version 2 as</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR11" data-line-number="11"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * published by the Free Software Foundation.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR12" data-line-number="12"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR13" data-line-number="13"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR14" data-line-number="14"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/slab.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR15" data-line-number="15"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&quot;</span>cpufreq_governor.h<span class="pl-pds">&quot;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR16" data-line-number="16"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/touchboost.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR17" data-line-number="17"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR18" data-line-number="18"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">/* Conservative governor macros */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR19" data-line-number="19"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">DEF_FREQUENCY_UP_THRESHOLD</span>		(<span class="pl-c1">95</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR20" data-line-number="20"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">DEF_FREQUENCY_DOWN_THRESHOLD</span>		(<span class="pl-c1">30</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR21" data-line-number="21"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">DEF_FREQUENCY_TWOSTEP_THRESHOLD</span>		(<span class="pl-c1">60</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR22" data-line-number="22"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">DEF_FREQUENCY_STEP</span>			(<span class="pl-c1">5</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR23" data-line-number="23"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">DEF_SAMPLING_DOWN_FACTOR</span>		(<span class="pl-c1">1</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR24" data-line-number="24"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">MAX_SAMPLING_DOWN_FACTOR</span>		(<span class="pl-c1">10</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR25" data-line-number="25"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">MICRO_FREQUENCY_MIN_SAMPLE_RATE</span>		(<span class="pl-c1">20000</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR26" data-line-number="26"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">BOOST_DURATION_US</span>			(<span class="pl-c1">40000</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR27" data-line-number="27"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">BOOST_FREQ_VAL</span>				(<span class="pl-c1">1497600</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR28" data-line-number="28"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">DEFAULT_MIN_LOAD</span>			(<span class="pl-c1">5</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR29" data-line-number="29"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR30" data-line-number="30"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-en">DEFINE_PER_CPU</span>(<span class="pl-k">struct</span> cs_cpu_dbs_info_s, cs_cpu_dbs_info);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR31" data-line-number="31"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR32" data-line-number="32"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">inline</span> <span class="pl-k">unsigned</span> <span class="pl-k">int</span> <span class="pl-en">get_freq_target</span>(<span class="pl-k">struct</span> cs_dbs_tuners *cs_tuners,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR33" data-line-number="33"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+					   <span class="pl-k">unsigned</span> <span class="pl-k">int</span> freq_mult)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR34" data-line-number="34"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR35" data-line-number="35"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> freq_target = (cs_tuners-&gt;freq_step * freq_mult) / <span class="pl-c1">100</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR36" data-line-number="36"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR37" data-line-number="37"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c">/* max freq cannot be less than 100. But who knows... */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR38" data-line-number="38"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (<span class="pl-c1">unlikely</span>(freq_target == <span class="pl-c1">0</span>))</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR39" data-line-number="39"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		freq_target = DEF_FREQUENCY_STEP;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR40" data-line-number="40"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR41" data-line-number="41"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> freq_target;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR42" data-line-number="42"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR43" data-line-number="43"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR44" data-line-number="44"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR45" data-line-number="45"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * Every sampling_rate, we check, if current idle time is less than 20%</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR46" data-line-number="46"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * (default), then we try to increase frequency. Every sampling_rate *</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR47" data-line-number="47"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * sampling_down_factor, we check, if current idle time is more than 80%</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR48" data-line-number="48"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * (default), then we try to decrease frequency</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR49" data-line-number="49"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> *</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR50" data-line-number="50"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * Any frequency increase takes it to the maximum frequency. Frequency reduction</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR51" data-line-number="51"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * happens at minimum steps of 5% (default) of maximum frequency</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR52" data-line-number="52"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR53" data-line-number="53"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">void</span> <span class="pl-en">cs_check_cpu</span>(<span class="pl-k">int</span> cpu, <span class="pl-k">unsigned</span> <span class="pl-k">int</span> load)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR54" data-line-number="54"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR55" data-line-number="55"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> cs_cpu_dbs_info_s *dbs_info = &amp;<span class="pl-c1">per_cpu</span>(cs_cpu_dbs_info, cpu);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR56" data-line-number="56"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> cpufreq_policy *policy = dbs_info-&gt;cdbs.<span class="pl-smi">cur_policy</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR57" data-line-number="57"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> dbs_data *dbs_data = policy-&gt;governor_data;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR58" data-line-number="58"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> cs_dbs_tuners *cs_tuners = dbs_data-&gt;tuners;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR59" data-line-number="59"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">bool</span> boosted;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR60" data-line-number="60"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	u64 now;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR61" data-line-number="61"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR62" data-line-number="62"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">cpufreq_notify_utilization</span>(policy, load);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR63" data-line-number="63"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR64" data-line-number="64"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR65" data-line-number="65"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 * break out if we &#39;cannot&#39; reduce the speed as the user might</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR66" data-line-number="66"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 * want freq_step to be zero</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR67" data-line-number="67"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR68" data-line-number="68"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (cs_tuners-&gt;freq_step == <span class="pl-c1">0</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR69" data-line-number="69"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR70" data-line-number="70"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR71" data-line-number="71"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	now = <span class="pl-c1">ktime_to_us</span>(<span class="pl-c1">ktime_get</span>());</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR72" data-line-number="72"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	boosted = now &lt; (<span class="pl-c1">get_input_time</span>() + cs_tuners-&gt;input_boost_duration);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR73" data-line-number="73"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR74" data-line-number="74"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c">/* Check for frequency increase */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR75" data-line-number="75"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (load &gt; DEF_FREQUENCY_TWOSTEP_THRESHOLD) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR76" data-line-number="76"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (load &gt;= cs_tuners-&gt;up_threshold)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR77" data-line-number="77"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			dbs_info-&gt;down_skip = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR78" data-line-number="78"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR79" data-line-number="79"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c">/* if we are already at full speed then break out early */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR80" data-line-number="80"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (policy-&gt;cur == policy-&gt;max)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR81" data-line-number="81"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">return</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR82" data-line-number="82"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR83" data-line-number="83"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (load &lt; cs_tuners-&gt;up_threshold &amp;&amp; dbs_info-&gt;twostep_counter++ &lt; <span class="pl-c1">2</span>) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR84" data-line-number="84"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			dbs_info-&gt;twostep_time = now;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR85" data-line-number="85"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			dbs_info-&gt;requested_freq += <span class="pl-c1">get_freq_target</span>(cs_tuners, policy-&gt;max &gt;&gt; <span class="pl-c1">1</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR86" data-line-number="86"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		} <span class="pl-k">else</span> {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR87" data-line-number="87"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">if</span> (load &gt;= cs_tuners-&gt;up_threshold)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR88" data-line-number="88"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				dbs_info-&gt;requested_freq += <span class="pl-c1">get_freq_target</span>(cs_tuners, policy-&gt;max);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR89" data-line-number="89"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR90" data-line-number="90"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			dbs_info-&gt;twostep_counter = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR91" data-line-number="91"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR92" data-line-number="92"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR93" data-line-number="93"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (dbs_info-&gt;requested_freq &gt; policy-&gt;max)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR94" data-line-number="94"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			dbs_info-&gt;requested_freq = policy-&gt;max;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR95" data-line-number="95"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR96" data-line-number="96"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (boosted)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR97" data-line-number="97"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+                        dbs_info-&gt;requested_freq</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR98" data-line-number="98"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+                                = <span class="pl-c1">max</span>(cs_tuners-&gt;input_boost_freq,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR99" data-line-number="99"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+                                        dbs_info-&gt;requested_freq);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR100" data-line-number="100"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR101" data-line-number="101"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">__cpufreq_driver_target</span>(policy, dbs_info-&gt;requested_freq,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR102" data-line-number="102"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			CPUFREQ_RELATION_H);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR103" data-line-number="103"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR104" data-line-number="104"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR105" data-line-number="105"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR106" data-line-number="106"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c">/* if sampling_down_factor is active break out early */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR107" data-line-number="107"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (++dbs_info-&gt;down_skip &lt; cs_tuners-&gt;sampling_down_factor)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR108" data-line-number="108"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR109" data-line-number="109"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	dbs_info-&gt;down_skip = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR110" data-line-number="110"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR111" data-line-number="111"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c">/* Check for frequency decrease */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR112" data-line-number="112"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (load &lt; cs_tuners-&gt;down_threshold) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR113" data-line-number="113"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">unsigned</span> <span class="pl-k">int</span> freq_target;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR114" data-line-number="114"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR115" data-line-number="115"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR116" data-line-number="116"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * we&#39;re scaling down, so reset the counter if</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR117" data-line-number="117"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * the conditions are met</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR118" data-line-number="118"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR119" data-line-number="119"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (dbs_info-&gt;twostep_counter) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR120" data-line-number="120"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c">/* 150ms*/</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR121" data-line-number="121"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">if</span> ((now - dbs_info-&gt;twostep_time) &gt;= <span class="pl-c1">150000</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR122" data-line-number="122"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+                		dbs_info-&gt;twostep_counter = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR123" data-line-number="123"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR124" data-line-number="124"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR125" data-line-number="125"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR126" data-line-number="126"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * if we cannot reduce the frequency anymore, break out early</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR127" data-line-number="127"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR128" data-line-number="128"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (policy-&gt;cur == policy-&gt;min)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR129" data-line-number="129"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">return</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR130" data-line-number="130"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR131" data-line-number="131"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (load &lt; DEFAULT_MIN_LOAD) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR132" data-line-number="132"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			dbs_info-&gt;requested_freq = policy-&gt;min;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR133" data-line-number="133"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">goto</span> scale_down;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR134" data-line-number="134"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR135" data-line-number="135"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR136" data-line-number="136"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		freq_target = <span class="pl-c1">get_freq_target</span>(cs_tuners, policy-&gt;max);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR137" data-line-number="137"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (dbs_info-&gt;requested_freq &gt; freq_target)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR138" data-line-number="138"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			dbs_info-&gt;requested_freq -= freq_target;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR139" data-line-number="139"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">else</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR140" data-line-number="140"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			dbs_info-&gt;requested_freq = policy-&gt;min;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR141" data-line-number="141"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR142" data-line-number="142"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+scale_down:</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR143" data-line-number="143"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR144" data-line-number="144"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (boosted)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR145" data-line-number="145"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+                        dbs_info-&gt;requested_freq</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR146" data-line-number="146"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				= <span class="pl-c1">max</span>(cs_tuners-&gt;input_boost_freq,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR147" data-line-number="147"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+					dbs_info-&gt;requested_freq);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR148" data-line-number="148"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR149" data-line-number="149"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">__cpufreq_driver_target</span>(policy, dbs_info-&gt;requested_freq,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR150" data-line-number="150"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				CPUFREQ_RELATION_L);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR151" data-line-number="151"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR152" data-line-number="152"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR153" data-line-number="153"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR154" data-line-number="154"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR155" data-line-number="155"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">void</span> <span class="pl-en">cs_dbs_timer</span>(<span class="pl-k">struct</span> work_struct *work)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR156" data-line-number="156"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR157" data-line-number="157"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> cs_cpu_dbs_info_s *dbs_info = <span class="pl-c1">container_of</span>(work,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR158" data-line-number="158"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">struct</span> cs_cpu_dbs_info_s, cdbs.<span class="pl-smi">work</span>.<span class="pl-smi">work</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR159" data-line-number="159"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> cpu = dbs_info-&gt;cdbs.<span class="pl-smi">cur_policy</span>-&gt;cpu;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR160" data-line-number="160"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> cs_cpu_dbs_info_s *core_dbs_info = &amp;<span class="pl-c1">per_cpu</span>(cs_cpu_dbs_info,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR161" data-line-number="161"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			cpu);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR162" data-line-number="162"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> dbs_data *dbs_data = dbs_info-&gt;cdbs.<span class="pl-smi">cur_policy</span>-&gt;governor_data;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR163" data-line-number="163"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> cs_dbs_tuners *cs_tuners = dbs_data-&gt;tuners;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR164" data-line-number="164"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> delay = <span class="pl-c1">delay_for_sampling_rate</span>(cs_tuners-&gt;sampling_rate);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR165" data-line-number="165"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">bool</span> modify_all = <span class="pl-c1">true</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR166" data-line-number="166"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR167" data-line-number="167"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">mutex_lock</span>(&amp;core_dbs_info-&gt;cdbs.<span class="pl-smi">timer_mutex</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR168" data-line-number="168"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (!<span class="pl-c1">need_load_eval</span>(&amp;core_dbs_info-&gt;cdbs, cs_tuners-&gt;sampling_rate))</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR169" data-line-number="169"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		modify_all = <span class="pl-c1">false</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR170" data-line-number="170"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">else</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR171" data-line-number="171"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">dbs_check_cpu</span>(dbs_data, cpu);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR172" data-line-number="172"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR173" data-line-number="173"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">gov_queue_work</span>(dbs_data, dbs_info-&gt;cdbs.<span class="pl-smi">cur_policy</span>, delay, modify_all);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR174" data-line-number="174"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">mutex_unlock</span>(&amp;core_dbs_info-&gt;cdbs.<span class="pl-smi">timer_mutex</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR175" data-line-number="175"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR176" data-line-number="176"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR177" data-line-number="177"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">int</span> <span class="pl-en">dbs_cpufreq_notifier</span>(<span class="pl-k">struct</span> notifier_block *nb, <span class="pl-k">unsigned</span> <span class="pl-k">long</span> val,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR178" data-line-number="178"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">void</span> *data)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR179" data-line-number="179"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR180" data-line-number="180"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> cpufreq_freqs *freq = data;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR181" data-line-number="181"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> cs_cpu_dbs_info_s *dbs_info =</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR182" data-line-number="182"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+					&amp;<span class="pl-c1">per_cpu</span>(cs_cpu_dbs_info, freq-&gt;cpu);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR183" data-line-number="183"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> cpufreq_policy *policy;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR184" data-line-number="184"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR185" data-line-number="185"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (!dbs_info-&gt;enable)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR186" data-line-number="186"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR187" data-line-number="187"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR188" data-line-number="188"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	policy = dbs_info-&gt;cdbs.<span class="pl-smi">cur_policy</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR189" data-line-number="189"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR190" data-line-number="190"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR191" data-line-number="191"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 * we only care if our internally tracked freq moves outside the &#39;valid&#39;</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR192" data-line-number="192"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 * ranges of frequency available to us otherwise we do not change it</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR193" data-line-number="193"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	*/</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR194" data-line-number="194"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (dbs_info-&gt;requested_freq &gt; policy-&gt;max</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR195" data-line-number="195"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			|| dbs_info-&gt;requested_freq &lt; policy-&gt;min)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR196" data-line-number="196"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		dbs_info-&gt;requested_freq = freq-&gt;new;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR197" data-line-number="197"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR198" data-line-number="198"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR199" data-line-number="199"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR200" data-line-number="200"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR201" data-line-number="201"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">/************************** sysfs interface ************************/</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR202" data-line-number="202"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">struct</span> common_dbs_data cs_dbs_cdata;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR203" data-line-number="203"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR204" data-line-number="204"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">store_sampling_down_factor</span>(<span class="pl-k">struct</span> dbs_data *dbs_data,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR205" data-line-number="205"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">const</span> <span class="pl-k">char</span> *buf, <span class="pl-c1">size_t</span> count)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR206" data-line-number="206"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR207" data-line-number="207"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> cs_dbs_tuners *cs_tuners = dbs_data-&gt;tuners;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR208" data-line-number="208"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR209" data-line-number="209"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR210" data-line-number="210"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	ret = <span class="pl-c1">sscanf</span>(buf, <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%u</span><span class="pl-pds">&quot;</span></span>, &amp;input);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR211" data-line-number="211"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR212" data-line-number="212"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (ret != <span class="pl-c1">1</span> || input &gt; MAX_SAMPLING_DOWN_FACTOR || input &lt; <span class="pl-c1">1</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR213" data-line-number="213"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> -EINVAL;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR214" data-line-number="214"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR215" data-line-number="215"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	cs_tuners-&gt;sampling_down_factor = input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR216" data-line-number="216"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> count;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR217" data-line-number="217"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR218" data-line-number="218"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR219" data-line-number="219"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">store_sampling_rate</span>(<span class="pl-k">struct</span> dbs_data *dbs_data, <span class="pl-k">const</span> <span class="pl-k">char</span> *buf,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR220" data-line-number="220"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">size_t</span> count)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR221" data-line-number="221"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR222" data-line-number="222"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> cs_dbs_tuners *cs_tuners = dbs_data-&gt;tuners;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR223" data-line-number="223"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR224" data-line-number="224"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR225" data-line-number="225"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	ret = <span class="pl-c1">sscanf</span>(buf, <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%u</span><span class="pl-pds">&quot;</span></span>, &amp;input);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR226" data-line-number="226"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR227" data-line-number="227"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (ret != <span class="pl-c1">1</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR228" data-line-number="228"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> -EINVAL;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR229" data-line-number="229"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR230" data-line-number="230"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	cs_tuners-&gt;sampling_rate = <span class="pl-c1">max</span>(input, dbs_data-&gt;min_sampling_rate);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR231" data-line-number="231"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> count;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR232" data-line-number="232"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR233" data-line-number="233"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR234" data-line-number="234"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">store_up_threshold</span>(<span class="pl-k">struct</span> dbs_data *dbs_data, <span class="pl-k">const</span> <span class="pl-k">char</span> *buf,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR235" data-line-number="235"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">size_t</span> count)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR236" data-line-number="236"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR237" data-line-number="237"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> cs_dbs_tuners *cs_tuners = dbs_data-&gt;tuners;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR238" data-line-number="238"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR239" data-line-number="239"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR240" data-line-number="240"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	ret = <span class="pl-c1">sscanf</span>(buf, <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%u</span><span class="pl-pds">&quot;</span></span>, &amp;input);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR241" data-line-number="241"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR242" data-line-number="242"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (ret != <span class="pl-c1">1</span> || input &gt; <span class="pl-c1">100</span> || input &lt;= cs_tuners-&gt;down_threshold)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR243" data-line-number="243"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> -EINVAL;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR244" data-line-number="244"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR245" data-line-number="245"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	cs_tuners-&gt;up_threshold = input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR246" data-line-number="246"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> count;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR247" data-line-number="247"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR248" data-line-number="248"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR249" data-line-number="249"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">store_down_threshold</span>(<span class="pl-k">struct</span> dbs_data *dbs_data, <span class="pl-k">const</span> <span class="pl-k">char</span> *buf,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR250" data-line-number="250"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">size_t</span> count)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR251" data-line-number="251"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR252" data-line-number="252"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> cs_dbs_tuners *cs_tuners = dbs_data-&gt;tuners;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR253" data-line-number="253"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR254" data-line-number="254"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR255" data-line-number="255"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	ret = <span class="pl-c1">sscanf</span>(buf, <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%u</span><span class="pl-pds">&quot;</span></span>, &amp;input);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR256" data-line-number="256"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR257" data-line-number="257"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c">/* cannot be lower than 11 otherwise freq will not fall */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR258" data-line-number="258"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (ret != <span class="pl-c1">1</span> || input &lt; <span class="pl-c1">11</span> || input &gt; <span class="pl-c1">100</span> ||</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR259" data-line-number="259"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			input &gt;= cs_tuners-&gt;up_threshold)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR260" data-line-number="260"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> -EINVAL;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR261" data-line-number="261"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR262" data-line-number="262"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	cs_tuners-&gt;down_threshold = input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR263" data-line-number="263"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> count;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR264" data-line-number="264"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR265" data-line-number="265"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR266" data-line-number="266"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">store_ignore_nice_load</span>(<span class="pl-k">struct</span> dbs_data *dbs_data,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR267" data-line-number="267"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">const</span> <span class="pl-k">char</span> *buf, <span class="pl-c1">size_t</span> count)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR268" data-line-number="268"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR269" data-line-number="269"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> cs_dbs_tuners *cs_tuners = dbs_data-&gt;tuners;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR270" data-line-number="270"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> input, j;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR271" data-line-number="271"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR272" data-line-number="272"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR273" data-line-number="273"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	ret = <span class="pl-c1">sscanf</span>(buf, <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%u</span><span class="pl-pds">&quot;</span></span>, &amp;input);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR274" data-line-number="274"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (ret != <span class="pl-c1">1</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR275" data-line-number="275"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> -EINVAL;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR276" data-line-number="276"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR277" data-line-number="277"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (input &gt; <span class="pl-c1">1</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR278" data-line-number="278"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		input = <span class="pl-c1">1</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR279" data-line-number="279"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR280" data-line-number="280"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (input == cs_tuners-&gt;ignore_nice_load) <span class="pl-c">/* nothing to do */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR281" data-line-number="281"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> count;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR282" data-line-number="282"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR283" data-line-number="283"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	cs_tuners-&gt;ignore_nice_load = input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR284" data-line-number="284"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR285" data-line-number="285"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c">/* we need to re-evaluate prev_cpu_idle */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR286" data-line-number="286"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">for_each_online_cpu</span>(j) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR287" data-line-number="287"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">struct</span> cs_cpu_dbs_info_s *dbs_info;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR288" data-line-number="288"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		dbs_info = &amp;<span class="pl-c1">per_cpu</span>(cs_cpu_dbs_info, j);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR289" data-line-number="289"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		dbs_info-&gt;cdbs.<span class="pl-smi">prev_cpu_idle</span> = <span class="pl-c1">get_cpu_idle_time</span>(j,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR290" data-line-number="290"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+					&amp;dbs_info-&gt;cdbs.<span class="pl-smi">prev_cpu_wall</span>, <span class="pl-c1">0</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR291" data-line-number="291"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (cs_tuners-&gt;ignore_nice_load)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR292" data-line-number="292"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			dbs_info-&gt;cdbs.<span class="pl-smi">prev_cpu_nice</span> =</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR293" data-line-number="293"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				<span class="pl-c1">kcpustat_cpu</span>(j).<span class="pl-smi">cpustat</span>[CPUTIME_NICE];</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR294" data-line-number="294"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR295" data-line-number="295"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> count;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR296" data-line-number="296"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR297" data-line-number="297"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR298" data-line-number="298"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">store_freq_step</span>(<span class="pl-k">struct</span> dbs_data *dbs_data, <span class="pl-k">const</span> <span class="pl-k">char</span> *buf,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR299" data-line-number="299"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">size_t</span> count)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR300" data-line-number="300"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR301" data-line-number="301"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> cs_dbs_tuners *cs_tuners = dbs_data-&gt;tuners;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR302" data-line-number="302"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR303" data-line-number="303"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR304" data-line-number="304"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	ret = <span class="pl-c1">sscanf</span>(buf, <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%u</span><span class="pl-pds">&quot;</span></span>, &amp;input);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR305" data-line-number="305"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR306" data-line-number="306"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (ret != <span class="pl-c1">1</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR307" data-line-number="307"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> -EINVAL;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR308" data-line-number="308"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR309" data-line-number="309"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (input &gt; <span class="pl-c1">100</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR310" data-line-number="310"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		input = <span class="pl-c1">100</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR311" data-line-number="311"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR312" data-line-number="312"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR313" data-line-number="313"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 * no need to test here if freq_step is zero as the user might actually</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR314" data-line-number="314"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 * want this, they would be crazy though :)</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR315" data-line-number="315"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR316" data-line-number="316"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	cs_tuners-&gt;freq_step = input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR317" data-line-number="317"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> count;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR318" data-line-number="318"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR319" data-line-number="319"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR320" data-line-number="320"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">store_input_boost_freq</span>(<span class="pl-k">struct</span> dbs_data *dbs_data, <span class="pl-k">const</span> <span class="pl-k">char</span> *buf,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR321" data-line-number="321"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+                <span class="pl-c1">size_t</span> count)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR322" data-line-number="322"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR323" data-line-number="323"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+        <span class="pl-k">struct</span> cs_dbs_tuners *cs_tuners = dbs_data-&gt;tuners;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR324" data-line-number="324"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+        <span class="pl-k">unsigned</span> <span class="pl-k">int</span> input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR325" data-line-number="325"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+        <span class="pl-k">int</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR326" data-line-number="326"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+        ret = <span class="pl-c1">sscanf</span>(buf, <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%u</span><span class="pl-pds">&quot;</span></span>, &amp;input);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR327" data-line-number="327"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR328" data-line-number="328"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+        <span class="pl-k">if</span> (ret != <span class="pl-c1">1</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR329" data-line-number="329"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+                <span class="pl-k">return</span> -EINVAL;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR330" data-line-number="330"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR331" data-line-number="331"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+        <span class="pl-k">if</span> (input &lt; <span class="pl-c1">0</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR332" data-line-number="332"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+                input = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR333" data-line-number="333"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR334" data-line-number="334"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+        cs_tuners-&gt;input_boost_freq = input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR335" data-line-number="335"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+        <span class="pl-k">return</span> count;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR336" data-line-number="336"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR337" data-line-number="337"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR338" data-line-number="338"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">store_input_boost_duration</span>(<span class="pl-k">struct</span> dbs_data *dbs_data, <span class="pl-k">const</span> <span class="pl-k">char</span> *buf,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR339" data-line-number="339"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+                <span class="pl-c1">size_t</span> count)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR340" data-line-number="340"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR341" data-line-number="341"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+        <span class="pl-k">struct</span> cs_dbs_tuners *cs_tuners = dbs_data-&gt;tuners;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR342" data-line-number="342"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+        <span class="pl-k">unsigned</span> <span class="pl-k">int</span> input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR343" data-line-number="343"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+        <span class="pl-k">int</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR344" data-line-number="344"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+        ret = <span class="pl-c1">sscanf</span>(buf, <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%u</span><span class="pl-pds">&quot;</span></span>, &amp;input);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR345" data-line-number="345"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR346" data-line-number="346"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+        <span class="pl-k">if</span> (ret != <span class="pl-c1">1</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR347" data-line-number="347"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+                <span class="pl-k">return</span> -EINVAL;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR348" data-line-number="348"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR349" data-line-number="349"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+        <span class="pl-k">if</span> (input &lt; <span class="pl-c1">0</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR350" data-line-number="350"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+                input = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR351" data-line-number="351"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR352" data-line-number="352"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+        cs_tuners-&gt;input_boost_duration = input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR353" data-line-number="353"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+        <span class="pl-k">return</span> count;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR354" data-line-number="354"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR355" data-line-number="355"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR356" data-line-number="356"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">show_store_one</span>(cs, sampling_rate);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR357" data-line-number="357"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">show_store_one</span>(cs, sampling_down_factor);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR358" data-line-number="358"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">show_store_one</span>(cs, up_threshold);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR359" data-line-number="359"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">show_store_one</span>(cs, down_threshold);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR360" data-line-number="360"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">show_store_one</span>(cs, ignore_nice_load);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR361" data-line-number="361"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">show_store_one</span>(cs, freq_step);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR362" data-line-number="362"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">declare_show_sampling_rate_min</span>(cs);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR363" data-line-number="363"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">show_store_one</span>(cs, input_boost_freq);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR364" data-line-number="364"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">show_store_one</span>(cs, input_boost_duration);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR365" data-line-number="365"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR366" data-line-number="366"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">gov_sys_pol_attr_rw</span>(sampling_rate);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR367" data-line-number="367"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">gov_sys_pol_attr_rw</span>(sampling_down_factor);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR368" data-line-number="368"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">gov_sys_pol_attr_rw</span>(up_threshold);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR369" data-line-number="369"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">gov_sys_pol_attr_rw</span>(down_threshold);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR370" data-line-number="370"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">gov_sys_pol_attr_rw</span>(ignore_nice_load);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR371" data-line-number="371"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">gov_sys_pol_attr_rw</span>(freq_step);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR372" data-line-number="372"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">gov_sys_pol_attr_ro</span>(sampling_rate_min);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR373" data-line-number="373"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">gov_sys_pol_attr_rw</span>(input_boost_freq);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR374" data-line-number="374"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">gov_sys_pol_attr_rw</span>(input_boost_duration);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR375" data-line-number="375"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR376" data-line-number="376"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">struct</span> attribute *dbs_attributes_gov_sys[] = {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR377" data-line-number="377"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;sampling_rate_min_gov_sys.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR378" data-line-number="378"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;sampling_rate_gov_sys.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR379" data-line-number="379"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;sampling_down_factor_gov_sys.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR380" data-line-number="380"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;up_threshold_gov_sys.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR381" data-line-number="381"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;down_threshold_gov_sys.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR382" data-line-number="382"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;ignore_nice_load_gov_sys.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR383" data-line-number="383"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;freq_step_gov_sys.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR384" data-line-number="384"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;input_boost_freq_gov_sys.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR385" data-line-number="385"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;input_boost_duration_gov_sys.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR386" data-line-number="386"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">NULL</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR387" data-line-number="387"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+};</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR388" data-line-number="388"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR389" data-line-number="389"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">struct</span> attribute_group cs_attr_group_gov_sys = {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR390" data-line-number="390"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">attrs</span> = dbs_attributes_gov_sys,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR391" data-line-number="391"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">name</span> = <span class="pl-s"><span class="pl-pds">&quot;</span>conservative_x<span class="pl-pds">&quot;</span></span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR392" data-line-number="392"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+};</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR393" data-line-number="393"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR394" data-line-number="394"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">struct</span> attribute *dbs_attributes_gov_pol[] = {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR395" data-line-number="395"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;sampling_rate_min_gov_pol.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR396" data-line-number="396"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;sampling_rate_gov_pol.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR397" data-line-number="397"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;sampling_down_factor_gov_pol.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR398" data-line-number="398"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;up_threshold_gov_pol.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR399" data-line-number="399"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;down_threshold_gov_pol.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR400" data-line-number="400"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;ignore_nice_load_gov_pol.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR401" data-line-number="401"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;freq_step_gov_pol.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR402" data-line-number="402"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;input_boost_freq_gov_pol.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR403" data-line-number="403"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;input_boost_duration_gov_pol.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR404" data-line-number="404"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">NULL</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR405" data-line-number="405"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+};</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR406" data-line-number="406"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR407" data-line-number="407"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">struct</span> attribute_group cs_attr_group_gov_pol = {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR408" data-line-number="408"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">attrs</span> = dbs_attributes_gov_pol,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR409" data-line-number="409"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">name</span> = <span class="pl-s"><span class="pl-pds">&quot;</span>conservative_x<span class="pl-pds">&quot;</span></span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR410" data-line-number="410"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+};</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR411" data-line-number="411"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR412" data-line-number="412"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">/************************** sysfs end ************************/</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR413" data-line-number="413"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR414" data-line-number="414"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">int</span> <span class="pl-en">cs_init</span>(<span class="pl-k">struct</span> dbs_data *dbs_data)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR415" data-line-number="415"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR416" data-line-number="416"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> cs_dbs_tuners *tuners;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR417" data-line-number="417"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR418" data-line-number="418"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	tuners = <span class="pl-c1">kzalloc</span>(<span class="pl-k">sizeof</span>(*tuners), GFP_KERNEL);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR419" data-line-number="419"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (!tuners) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR420" data-line-number="420"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">pr_err</span>(<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%s</span>: kzalloc failed<span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>, __func__);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR421" data-line-number="421"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> -ENOMEM;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR422" data-line-number="422"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR423" data-line-number="423"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR424" data-line-number="424"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	tuners-&gt;up_threshold = DEF_FREQUENCY_UP_THRESHOLD;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR425" data-line-number="425"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	tuners-&gt;down_threshold = DEF_FREQUENCY_DOWN_THRESHOLD;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR426" data-line-number="426"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	tuners-&gt;sampling_down_factor = DEF_SAMPLING_DOWN_FACTOR;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR427" data-line-number="427"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	tuners-&gt;ignore_nice_load = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR428" data-line-number="428"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	tuners-&gt;freq_step = DEF_FREQUENCY_STEP;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR429" data-line-number="429"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	tuners-&gt;input_boost_freq = BOOST_FREQ_VAL;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR430" data-line-number="430"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+        tuners-&gt;input_boost_duration = BOOST_DURATION_US;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR431" data-line-number="431"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR432" data-line-number="432"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	dbs_data-&gt;tuners = tuners;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR433" data-line-number="433"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	dbs_data-&gt;min_sampling_rate = MICRO_FREQUENCY_MIN_SAMPLE_RATE;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR434" data-line-number="434"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">mutex_init</span>(&amp;dbs_data-&gt;mutex);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR435" data-line-number="435"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR436" data-line-number="436"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR437" data-line-number="437"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR438" data-line-number="438"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">void</span> <span class="pl-en">cs_exit</span>(<span class="pl-k">struct</span> dbs_data *dbs_data)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR439" data-line-number="439"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR440" data-line-number="440"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">kfree</span>(dbs_data-&gt;tuners);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR441" data-line-number="441"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR442" data-line-number="442"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR443" data-line-number="443"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">define_get_cpu_dbs_routines</span>(cs_cpu_dbs_info);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR444" data-line-number="444"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR445" data-line-number="445"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">struct</span> notifier_block cs_cpufreq_notifier_block = {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR446" data-line-number="446"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">notifier_call</span> = dbs_cpufreq_notifier,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR447" data-line-number="447"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+};</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR448" data-line-number="448"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR449" data-line-number="449"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">struct</span> cs_ops cs_ops = {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR450" data-line-number="450"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">notifier_block</span> = &amp;cs_cpufreq_notifier_block,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR451" data-line-number="451"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+};</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR452" data-line-number="452"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR453" data-line-number="453"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">struct</span> common_dbs_data cs_dbs_cdata = {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR454" data-line-number="454"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">governor</span> = GOV_CONSERVATIVE_X,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR455" data-line-number="455"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">attr_group_gov_sys</span> = &amp;cs_attr_group_gov_sys,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR456" data-line-number="456"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">attr_group_gov_pol</span> = &amp;cs_attr_group_gov_pol,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR457" data-line-number="457"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">get_cpu_cdbs</span> = get_cpu_cdbs,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR458" data-line-number="458"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">get_cpu_dbs_info_s</span> = get_cpu_dbs_info_s,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR459" data-line-number="459"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">gov_dbs_timer</span> = cs_dbs_timer,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR460" data-line-number="460"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">gov_check_cpu</span> = cs_check_cpu,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR461" data-line-number="461"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">gov_ops</span> = &amp;cs_ops,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR462" data-line-number="462"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">init</span> = cs_init,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR463" data-line-number="463"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">exit</span> = cs_exit,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR464" data-line-number="464"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+};</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR465" data-line-number="465"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR466" data-line-number="466"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">int</span> <span class="pl-en">cs_cpufreq_governor_dbs</span>(<span class="pl-k">struct</span> cpufreq_policy *policy,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR467" data-line-number="467"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				   <span class="pl-k">unsigned</span> <span class="pl-k">int</span> event)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR468" data-line-number="468"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR469" data-line-number="469"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> <span class="pl-c1">cpufreq_governor_dbs</span>(policy, &amp;cs_dbs_cdata, event);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR470" data-line-number="470"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR471" data-line-number="471"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR472" data-line-number="472"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">ifndef</span> CONFIG_CPU_FREQ_DEFAULT_GOV_CONSERVATIVE_X</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR473" data-line-number="473"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR474" data-line-number="474"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">endif</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR475" data-line-number="475"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">struct</span> cpufreq_governor cpufreq_gov_conservative_x = {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR476" data-line-number="476"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">name</span>			= <span class="pl-s"><span class="pl-pds">&quot;</span>conservative_x<span class="pl-pds">&quot;</span></span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR477" data-line-number="477"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">governor</span>		= cs_cpufreq_governor_dbs,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR478" data-line-number="478"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">max_transition_latency</span>	= TRANSITION_LATENCY_LIMIT,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR479" data-line-number="479"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">owner</span>			= THIS_MODULE,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR480" data-line-number="480"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+};</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR481" data-line-number="481"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR482" data-line-number="482"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">int</span> __init <span class="pl-en">cpufreq_gov_dbs_init</span>(<span class="pl-k">void</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR483" data-line-number="483"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR484" data-line-number="484"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> <span class="pl-c1">cpufreq_register_governor</span>(&amp;cpufreq_gov_conservative_x);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR485" data-line-number="485"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR486" data-line-number="486"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR487" data-line-number="487"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">void</span> __exit <span class="pl-en">cpufreq_gov_dbs_exit</span>(<span class="pl-k">void</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR488" data-line-number="488"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR489" data-line-number="489"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">cpufreq_unregister_governor</span>(&amp;cpufreq_gov_conservative_x);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR490" data-line-number="490"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR491" data-line-number="491"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR492" data-line-number="492"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">MODULE_AUTHOR</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>Alexander Clouter &lt;alex@digriz.org.uk&gt;<span class="pl-pds">&quot;</span></span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR493" data-line-number="493"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">MODULE_DESCRIPTION</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>&#39;cpufreq_conservative_x&#39; - A dynamic cpufreq governor for <span class="pl-pds">&quot;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR494" data-line-number="494"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-s"><span class="pl-pds">&quot;</span>Low Latency Frequency Transition capable processors <span class="pl-pds">&quot;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR495" data-line-number="495"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-s"><span class="pl-pds">&quot;</span>optimised for use in a battery environment<span class="pl-pds">&quot;</span></span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR496" data-line-number="496"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">MODULE_LICENSE</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>GPL<span class="pl-pds">&quot;</span></span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR497" data-line-number="497"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR498" data-line-number="498"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">ifdef</span> CONFIG_CPU_FREQ_DEFAULT_GOV_CONSERVATIVE_X</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR499" data-line-number="499"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">fs_initcall</span>(cpufreq_gov_dbs_init);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR500" data-line-number="500"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">else</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR501" data-line-number="501"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">module_init</span>(cpufreq_gov_dbs_init);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR502" data-line-number="502"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">endif</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-27878bce581dda989cf8cf824d247a9cR503" data-line-number="503"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">module_exit</span>(cpufreq_gov_dbs_exit);</span>

  </td>
</tr>



              </table>
            </div>
      </div>

      <a name="diff-aa09ee7187c7aa142ca66d78f75a3a71"></a>
      <div id="diff-12"
           class="file js-details-container
                   
                   
                   
                   
                   show-inline-notes
                 ">
        <div class="file-header" data-path="drivers/cpufreq/cpufreq_darkness.c">
          <div class="file-actions">
              <span class="show-file-notes">
                <label>
                  <input type="checkbox" checked="checked" class="js-toggle-file-notes">
                  Show notes
                </label>
              </span>

                <a href="/Tkkg1994/StockKernel/blob/cbf17b4b432bfe962ae330d9a86f8ded47d33b22/drivers/cpufreq/cpufreq_darkness.c" class="btn btn-sm tooltipped tooltipped-nw" rel="nofollow" aria-label="View the whole file at version cbf17b4 ">View</a>


          </div>
          <div class="file-info">
              <span class="diffstat tooltipped tooltipped-e" aria-label="417 additions &amp; 0 deletions">417 <span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span></span>

            <span class="user-select-contain" title="drivers/cpufreq/cpufreq_darkness.c">
              drivers/cpufreq/cpufreq_darkness.c
            </span>
            
          </div>
        </div>

            <div class="data highlight blob-wrapper">
              <table class="diff-table tab-size  " data-tab-size="8">
                
      <tr data-position="0">
    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71L-1" class="blob-num blob-num-hunk non-expandable" data-line-number="..."></td>
    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R0" class="blob-num blob-num-hunk non-expandable" data-line-number="..."></td>
    <td class="blob-code blob-code-inner blob-code-hunk">@@ -0,0 +1,417 @@</td>
  </tr>

    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R1" data-line-number="1"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R2" data-line-number="2"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> *  drivers/cpufreq/cpufreq_darkness.c</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R3" data-line-number="3"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> *</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R4" data-line-number="4"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> *  Copyright (C)  2011 Samsung Electronics co. ltd</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R5" data-line-number="5"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> *    ByungChang Cha &lt;bc.cha@samsung.com&gt;</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R6" data-line-number="6"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> *</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R7" data-line-number="7"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> *  Based on ondemand governor</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R8" data-line-number="8"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> *  Copyright (C)  2001 Russell King</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R9" data-line-number="9"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> *            (C)  2003 Venkatesh Pallipadi &lt;venkatesh.pallipadi@intel.com&gt;.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R10" data-line-number="10"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> *                      Jun Nakajima &lt;jun.nakajima@intel.com&gt;</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R11" data-line-number="11"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> *</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R12" data-line-number="12"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * This program is free software; you can redistribute it and/or modify</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R13" data-line-number="13"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * it under the terms of the GNU General Public License version 2 as</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R14" data-line-number="14"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * published by the Free Software Foundation.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R15" data-line-number="15"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> *</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R16" data-line-number="16"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * Created by Alucard_24@xda</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R17" data-line-number="17"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R18" data-line-number="18"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R19" data-line-number="19"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/kernel.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R20" data-line-number="20"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/module.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R21" data-line-number="21"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/init.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R22" data-line-number="22"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/cpufreq.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R23" data-line-number="23"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/cpu.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R24" data-line-number="24"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/jiffies.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R25" data-line-number="25"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/kernel_stat.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R26" data-line-number="26"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/mutex.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R27" data-line-number="27"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/hrtimer.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R28" data-line-number="28"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/tick.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R29" data-line-number="29"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/ktime.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R30" data-line-number="30"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/sched.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R31" data-line-number="31"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/slab.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R32" data-line-number="32"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R33" data-line-number="33"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">MIN_SAMPLING_RATE</span>	<span class="pl-c1">10000</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R34" data-line-number="34"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R35" data-line-number="35"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R36" data-line-number="36"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * dbs is used in this file as a shortform for demandbased switching</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R37" data-line-number="37"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * It helps to keep variable names smaller, simpler</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R38" data-line-number="38"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R39" data-line-number="39"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R40" data-line-number="40"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">void</span> <span class="pl-en">do_darkness_timer</span>(<span class="pl-k">struct</span> work_struct *work);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R41" data-line-number="41"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R42" data-line-number="42"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">struct</span> cpufreq_darkness_cpuinfo {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R43" data-line-number="43"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	u64 prev_cpu_wall;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R44" data-line-number="44"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	u64 prev_cpu_idle;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R45" data-line-number="45"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> cpufreq_frequency_table *freq_table;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R46" data-line-number="46"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> delayed_work work;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R47" data-line-number="47"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> cpufreq_policy *cur_policy;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R48" data-line-number="48"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">bool</span> governor_enabled;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R49" data-line-number="49"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> cpu;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R50" data-line-number="50"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> prev_load;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R51" data-line-number="51"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R52" data-line-number="52"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 * percpu mutex that serializes governor limit change with</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R53" data-line-number="53"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 * do_dbs_timer invocation. We do not want do_dbs_timer to run</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R54" data-line-number="54"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 * when user is changing the governor or limits.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R55" data-line-number="55"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R56" data-line-number="56"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> mutex timer_mutex;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R57" data-line-number="57"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+};</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R58" data-line-number="58"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R59" data-line-number="59"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * mutex that serializes governor limit change with</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R60" data-line-number="60"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * do_darkness_timer invocation. We do not want do_darkness_timer to run</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R61" data-line-number="61"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * when user is changing the governor or limits.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R62" data-line-number="62"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R63" data-line-number="63"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-en">DEFINE_PER_CPU</span>(<span class="pl-k">struct</span> cpufreq_darkness_cpuinfo, od_darkness_cpuinfo);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R64" data-line-number="64"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R65" data-line-number="65"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">unsigned</span> <span class="pl-k">int</span> darkness_enable;	<span class="pl-c">/* number of CPUs using this policy */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R66" data-line-number="66"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R67" data-line-number="67"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * darkness_mutex protects darkness_enable in governor start/stop.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R68" data-line-number="68"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R69" data-line-number="69"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-en">DEFINE_MUTEX</span>(darkness_mutex);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R70" data-line-number="70"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R71" data-line-number="71"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">struct</span> workqueue_struct *darkness_wq;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R72" data-line-number="72"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R73" data-line-number="73"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">/* darkness tuners */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R74" data-line-number="74"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">struct</span> darkness_tuners {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R75" data-line-number="75"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> sampling_rate;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R76" data-line-number="76"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+} darkness_tuners_ins = {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R77" data-line-number="77"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">sampling_rate</span> = <span class="pl-c1">60000</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R78" data-line-number="78"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+};</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R79" data-line-number="79"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R80" data-line-number="80"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">/************************** sysfs interface ************************/</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R81" data-line-number="81"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R82" data-line-number="82"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">/* cpufreq_darkness Governor Tunables */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R83" data-line-number="83"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">show_one</span>(<span class="pl-v">file_name, object</span>)					\</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R84" data-line-number="84"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> show_##file_name						\</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R85" data-line-number="85"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+(<span class="pl-k">struct</span> kobject *kobj, <span class="pl-k">struct</span> attribute *attr, <span class="pl-k">char</span> *buf)		\</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R86" data-line-number="86"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{									\</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R87" data-line-number="87"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> <span class="pl-c1">sprintf</span>(buf, <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%d</span><span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>, darkness_tuners_ins.<span class="pl-smi">object</span>);		\</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R88" data-line-number="88"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R89" data-line-number="89"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">show_one</span>(sampling_rate, sampling_rate);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R90" data-line-number="90"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R91" data-line-number="91"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">/* sampling_rate */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R92" data-line-number="92"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">store_sampling_rate</span>(<span class="pl-k">struct</span> kobject *a, <span class="pl-k">struct</span> attribute *b,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R93" data-line-number="93"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				   <span class="pl-k">const</span> <span class="pl-k">char</span> *buf, <span class="pl-c1">size_t</span> count)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R94" data-line-number="94"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R95" data-line-number="95"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R96" data-line-number="96"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> ret = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R97" data-line-number="97"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> mpd = <span class="pl-c1">strcmp</span>(current-&gt;comm, <span class="pl-s"><span class="pl-pds">&quot;</span>mpdecision<span class="pl-pds">&quot;</span></span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R98" data-line-number="98"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R99" data-line-number="99"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (mpd == <span class="pl-c1">0</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R100" data-line-number="100"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R101" data-line-number="101"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R102" data-line-number="102"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	ret = <span class="pl-c1">sscanf</span>(buf, <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%u</span><span class="pl-pds">&quot;</span></span>, &amp;input);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R103" data-line-number="103"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (ret != <span class="pl-c1">1</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R104" data-line-number="104"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> -EINVAL;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R105" data-line-number="105"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R106" data-line-number="106"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	input = <span class="pl-c1">max</span>(input,<span class="pl-c1">10000</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R107" data-line-number="107"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R108" data-line-number="108"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (input == darkness_tuners_ins.<span class="pl-smi">sampling_rate</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R109" data-line-number="109"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> count;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R110" data-line-number="110"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R111" data-line-number="111"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	darkness_tuners_ins.<span class="pl-smi">sampling_rate</span> = input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R112" data-line-number="112"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R113" data-line-number="113"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> count;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R114" data-line-number="114"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R115" data-line-number="115"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R116" data-line-number="116"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">define_one_global_rw</span>(sampling_rate);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R117" data-line-number="117"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R118" data-line-number="118"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">struct</span> attribute *darkness_attributes[] = {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R119" data-line-number="119"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;sampling_rate.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R120" data-line-number="120"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">NULL</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R121" data-line-number="121"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+};</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R122" data-line-number="122"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R123" data-line-number="123"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">struct</span> attribute_group darkness_attr_group = {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R124" data-line-number="124"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">attrs</span> = darkness_attributes,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R125" data-line-number="125"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">name</span> = <span class="pl-s"><span class="pl-pds">&quot;</span>darkness<span class="pl-pds">&quot;</span></span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R126" data-line-number="126"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+};</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R127" data-line-number="127"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R128" data-line-number="128"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">/************************** sysfs end ************************/</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R129" data-line-number="129"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R130" data-line-number="130"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">unsigned</span> <span class="pl-k">int</span> <span class="pl-en">adjust_cpufreq_frequency_target</span>(<span class="pl-k">struct</span> cpufreq_policy *policy,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R131" data-line-number="131"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+					<span class="pl-k">struct</span> cpufreq_frequency_table *table,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R132" data-line-number="132"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+					<span class="pl-k">unsigned</span> <span class="pl-k">int</span> tmp_freq)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R133" data-line-number="133"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R134" data-line-number="134"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> i = <span class="pl-c1">0</span>, l_freq = <span class="pl-c1">0</span>, h_freq = <span class="pl-c1">0</span>, target_freq = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R135" data-line-number="135"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R136" data-line-number="136"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (tmp_freq &lt; policy-&gt;min)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R137" data-line-number="137"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		tmp_freq = policy-&gt;min;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R138" data-line-number="138"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (tmp_freq &gt; policy-&gt;max)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R139" data-line-number="139"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		tmp_freq = policy-&gt;max;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R140" data-line-number="140"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R141" data-line-number="141"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">for</span> (i = <span class="pl-c1">0</span>; (table[i].<span class="pl-smi">frequency</span> != CPUFREQ_TABLE_END); i++) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R142" data-line-number="142"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">unsigned</span> <span class="pl-k">int</span> freq = table[i].<span class="pl-smi">frequency</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R143" data-line-number="143"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (freq == CPUFREQ_ENTRY_INVALID) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R144" data-line-number="144"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">continue</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R145" data-line-number="145"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R146" data-line-number="146"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (freq &lt; tmp_freq) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R147" data-line-number="147"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			h_freq = freq;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R148" data-line-number="148"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R149" data-line-number="149"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (freq == tmp_freq) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R150" data-line-number="150"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			target_freq = freq;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R151" data-line-number="151"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">break</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R152" data-line-number="152"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R153" data-line-number="153"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (freq &gt; tmp_freq) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R154" data-line-number="154"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			l_freq = freq;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R155" data-line-number="155"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">break</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R156" data-line-number="156"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R157" data-line-number="157"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R158" data-line-number="158"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (!target_freq) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R159" data-line-number="159"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (policy-&gt;cur &gt;= h_freq</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R160" data-line-number="160"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			 &amp;&amp; policy-&gt;cur &lt;= l_freq)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R161" data-line-number="161"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			target_freq = policy-&gt;cur;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R162" data-line-number="162"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">else</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R163" data-line-number="163"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			target_freq = l_freq;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R164" data-line-number="164"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R165" data-line-number="165"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R166" data-line-number="166"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> target_freq;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R167" data-line-number="167"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R168" data-line-number="168"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R169" data-line-number="169"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">void</span> <span class="pl-en">darkness_check_cpu</span>(<span class="pl-k">struct</span> cpufreq_darkness_cpuinfo *this_darkness_cpuinfo)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R170" data-line-number="170"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R171" data-line-number="171"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> cpufreq_policy *policy;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R172" data-line-number="172"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> max_load = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R173" data-line-number="173"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> next_freq = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R174" data-line-number="174"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> j;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R175" data-line-number="175"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> sampling_rate = darkness_tuners_ins.<span class="pl-smi">sampling_rate</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R176" data-line-number="176"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R177" data-line-number="177"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	policy = this_darkness_cpuinfo-&gt;cur_policy;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R178" data-line-number="178"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (!policy)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R179" data-line-number="179"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R180" data-line-number="180"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R181" data-line-number="181"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">for_each_cpu</span>(j, policy-&gt;cpus) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R182" data-line-number="182"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">struct</span> cpufreq_darkness_cpuinfo *j_darkness_cpuinfo = &amp;<span class="pl-c1">per_cpu</span>(od_darkness_cpuinfo, j);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R183" data-line-number="183"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		u64 cur_wall_time, cur_idle_time;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R184" data-line-number="184"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">unsigned</span> <span class="pl-k">int</span> idle_time, wall_time;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R185" data-line-number="185"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">unsigned</span> <span class="pl-k">int</span> cur_load;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R186" data-line-number="186"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R187" data-line-number="187"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		cur_idle_time = <span class="pl-c1">get_cpu_idle_time</span>(j, &amp;cur_wall_time, <span class="pl-c1">0</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R188" data-line-number="188"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R189" data-line-number="189"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		wall_time = (<span class="pl-k">unsigned</span> <span class="pl-k">int</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R190" data-line-number="190"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			(cur_wall_time - j_darkness_cpuinfo-&gt;prev_cpu_wall);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R191" data-line-number="191"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		j_darkness_cpuinfo-&gt;prev_cpu_wall = cur_wall_time;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R192" data-line-number="192"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R193" data-line-number="193"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		idle_time = (<span class="pl-k">unsigned</span> <span class="pl-k">int</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R194" data-line-number="194"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			(cur_idle_time - j_darkness_cpuinfo-&gt;prev_cpu_idle);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R195" data-line-number="195"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		j_darkness_cpuinfo-&gt;prev_cpu_idle = cur_idle_time;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R196" data-line-number="196"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R197" data-line-number="197"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (<span class="pl-c1">unlikely</span>(!wall_time || wall_time &lt; idle_time))</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R198" data-line-number="198"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">continue</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R199" data-line-number="199"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R200" data-line-number="200"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R201" data-line-number="201"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * If the CPU had gone completely idle, and a task just woke up</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R202" data-line-number="202"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * on this CPU now, it would be unfair to calculate &#39;load&#39; the</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R203" data-line-number="203"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * usual way for this elapsed time-window, because it will show</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R204" data-line-number="204"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * near-zero load, irrespective of how CPU intensive that task</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R205" data-line-number="205"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * actually is. This is undesirable for latency-sensitive bursty</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R206" data-line-number="206"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * workloads.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R207" data-line-number="207"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 *</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R208" data-line-number="208"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * To avoid this, we reuse the &#39;load&#39; from the previous</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R209" data-line-number="209"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * time-window and give this task a chance to start with a</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R210" data-line-number="210"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * reasonably high CPU frequency. (However, we shouldn&#39;t over-do</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R211" data-line-number="211"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * this copy, lest we get stuck at a high load (high frequency)</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R212" data-line-number="212"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * for too long, even when the current system load has actually</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R213" data-line-number="213"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * dropped down. So we perform the copy only once, upon the</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R214" data-line-number="214"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * first wake-up from idle.)</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R215" data-line-number="215"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 *</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R216" data-line-number="216"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * Detecting this situation is easy: the governor&#39;s deferrable</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R217" data-line-number="217"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * timer would not have fired during CPU-idle periods. Hence</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R218" data-line-number="218"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * an unusually large &#39;wall_time&#39; (as compared to the sampling</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R219" data-line-number="219"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * rate) indicates this scenario.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R220" data-line-number="220"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 *</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R221" data-line-number="221"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * prev_load can be zero in two cases and we must recalculate it</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R222" data-line-number="222"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * for both cases:</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R223" data-line-number="223"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * - during long idle intervals</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R224" data-line-number="224"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * - explicitly set to zero</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R225" data-line-number="225"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R226" data-line-number="226"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (<span class="pl-c1">unlikely</span>(wall_time &gt; (<span class="pl-c1">2</span> * sampling_rate) &amp;&amp;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R227" data-line-number="227"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			     j_darkness_cpuinfo-&gt;prev_load)) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R228" data-line-number="228"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			cur_load = j_darkness_cpuinfo-&gt;prev_load;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R229" data-line-number="229"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R230" data-line-number="230"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R231" data-line-number="231"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">			 * Perform a destructive copy, to ensure that we copy</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R232" data-line-number="232"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">			 * the previous load only once, upon the first wake-up</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R233" data-line-number="233"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">			 * from idle.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R234" data-line-number="234"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">			 */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R235" data-line-number="235"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			j_darkness_cpuinfo-&gt;prev_load = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R236" data-line-number="236"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		} <span class="pl-k">else</span> {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R237" data-line-number="237"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			cur_load = <span class="pl-c1">100</span> * (wall_time - idle_time) / wall_time;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R238" data-line-number="238"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			j_darkness_cpuinfo-&gt;prev_load = cur_load;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R239" data-line-number="239"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R240" data-line-number="240"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R241" data-line-number="241"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (cur_load &gt; max_load)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R242" data-line-number="242"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			max_load = cur_load;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R243" data-line-number="243"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R244" data-line-number="244"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R245" data-line-number="245"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">cpufreq_notify_utilization</span>(policy, max_load);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R246" data-line-number="246"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R247" data-line-number="247"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c">/* CPUs Online Scale Frequency*/</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R248" data-line-number="248"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	next_freq = <span class="pl-c1">adjust_cpufreq_frequency_target</span>(policy, this_darkness_cpuinfo-&gt;freq_table, </span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R249" data-line-number="249"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+												max_load * (policy-&gt;max / <span class="pl-c1">100</span>));</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R250" data-line-number="250"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (next_freq != policy-&gt;cur &amp;&amp; next_freq &gt; <span class="pl-c1">0</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R251" data-line-number="251"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">__cpufreq_driver_target</span>(policy, next_freq, CPUFREQ_RELATION_L);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R252" data-line-number="252"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R253" data-line-number="253"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R254" data-line-number="254"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">void</span> <span class="pl-en">do_darkness_timer</span>(<span class="pl-k">struct</span> work_struct *work)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R255" data-line-number="255"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R256" data-line-number="256"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> cpufreq_darkness_cpuinfo *this_darkness_cpuinfo = </span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R257" data-line-number="257"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">container_of</span>(work, <span class="pl-k">struct</span> cpufreq_darkness_cpuinfo, work.<span class="pl-smi">work</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R258" data-line-number="258"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> delay;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R259" data-line-number="259"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R260" data-line-number="260"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (<span class="pl-c1">unlikely</span>(!<span class="pl-c1">cpu_online</span>(this_darkness_cpuinfo-&gt;cpu) ||</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R261" data-line-number="261"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				!this_darkness_cpuinfo-&gt;cur_policy))</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R262" data-line-number="262"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R263" data-line-number="263"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R264" data-line-number="264"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">mutex_lock</span>(&amp;this_darkness_cpuinfo-&gt;timer_mutex);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R265" data-line-number="265"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R266" data-line-number="266"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">darkness_check_cpu</span>(this_darkness_cpuinfo);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R267" data-line-number="267"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R268" data-line-number="268"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	delay = <span class="pl-c1">usecs_to_jiffies</span>(darkness_tuners_ins.<span class="pl-smi">sampling_rate</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R269" data-line-number="269"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c">/* We want all CPUs to do sampling nearly on</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R270" data-line-number="270"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 * same jiffy</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R271" data-line-number="271"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R272" data-line-number="272"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (<span class="pl-c1">num_online_cpus</span>() &gt; <span class="pl-c1">1</span>) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R273" data-line-number="273"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		delay -= jiffies % delay;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R274" data-line-number="274"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R275" data-line-number="275"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R276" data-line-number="276"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">queue_delayed_work_on</span>(this_darkness_cpuinfo-&gt;cpu, darkness_wq,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R277" data-line-number="277"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			&amp;this_darkness_cpuinfo-&gt;work, delay);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R278" data-line-number="278"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">mutex_unlock</span>(&amp;this_darkness_cpuinfo-&gt;timer_mutex);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R279" data-line-number="279"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R280" data-line-number="280"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R281" data-line-number="281"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">int</span> <span class="pl-en">cpufreq_governor_darkness</span>(<span class="pl-k">struct</span> cpufreq_policy *policy,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R282" data-line-number="282"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				<span class="pl-k">unsigned</span> <span class="pl-k">int</span> event)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R283" data-line-number="283"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R284" data-line-number="284"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> cpufreq_darkness_cpuinfo *this_darkness_cpuinfo;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R285" data-line-number="285"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> cpu = policy-&gt;cpu, j;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R286" data-line-number="286"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> rc, delay;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R287" data-line-number="287"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R288" data-line-number="288"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	this_darkness_cpuinfo = &amp;<span class="pl-c1">per_cpu</span>(od_darkness_cpuinfo, cpu);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R289" data-line-number="289"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R290" data-line-number="290"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">switch</span> (event) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R291" data-line-number="291"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">case</span> CPUFREQ_GOV_START:</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R292" data-line-number="292"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> ((!<span class="pl-c1">cpu_online</span>(cpu)) || (!policy))</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R293" data-line-number="293"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">return</span> -EINVAL;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R294" data-line-number="294"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R295" data-line-number="295"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">mutex_lock</span>(&amp;darkness_mutex);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R296" data-line-number="296"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		this_darkness_cpuinfo-&gt;freq_table = <span class="pl-c1">cpufreq_frequency_get_table</span>(cpu);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R297" data-line-number="297"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (!this_darkness_cpuinfo-&gt;freq_table) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R298" data-line-number="298"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c1">mutex_unlock</span>(&amp;darkness_mutex);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R299" data-line-number="299"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">return</span> -EINVAL;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R300" data-line-number="300"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R301" data-line-number="301"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R302" data-line-number="302"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">for_each_cpu</span>(j, policy-&gt;cpus) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R303" data-line-number="303"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">struct</span> cpufreq_darkness_cpuinfo *j_darkness_cpuinfo = &amp;<span class="pl-c1">per_cpu</span>(od_darkness_cpuinfo, j);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R304" data-line-number="304"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">unsigned</span> <span class="pl-k">int</span> prev_load;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R305" data-line-number="305"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R306" data-line-number="306"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			j_darkness_cpuinfo-&gt;prev_cpu_idle = <span class="pl-c1">get_cpu_idle_time</span>(j,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R307" data-line-number="307"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				&amp;j_darkness_cpuinfo-&gt;prev_cpu_wall, <span class="pl-c1">0</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R308" data-line-number="308"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R309" data-line-number="309"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			prev_load = (<span class="pl-k">unsigned</span> <span class="pl-k">int</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R310" data-line-number="310"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				(j_darkness_cpuinfo-&gt;prev_cpu_wall -</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R311" data-line-number="311"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				j_darkness_cpuinfo-&gt;prev_cpu_idle);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R312" data-line-number="312"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			j_darkness_cpuinfo-&gt;prev_load = <span class="pl-c1">100</span> * prev_load /</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R313" data-line-number="313"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				(<span class="pl-k">unsigned</span> <span class="pl-k">int</span>) j_darkness_cpuinfo-&gt;prev_cpu_wall;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R314" data-line-number="314"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R315" data-line-number="315"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R316" data-line-number="316"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		darkness_enable++;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R317" data-line-number="317"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R318" data-line-number="318"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * Start the timerschedule work, when this governor</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R319" data-line-number="319"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * is used for first time</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R320" data-line-number="320"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R321" data-line-number="321"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (darkness_enable == <span class="pl-c1">1</span>) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R322" data-line-number="322"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			rc = <span class="pl-c1">sysfs_create_group</span>(cpufreq_global_kobject,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R323" data-line-number="323"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+						&amp;darkness_attr_group);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R324" data-line-number="324"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">if</span> (rc) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R325" data-line-number="325"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				darkness_enable--;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R326" data-line-number="326"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				<span class="pl-c1">mutex_unlock</span>(&amp;darkness_mutex);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R327" data-line-number="327"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				<span class="pl-k">return</span> rc;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R328" data-line-number="328"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R329" data-line-number="329"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R330" data-line-number="330"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		cpu = policy-&gt;cpu;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R331" data-line-number="331"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		this_darkness_cpuinfo-&gt;cpu = cpu;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R332" data-line-number="332"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		this_darkness_cpuinfo-&gt;cur_policy = policy;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R333" data-line-number="333"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		this_darkness_cpuinfo-&gt;governor_enabled = <span class="pl-c1">true</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R334" data-line-number="334"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">mutex_unlock</span>(&amp;darkness_mutex);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R335" data-line-number="335"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R336" data-line-number="336"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">mutex_init</span>(&amp;this_darkness_cpuinfo-&gt;timer_mutex);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R337" data-line-number="337"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R338" data-line-number="338"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		delay = <span class="pl-c1">usecs_to_jiffies</span>(darkness_tuners_ins.<span class="pl-smi">sampling_rate</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R339" data-line-number="339"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c">/* We want all CPUs to do sampling nearly on same jiffy */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R340" data-line-number="340"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (<span class="pl-c1">num_online_cpus</span>() &gt; <span class="pl-c1">1</span>) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R341" data-line-number="341"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			delay -= jiffies % delay;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R342" data-line-number="342"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R343" data-line-number="343"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R344" data-line-number="344"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">INIT_DEFERRABLE_WORK</span>(&amp;this_darkness_cpuinfo-&gt;work, do_darkness_timer);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R345" data-line-number="345"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">queue_delayed_work_on</span>(cpu,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R346" data-line-number="346"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			darkness_wq, &amp;this_darkness_cpuinfo-&gt;work, delay);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R347" data-line-number="347"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R348" data-line-number="348"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">break</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R349" data-line-number="349"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">case</span> CPUFREQ_GOV_STOP:</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R350" data-line-number="350"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">cancel_delayed_work_sync</span>(&amp;this_darkness_cpuinfo-&gt;work);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R351" data-line-number="351"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R352" data-line-number="352"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">mutex_lock</span>(&amp;darkness_mutex);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R353" data-line-number="353"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">mutex_destroy</span>(&amp;this_darkness_cpuinfo-&gt;timer_mutex);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R354" data-line-number="354"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R355" data-line-number="355"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		this_darkness_cpuinfo-&gt;governor_enabled = <span class="pl-c1">false</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R356" data-line-number="356"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R357" data-line-number="357"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		this_darkness_cpuinfo-&gt;cur_policy = <span class="pl-c1">NULL</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R358" data-line-number="358"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R359" data-line-number="359"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		darkness_enable--;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R360" data-line-number="360"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (!darkness_enable) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R361" data-line-number="361"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c1">sysfs_remove_group</span>(cpufreq_global_kobject,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R362" data-line-number="362"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+					   &amp;darkness_attr_group);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R363" data-line-number="363"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R364" data-line-number="364"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">mutex_unlock</span>(&amp;darkness_mutex);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R365" data-line-number="365"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R366" data-line-number="366"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">break</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R367" data-line-number="367"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">case</span> CPUFREQ_GOV_LIMITS:</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R368" data-line-number="368"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (!this_darkness_cpuinfo-&gt;cur_policy</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R369" data-line-number="369"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			 || !policy) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R370" data-line-number="370"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c1">pr_debug</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>Unable to limit cpu freq due to cur_policy == NULL<span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R371" data-line-number="371"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">return</span> -EPERM;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R372" data-line-number="372"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R373" data-line-number="373"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">mutex_lock</span>(&amp;this_darkness_cpuinfo-&gt;timer_mutex);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R374" data-line-number="374"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">__cpufreq_driver_target</span>(this_darkness_cpuinfo-&gt;cur_policy,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R375" data-line-number="375"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				policy-&gt;cur, CPUFREQ_RELATION_L);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R376" data-line-number="376"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">mutex_unlock</span>(&amp;this_darkness_cpuinfo-&gt;timer_mutex);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R377" data-line-number="377"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R378" data-line-number="378"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">break</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R379" data-line-number="379"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R380" data-line-number="380"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R381" data-line-number="381"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R382" data-line-number="382"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R383" data-line-number="383"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">ifndef</span> CONFIG_CPU_FREQ_DEFAULT_GOV_DARKNESS</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R384" data-line-number="384"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R385" data-line-number="385"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">endif</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R386" data-line-number="386"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">struct</span> cpufreq_governor cpufreq_gov_darkness = {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R387" data-line-number="387"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">name</span>                   = <span class="pl-s"><span class="pl-pds">&quot;</span>darkness<span class="pl-pds">&quot;</span></span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R388" data-line-number="388"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">governor</span>               = cpufreq_governor_darkness,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R389" data-line-number="389"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">owner</span>                  = THIS_MODULE,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R390" data-line-number="390"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+};</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R391" data-line-number="391"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R392" data-line-number="392"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">int</span> __init <span class="pl-en">cpufreq_gov_darkness_init</span>(<span class="pl-k">void</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R393" data-line-number="393"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R394" data-line-number="394"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	darkness_wq = <span class="pl-c1">alloc_workqueue</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>darkness_wq<span class="pl-pds">&quot;</span></span>, WQ_HIGHPRI, <span class="pl-c1">0</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R395" data-line-number="395"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (!darkness_wq) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R396" data-line-number="396"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">printk</span>(KERN_ERR <span class="pl-s"><span class="pl-pds">&quot;</span>Failed to create darkness_wq workqueue<span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R397" data-line-number="397"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> -EFAULT;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R398" data-line-number="398"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R399" data-line-number="399"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R400" data-line-number="400"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> <span class="pl-c1">cpufreq_register_governor</span>(&amp;cpufreq_gov_darkness);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R401" data-line-number="401"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R402" data-line-number="402"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R403" data-line-number="403"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">void</span> __exit <span class="pl-en">cpufreq_gov_darkness_exit</span>(<span class="pl-k">void</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R404" data-line-number="404"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R405" data-line-number="405"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">cpufreq_unregister_governor</span>(&amp;cpufreq_gov_darkness);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R406" data-line-number="406"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R407" data-line-number="407"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R408" data-line-number="408"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">MODULE_AUTHOR</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>Alucard24@XDA<span class="pl-pds">&quot;</span></span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R409" data-line-number="409"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">MODULE_DESCRIPTION</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>&#39;cpufreq_darkness&#39; - A dynamic cpufreq/cpuhotplug governor v5.0 (SnapDragon)<span class="pl-pds">&quot;</span></span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R410" data-line-number="410"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">MODULE_LICENSE</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>GPL<span class="pl-pds">&quot;</span></span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R411" data-line-number="411"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R412" data-line-number="412"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">ifdef</span> CONFIG_CPU_FREQ_DEFAULT_GOV_DARKNESS</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R413" data-line-number="413"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">fs_initcall</span>(cpufreq_gov_darkness_init);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R414" data-line-number="414"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">else</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R415" data-line-number="415"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">module_init</span>(cpufreq_gov_darkness_init);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R416" data-line-number="416"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">endif</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-aa09ee7187c7aa142ca66d78f75a3a71R417" data-line-number="417"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">module_exit</span>(cpufreq_gov_darkness_exit);</span>

  </td>
</tr>



              </table>
            </div>
      </div>

      <a name="diff-b9c4f1a4b00c8e4f233781b4fcae5589"></a>
      <div id="diff-13"
           class="file js-details-container
                   
                   
                   
                   
                   show-inline-notes
                 ">
        <div class="file-header" data-path="drivers/cpufreq/cpufreq_despair.c">
          <div class="file-actions">
              <span class="show-file-notes">
                <label>
                  <input type="checkbox" checked="checked" class="js-toggle-file-notes">
                  Show notes
                </label>
              </span>

                <a href="/Tkkg1994/StockKernel/blob/cbf17b4b432bfe962ae330d9a86f8ded47d33b22/drivers/cpufreq/cpufreq_despair.c" class="btn btn-sm tooltipped tooltipped-nw" rel="nofollow" aria-label="View the whole file at version cbf17b4 ">View</a>


          </div>
          <div class="file-info">
              <span class="diffstat tooltipped tooltipped-e" aria-label="550 additions &amp; 0 deletions">550 <span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span></span>

            <span class="user-select-contain" title="drivers/cpufreq/cpufreq_despair.c">
              drivers/cpufreq/cpufreq_despair.c
            </span>
            
          </div>
        </div>

            <div class="data highlight blob-wrapper">
              <table class="diff-table tab-size  " data-tab-size="8">
                
      <tr data-position="0">
    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589L-1" class="blob-num blob-num-hunk non-expandable" data-line-number="..."></td>
    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R0" class="blob-num blob-num-hunk non-expandable" data-line-number="..."></td>
    <td class="blob-code blob-code-inner blob-code-hunk">@@ -0,0 +1,550 @@</td>
  </tr>

    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R1" data-line-number="1"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R2" data-line-number="2"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> *  drivers/cpufreq/cpufreq_despair.c</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R3" data-line-number="3"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> *</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R4" data-line-number="4"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> *  Copyright (C)  2001 Russell King</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R5" data-line-number="5"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> *            (C)  2003 Venkatesh Pallipadi &lt;venkatesh.pallipadi@intel.com&gt;.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R6" data-line-number="6"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> *                      Jun Nakajima &lt;jun.nakajima@intel.com&gt;</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R7" data-line-number="7"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> *            (C)  2009 Alexander Clouter &lt;alex@digriz.org.uk&gt;</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R8" data-line-number="8"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> *				   2015 Matthew Alex &lt;matthewalex@outlook.com&gt;</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R9" data-line-number="9"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> *</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R10" data-line-number="10"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * This program is free software; you can redistribute it and/or modify</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R11" data-line-number="11"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * it under the terms of the GNU General Public License version 2 as</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R12" data-line-number="12"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * published by the Free Software Foundation.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R13" data-line-number="13"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R14" data-line-number="14"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R15" data-line-number="15"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/slab.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R16" data-line-number="16"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&quot;</span>cpufreq_governor.h<span class="pl-pds">&quot;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R17" data-line-number="17"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/touchboost.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R18" data-line-number="18"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R19" data-line-number="19"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">/* Conservative governor macros */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R20" data-line-number="20"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">DEF_FREQUENCY_UP_THRESHOLD</span>		(<span class="pl-c1">95</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R21" data-line-number="21"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">DEF_FREQUENCY_DOWN_THRESHOLD</span>		(<span class="pl-c1">35</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R22" data-line-number="22"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">DEF_FREQUENCY_TWOSTEP_THRESHOLD</span>		(<span class="pl-c1">65</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R23" data-line-number="23"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">DEF_FREQUENCY_STEP</span>			(<span class="pl-c1">5</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R24" data-line-number="24"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">DEF_SAMPLING_DOWN_FACTOR</span>		(<span class="pl-c1">1</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R25" data-line-number="25"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">MAX_SAMPLING_DOWN_FACTOR</span>		(<span class="pl-c1">10</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R26" data-line-number="26"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">MICRO_FREQUENCY_MIN_SAMPLE_RATE</span>		(<span class="pl-c1">10000</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R27" data-line-number="27"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">BOOST_DURATION_US</span>			(<span class="pl-c1">40000</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R28" data-line-number="28"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">BOOST_FREQ_VAL</span>				(<span class="pl-c1">960000</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R29" data-line-number="29"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">DEFAULT_MIN_LOAD</span>			(<span class="pl-c1">15</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R30" data-line-number="30"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R31" data-line-number="31"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-en">DEFINE_PER_CPU</span>(<span class="pl-k">struct</span> cs_cpu_dbs_info_s, cs_cpu_dbs_info);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R32" data-line-number="32"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R33" data-line-number="33"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">inline</span> <span class="pl-k">unsigned</span> <span class="pl-k">int</span> <span class="pl-en">get_freq_target</span>(<span class="pl-k">struct</span> cs_dbs_tuners *cs_tuners,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R34" data-line-number="34"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+					   <span class="pl-k">unsigned</span> <span class="pl-k">int</span> freq_mult)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R35" data-line-number="35"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R36" data-line-number="36"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> freq_target = (cs_tuners-&gt;freq_step * freq_mult) / <span class="pl-c1">100</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R37" data-line-number="37"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R38" data-line-number="38"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c">/* max freq cannot be less than 100. But who knows... */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R39" data-line-number="39"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (<span class="pl-c1">unlikely</span>(freq_target == <span class="pl-c1">0</span>))</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R40" data-line-number="40"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		freq_target = DEF_FREQUENCY_STEP;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R41" data-line-number="41"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R42" data-line-number="42"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> freq_target;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R43" data-line-number="43"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R44" data-line-number="44"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R45" data-line-number="45"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R46" data-line-number="46"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * Every sampling_rate, we check, if current idle time is less than 20%</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R47" data-line-number="47"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * (default), then we try to increase frequency. Every sampling_rate *</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R48" data-line-number="48"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * sampling_down_factor, we check, if current idle time is more than 80%</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R49" data-line-number="49"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * (default), then we try to decrease frequency</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R50" data-line-number="50"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> *</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R51" data-line-number="51"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * Any frequency increase takes it to the maximum frequency. Frequency reduction</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R52" data-line-number="52"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * happens at minimum steps of 5% (default) of maximum frequency</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R53" data-line-number="53"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R54" data-line-number="54"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">void</span> <span class="pl-en">cs_check_cpu</span>(<span class="pl-k">int</span> cpu, <span class="pl-k">unsigned</span> <span class="pl-k">int</span> load)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R55" data-line-number="55"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R56" data-line-number="56"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> cs_cpu_dbs_info_s *dbs_info = &amp;<span class="pl-c1">per_cpu</span>(cs_cpu_dbs_info, cpu);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R57" data-line-number="57"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> cpufreq_policy *policy = dbs_info-&gt;cdbs.<span class="pl-smi">cur_policy</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R58" data-line-number="58"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> dbs_data *dbs_data = policy-&gt;governor_data;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R59" data-line-number="59"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> cs_dbs_tuners *cs_tuners = dbs_data-&gt;tuners;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R60" data-line-number="60"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">bool</span> boosted;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R61" data-line-number="61"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	u64 now;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R62" data-line-number="62"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R63" data-line-number="63"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">cpufreq_notify_utilization</span>(policy, load);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R64" data-line-number="64"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R65" data-line-number="65"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R66" data-line-number="66"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 * break out if we &#39;cannot&#39; reduce the speed as the user might</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R67" data-line-number="67"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 * want freq_step to be zero</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R68" data-line-number="68"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R69" data-line-number="69"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (cs_tuners-&gt;freq_step == <span class="pl-c1">0</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R70" data-line-number="70"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R71" data-line-number="71"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R72" data-line-number="72"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	now = <span class="pl-c1">ktime_to_us</span>(<span class="pl-c1">ktime_get</span>());</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R73" data-line-number="73"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	boosted = now &lt; (<span class="pl-c1">get_input_time</span>() + cs_tuners-&gt;input_boost_duration);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R74" data-line-number="74"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R75" data-line-number="75"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c">/* Check for frequency increase */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R76" data-line-number="76"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (load &gt; DEF_FREQUENCY_TWOSTEP_THRESHOLD) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R77" data-line-number="77"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (load &gt;= cs_tuners-&gt;up_threshold)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R78" data-line-number="78"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			dbs_info-&gt;down_skip = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R79" data-line-number="79"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R80" data-line-number="80"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c">/* if we are already at full speed then break out early */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R81" data-line-number="81"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (policy-&gt;cur == policy-&gt;max)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R82" data-line-number="82"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">return</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R83" data-line-number="83"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R84" data-line-number="84"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (load &lt; cs_tuners-&gt;up_threshold &amp;&amp; dbs_info-&gt;twostep_counter++ &lt; <span class="pl-c1">2</span>) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R85" data-line-number="85"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			dbs_info-&gt;twostep_time = now;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R86" data-line-number="86"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			dbs_info-&gt;requested_freq += <span class="pl-c1">get_freq_target</span>(cs_tuners, policy-&gt;max &gt;&gt; <span class="pl-c1">1</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R87" data-line-number="87"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		} <span class="pl-k">else</span> {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R88" data-line-number="88"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">if</span> (load &gt;= cs_tuners-&gt;up_threshold)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R89" data-line-number="89"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				dbs_info-&gt;requested_freq += <span class="pl-c1">get_freq_target</span>(cs_tuners, policy-&gt;max);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R90" data-line-number="90"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R91" data-line-number="91"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			dbs_info-&gt;twostep_counter = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R92" data-line-number="92"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R93" data-line-number="93"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R94" data-line-number="94"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (dbs_info-&gt;requested_freq &gt; policy-&gt;max)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R95" data-line-number="95"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			dbs_info-&gt;requested_freq = policy-&gt;max;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R96" data-line-number="96"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R97" data-line-number="97"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (boosted)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R98" data-line-number="98"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+                        dbs_info-&gt;requested_freq</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R99" data-line-number="99"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+                                = <span class="pl-c1">max</span>(cs_tuners-&gt;input_boost_freq,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R100" data-line-number="100"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+                                        dbs_info-&gt;requested_freq);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R101" data-line-number="101"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R102" data-line-number="102"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">__cpufreq_driver_target</span>(policy, dbs_info-&gt;requested_freq,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R103" data-line-number="103"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			CPUFREQ_RELATION_C);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R104" data-line-number="104"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R105" data-line-number="105"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R106" data-line-number="106"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R107" data-line-number="107"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c">/* if sampling_down_factor is active break out early */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R108" data-line-number="108"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (++dbs_info-&gt;down_skip &lt; cs_tuners-&gt;sampling_down_factor)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R109" data-line-number="109"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R110" data-line-number="110"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	dbs_info-&gt;down_skip = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R111" data-line-number="111"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R112" data-line-number="112"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c">/* Check for frequency decrease */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R113" data-line-number="113"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (load &lt; cs_tuners-&gt;down_threshold) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R114" data-line-number="114"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">unsigned</span> <span class="pl-k">int</span> freq_target;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R115" data-line-number="115"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R116" data-line-number="116"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R117" data-line-number="117"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * we&#39;re scaling down, so reset the counter if</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R118" data-line-number="118"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * the conditions are met</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R119" data-line-number="119"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R120" data-line-number="120"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (dbs_info-&gt;twostep_counter) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R121" data-line-number="121"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c">/* 150ms*/</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R122" data-line-number="122"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">if</span> ((now - dbs_info-&gt;twostep_time) &gt;= <span class="pl-c1">150000</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R123" data-line-number="123"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+                		dbs_info-&gt;twostep_counter = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R124" data-line-number="124"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R125" data-line-number="125"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R126" data-line-number="126"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R127" data-line-number="127"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * if we cannot reduce the frequency anymore, break out early</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R128" data-line-number="128"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R129" data-line-number="129"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (policy-&gt;cur == policy-&gt;min)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R130" data-line-number="130"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">return</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R131" data-line-number="131"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R132" data-line-number="132"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (load &lt; DEFAULT_MIN_LOAD) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R133" data-line-number="133"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			dbs_info-&gt;requested_freq = policy-&gt;min;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R134" data-line-number="134"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">goto</span> scale_down;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R135" data-line-number="135"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R136" data-line-number="136"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R137" data-line-number="137"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		freq_target = <span class="pl-c1">get_freq_target</span>(cs_tuners, policy-&gt;max);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R138" data-line-number="138"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (dbs_info-&gt;requested_freq &gt; freq_target)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R139" data-line-number="139"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			dbs_info-&gt;requested_freq -= freq_target;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R140" data-line-number="140"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">else</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R141" data-line-number="141"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			dbs_info-&gt;requested_freq = policy-&gt;min;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R142" data-line-number="142"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R143" data-line-number="143"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+scale_down:</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R144" data-line-number="144"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R145" data-line-number="145"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (boosted)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R146" data-line-number="146"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+                        dbs_info-&gt;requested_freq</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R147" data-line-number="147"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				= <span class="pl-c1">max</span>(cs_tuners-&gt;input_boost_freq,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R148" data-line-number="148"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+					dbs_info-&gt;requested_freq);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R149" data-line-number="149"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R150" data-line-number="150"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">__cpufreq_driver_target</span>(policy, dbs_info-&gt;requested_freq,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R151" data-line-number="151"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				CPUFREQ_RELATION_L);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R152" data-line-number="152"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R153" data-line-number="153"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R154" data-line-number="154"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R155" data-line-number="155"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R156" data-line-number="156"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">void</span> <span class="pl-en">cs_dbs_timer</span>(<span class="pl-k">struct</span> work_struct *work)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R157" data-line-number="157"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R158" data-line-number="158"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> cs_cpu_dbs_info_s *dbs_info = <span class="pl-c1">container_of</span>(work,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R159" data-line-number="159"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">struct</span> cs_cpu_dbs_info_s, cdbs.<span class="pl-smi">work</span>.<span class="pl-smi">work</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R160" data-line-number="160"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> cpu = dbs_info-&gt;cdbs.<span class="pl-smi">cur_policy</span>-&gt;cpu;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R161" data-line-number="161"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> cs_cpu_dbs_info_s *core_dbs_info = &amp;<span class="pl-c1">per_cpu</span>(cs_cpu_dbs_info,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R162" data-line-number="162"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			cpu);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R163" data-line-number="163"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> dbs_data *dbs_data = dbs_info-&gt;cdbs.<span class="pl-smi">cur_policy</span>-&gt;governor_data;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R164" data-line-number="164"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> cs_dbs_tuners *cs_tuners = dbs_data-&gt;tuners;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R165" data-line-number="165"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> delay = <span class="pl-c1">delay_for_sampling_rate</span>(cs_tuners-&gt;sampling_rate);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R166" data-line-number="166"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">bool</span> modify_all = <span class="pl-c1">true</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R167" data-line-number="167"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R168" data-line-number="168"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">mutex_lock</span>(&amp;core_dbs_info-&gt;cdbs.<span class="pl-smi">timer_mutex</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R169" data-line-number="169"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (!<span class="pl-c1">need_load_eval</span>(&amp;core_dbs_info-&gt;cdbs, cs_tuners-&gt;sampling_rate))</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R170" data-line-number="170"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		modify_all = <span class="pl-c1">false</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R171" data-line-number="171"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">else</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R172" data-line-number="172"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">dbs_check_cpu</span>(dbs_data, cpu);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R173" data-line-number="173"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R174" data-line-number="174"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">gov_queue_work</span>(dbs_data, dbs_info-&gt;cdbs.<span class="pl-smi">cur_policy</span>, delay, modify_all);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R175" data-line-number="175"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">mutex_unlock</span>(&amp;core_dbs_info-&gt;cdbs.<span class="pl-smi">timer_mutex</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R176" data-line-number="176"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R177" data-line-number="177"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R178" data-line-number="178"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">int</span> <span class="pl-en">dbs_cpufreq_notifier</span>(<span class="pl-k">struct</span> notifier_block *nb, <span class="pl-k">unsigned</span> <span class="pl-k">long</span> val,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R179" data-line-number="179"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">void</span> *data)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R180" data-line-number="180"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R181" data-line-number="181"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> cpufreq_freqs *freq = data;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R182" data-line-number="182"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> cs_cpu_dbs_info_s *dbs_info =</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R183" data-line-number="183"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+					&amp;<span class="pl-c1">per_cpu</span>(cs_cpu_dbs_info, freq-&gt;cpu);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R184" data-line-number="184"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> cpufreq_policy *policy;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R185" data-line-number="185"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R186" data-line-number="186"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (!dbs_info-&gt;enable)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R187" data-line-number="187"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R188" data-line-number="188"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R189" data-line-number="189"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	policy = dbs_info-&gt;cdbs.<span class="pl-smi">cur_policy</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R190" data-line-number="190"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R191" data-line-number="191"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R192" data-line-number="192"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 * we only care if our internally tracked freq moves outside the &#39;valid&#39;</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R193" data-line-number="193"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 * ranges of frequency available to us otherwise we do not change it</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R194" data-line-number="194"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	*/</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R195" data-line-number="195"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (dbs_info-&gt;requested_freq &gt; policy-&gt;max</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R196" data-line-number="196"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			|| dbs_info-&gt;requested_freq &lt; policy-&gt;min)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R197" data-line-number="197"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		dbs_info-&gt;requested_freq = freq-&gt;new;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R198" data-line-number="198"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R199" data-line-number="199"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R200" data-line-number="200"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R201" data-line-number="201"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R202" data-line-number="202"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">/************************** sysfs interface ************************/</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R203" data-line-number="203"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">struct</span> common_dbs_data cs_dbs_cdata;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R204" data-line-number="204"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R205" data-line-number="205"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">store_sampling_down_factor</span>(<span class="pl-k">struct</span> dbs_data *dbs_data,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R206" data-line-number="206"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">const</span> <span class="pl-k">char</span> *buf, <span class="pl-c1">size_t</span> count)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R207" data-line-number="207"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R208" data-line-number="208"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> cs_dbs_tuners *cs_tuners = dbs_data-&gt;tuners;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R209" data-line-number="209"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R210" data-line-number="210"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R211" data-line-number="211"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	ret = <span class="pl-c1">sscanf</span>(buf, <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%u</span><span class="pl-pds">&quot;</span></span>, &amp;input);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R212" data-line-number="212"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R213" data-line-number="213"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (ret != <span class="pl-c1">1</span> || input &gt; MAX_SAMPLING_DOWN_FACTOR || input &lt; <span class="pl-c1">1</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R214" data-line-number="214"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> -EINVAL;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R215" data-line-number="215"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R216" data-line-number="216"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	cs_tuners-&gt;sampling_down_factor = input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R217" data-line-number="217"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> count;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R218" data-line-number="218"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R219" data-line-number="219"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R220" data-line-number="220"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">store_sampling_rate</span>(<span class="pl-k">struct</span> dbs_data *dbs_data, <span class="pl-k">const</span> <span class="pl-k">char</span> *buf,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R221" data-line-number="221"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">size_t</span> count)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R222" data-line-number="222"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R223" data-line-number="223"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> cs_dbs_tuners *cs_tuners = dbs_data-&gt;tuners;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R224" data-line-number="224"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R225" data-line-number="225"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R226" data-line-number="226"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	ret = <span class="pl-c1">sscanf</span>(buf, <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%u</span><span class="pl-pds">&quot;</span></span>, &amp;input);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R227" data-line-number="227"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R228" data-line-number="228"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (ret != <span class="pl-c1">1</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R229" data-line-number="229"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> -EINVAL;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R230" data-line-number="230"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R231" data-line-number="231"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	cs_tuners-&gt;sampling_rate = <span class="pl-c1">max</span>(input, dbs_data-&gt;min_sampling_rate);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R232" data-line-number="232"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> count;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R233" data-line-number="233"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R234" data-line-number="234"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R235" data-line-number="235"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">store_up_threshold</span>(<span class="pl-k">struct</span> dbs_data *dbs_data, <span class="pl-k">const</span> <span class="pl-k">char</span> *buf,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R236" data-line-number="236"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">size_t</span> count)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R237" data-line-number="237"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R238" data-line-number="238"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> cs_dbs_tuners *cs_tuners = dbs_data-&gt;tuners;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R239" data-line-number="239"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R240" data-line-number="240"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R241" data-line-number="241"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	ret = <span class="pl-c1">sscanf</span>(buf, <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%u</span><span class="pl-pds">&quot;</span></span>, &amp;input);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R242" data-line-number="242"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R243" data-line-number="243"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (ret != <span class="pl-c1">1</span> || input &gt; <span class="pl-c1">100</span> || input &lt;= cs_tuners-&gt;down_threshold)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R244" data-line-number="244"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> -EINVAL;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R245" data-line-number="245"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R246" data-line-number="246"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	cs_tuners-&gt;up_threshold = input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R247" data-line-number="247"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> count;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R248" data-line-number="248"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R249" data-line-number="249"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R250" data-line-number="250"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">store_down_threshold</span>(<span class="pl-k">struct</span> dbs_data *dbs_data, <span class="pl-k">const</span> <span class="pl-k">char</span> *buf,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R251" data-line-number="251"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">size_t</span> count)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R252" data-line-number="252"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R253" data-line-number="253"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> cs_dbs_tuners *cs_tuners = dbs_data-&gt;tuners;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R254" data-line-number="254"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R255" data-line-number="255"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R256" data-line-number="256"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	ret = <span class="pl-c1">sscanf</span>(buf, <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%u</span><span class="pl-pds">&quot;</span></span>, &amp;input);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R257" data-line-number="257"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R258" data-line-number="258"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c">/* cannot be lower than 11 otherwise freq will not fall */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R259" data-line-number="259"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (ret != <span class="pl-c1">1</span> || input &lt; <span class="pl-c1">11</span> || input &gt; <span class="pl-c1">100</span> ||</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R260" data-line-number="260"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			input &gt;= cs_tuners-&gt;up_threshold)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R261" data-line-number="261"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> -EINVAL;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R262" data-line-number="262"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R263" data-line-number="263"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	cs_tuners-&gt;down_threshold = input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R264" data-line-number="264"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> count;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R265" data-line-number="265"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R266" data-line-number="266"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R267" data-line-number="267"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">store_ignore_nice_load</span>(<span class="pl-k">struct</span> dbs_data *dbs_data,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R268" data-line-number="268"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">const</span> <span class="pl-k">char</span> *buf, <span class="pl-c1">size_t</span> count)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R269" data-line-number="269"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R270" data-line-number="270"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> cs_dbs_tuners *cs_tuners = dbs_data-&gt;tuners;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R271" data-line-number="271"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> input, j;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R272" data-line-number="272"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R273" data-line-number="273"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R274" data-line-number="274"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	ret = <span class="pl-c1">sscanf</span>(buf, <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%u</span><span class="pl-pds">&quot;</span></span>, &amp;input);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R275" data-line-number="275"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (ret != <span class="pl-c1">1</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R276" data-line-number="276"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> -EINVAL;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R277" data-line-number="277"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R278" data-line-number="278"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (input &gt; <span class="pl-c1">1</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R279" data-line-number="279"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		input = <span class="pl-c1">1</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R280" data-line-number="280"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R281" data-line-number="281"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (input == cs_tuners-&gt;ignore_nice_load) <span class="pl-c">/* nothing to do */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R282" data-line-number="282"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> count;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R283" data-line-number="283"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R284" data-line-number="284"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	cs_tuners-&gt;ignore_nice_load = input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R285" data-line-number="285"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R286" data-line-number="286"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c">/* we need to re-evaluate prev_cpu_idle */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R287" data-line-number="287"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">for_each_online_cpu</span>(j) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R288" data-line-number="288"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">struct</span> cs_cpu_dbs_info_s *dbs_info;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R289" data-line-number="289"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		dbs_info = &amp;<span class="pl-c1">per_cpu</span>(cs_cpu_dbs_info, j);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R290" data-line-number="290"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		dbs_info-&gt;cdbs.<span class="pl-smi">prev_cpu_idle</span> = <span class="pl-c1">get_cpu_idle_time</span>(j,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R291" data-line-number="291"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+					&amp;dbs_info-&gt;cdbs.<span class="pl-smi">prev_cpu_wall</span>, <span class="pl-c1">0</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R292" data-line-number="292"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (cs_tuners-&gt;ignore_nice_load)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R293" data-line-number="293"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			dbs_info-&gt;cdbs.<span class="pl-smi">prev_cpu_nice</span> =</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R294" data-line-number="294"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				<span class="pl-c1">kcpustat_cpu</span>(j).<span class="pl-smi">cpustat</span>[CPUTIME_NICE];</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R295" data-line-number="295"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R296" data-line-number="296"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> count;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R297" data-line-number="297"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R298" data-line-number="298"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R299" data-line-number="299"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">store_freq_step</span>(<span class="pl-k">struct</span> dbs_data *dbs_data, <span class="pl-k">const</span> <span class="pl-k">char</span> *buf,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R300" data-line-number="300"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">size_t</span> count)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R301" data-line-number="301"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R302" data-line-number="302"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> cs_dbs_tuners *cs_tuners = dbs_data-&gt;tuners;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R303" data-line-number="303"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R304" data-line-number="304"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R305" data-line-number="305"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	ret = <span class="pl-c1">sscanf</span>(buf, <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%u</span><span class="pl-pds">&quot;</span></span>, &amp;input);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R306" data-line-number="306"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R307" data-line-number="307"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (ret != <span class="pl-c1">1</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R308" data-line-number="308"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> -EINVAL;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R309" data-line-number="309"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R310" data-line-number="310"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (input &gt; <span class="pl-c1">100</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R311" data-line-number="311"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		input = <span class="pl-c1">100</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R312" data-line-number="312"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R313" data-line-number="313"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R314" data-line-number="314"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 * no need to test here if freq_step is zero as the user might actually</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R315" data-line-number="315"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 * want this, they would be crazy though :)</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R316" data-line-number="316"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R317" data-line-number="317"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	cs_tuners-&gt;freq_step = input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R318" data-line-number="318"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> count;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R319" data-line-number="319"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R320" data-line-number="320"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R321" data-line-number="321"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">store_input_boost_freq</span>(<span class="pl-k">struct</span> dbs_data *dbs_data, <span class="pl-k">const</span> <span class="pl-k">char</span> *buf,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R322" data-line-number="322"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+                <span class="pl-c1">size_t</span> count)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R323" data-line-number="323"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R324" data-line-number="324"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+        <span class="pl-k">struct</span> cs_dbs_tuners *cs_tuners = dbs_data-&gt;tuners;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R325" data-line-number="325"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+        <span class="pl-k">unsigned</span> <span class="pl-k">int</span> input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R326" data-line-number="326"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+        <span class="pl-k">int</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R327" data-line-number="327"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+        ret = <span class="pl-c1">sscanf</span>(buf, <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%u</span><span class="pl-pds">&quot;</span></span>, &amp;input);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R328" data-line-number="328"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R329" data-line-number="329"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+        <span class="pl-k">if</span> (ret != <span class="pl-c1">1</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R330" data-line-number="330"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+                <span class="pl-k">return</span> -EINVAL;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R331" data-line-number="331"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R332" data-line-number="332"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+        <span class="pl-k">if</span> (input &lt; <span class="pl-c1">0</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R333" data-line-number="333"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+                input = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R334" data-line-number="334"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R335" data-line-number="335"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+        cs_tuners-&gt;input_boost_freq = input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R336" data-line-number="336"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+        <span class="pl-k">return</span> count;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R337" data-line-number="337"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R338" data-line-number="338"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R339" data-line-number="339"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">store_input_boost_duration</span>(<span class="pl-k">struct</span> dbs_data *dbs_data, <span class="pl-k">const</span> <span class="pl-k">char</span> *buf,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R340" data-line-number="340"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+                <span class="pl-c1">size_t</span> count)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R341" data-line-number="341"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R342" data-line-number="342"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+        <span class="pl-k">struct</span> cs_dbs_tuners *cs_tuners = dbs_data-&gt;tuners;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R343" data-line-number="343"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+        <span class="pl-k">unsigned</span> <span class="pl-k">int</span> input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R344" data-line-number="344"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+        <span class="pl-k">int</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R345" data-line-number="345"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+        ret = <span class="pl-c1">sscanf</span>(buf, <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%u</span><span class="pl-pds">&quot;</span></span>, &amp;input);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R346" data-line-number="346"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R347" data-line-number="347"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+        <span class="pl-k">if</span> (ret != <span class="pl-c1">1</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R348" data-line-number="348"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+                <span class="pl-k">return</span> -EINVAL;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R349" data-line-number="349"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R350" data-line-number="350"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+        <span class="pl-k">if</span> (input &lt; <span class="pl-c1">0</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R351" data-line-number="351"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+                input = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R352" data-line-number="352"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R353" data-line-number="353"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+        cs_tuners-&gt;input_boost_duration = input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R354" data-line-number="354"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+        <span class="pl-k">return</span> count;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R355" data-line-number="355"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R356" data-line-number="356"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R357" data-line-number="357"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">store_min_load</span>(<span class="pl-k">struct</span> dbs_data *dbs_data, <span class="pl-k">const</span> <span class="pl-k">char</span> *buf,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R358" data-line-number="358"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+                <span class="pl-c1">size_t</span> count)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R359" data-line-number="359"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R360" data-line-number="360"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+        <span class="pl-k">struct</span> cs_dbs_tuners *cs_tuners = dbs_data-&gt;tuners;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R361" data-line-number="361"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+        <span class="pl-k">unsigned</span> <span class="pl-k">int</span> input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R362" data-line-number="362"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+        <span class="pl-k">int</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R363" data-line-number="363"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+        ret = <span class="pl-c1">sscanf</span>(buf, <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%u</span><span class="pl-pds">&quot;</span></span>, &amp;input);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R364" data-line-number="364"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R365" data-line-number="365"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+        <span class="pl-k">if</span> (ret != <span class="pl-c1">1</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R366" data-line-number="366"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+                <span class="pl-k">return</span> -EINVAL;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R367" data-line-number="367"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R368" data-line-number="368"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+        <span class="pl-k">if</span> (input &lt; <span class="pl-c1">0</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R369" data-line-number="369"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+                input = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R370" data-line-number="370"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R371" data-line-number="371"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+        cs_tuners-&gt;min_load = input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R372" data-line-number="372"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+        <span class="pl-k">return</span> count;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R373" data-line-number="373"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R374" data-line-number="374"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R375" data-line-number="375"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">store_twostep_threshold</span>(<span class="pl-k">struct</span> dbs_data *dbs_data, <span class="pl-k">const</span> <span class="pl-k">char</span> *buf,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R376" data-line-number="376"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+                <span class="pl-c1">size_t</span> count)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R377" data-line-number="377"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R378" data-line-number="378"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+        <span class="pl-k">struct</span> cs_dbs_tuners *cs_tuners = dbs_data-&gt;tuners;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R379" data-line-number="379"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+        <span class="pl-k">unsigned</span> <span class="pl-k">int</span> input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R380" data-line-number="380"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+        <span class="pl-k">int</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R381" data-line-number="381"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+        ret = <span class="pl-c1">sscanf</span>(buf, <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%u</span><span class="pl-pds">&quot;</span></span>, &amp;input);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R382" data-line-number="382"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R383" data-line-number="383"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+        <span class="pl-k">if</span> (ret != <span class="pl-c1">1</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R384" data-line-number="384"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+                <span class="pl-k">return</span> -EINVAL;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R385" data-line-number="385"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R386" data-line-number="386"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+        <span class="pl-k">if</span> (input &lt; <span class="pl-c1">0</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R387" data-line-number="387"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+                input = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R388" data-line-number="388"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R389" data-line-number="389"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+        cs_tuners-&gt;twostep_threshold = input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R390" data-line-number="390"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+        <span class="pl-k">return</span> count;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R391" data-line-number="391"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R392" data-line-number="392"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R393" data-line-number="393"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">show_store_one</span>(cs, sampling_rate);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R394" data-line-number="394"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">show_store_one</span>(cs, sampling_down_factor);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R395" data-line-number="395"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">show_store_one</span>(cs, up_threshold);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R396" data-line-number="396"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">show_store_one</span>(cs, down_threshold);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R397" data-line-number="397"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">show_store_one</span>(cs, ignore_nice_load);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R398" data-line-number="398"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">show_store_one</span>(cs, freq_step);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R399" data-line-number="399"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">declare_show_sampling_rate_min</span>(cs);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R400" data-line-number="400"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">show_store_one</span>(cs, input_boost_freq);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R401" data-line-number="401"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">show_store_one</span>(cs, input_boost_duration);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R402" data-line-number="402"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">show_store_one</span>(cs, min_load);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R403" data-line-number="403"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">show_store_one</span>(cs, twostep_threshold);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R404" data-line-number="404"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R405" data-line-number="405"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">gov_sys_pol_attr_rw</span>(sampling_rate);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R406" data-line-number="406"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">gov_sys_pol_attr_rw</span>(sampling_down_factor);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R407" data-line-number="407"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">gov_sys_pol_attr_rw</span>(up_threshold);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R408" data-line-number="408"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">gov_sys_pol_attr_rw</span>(down_threshold);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R409" data-line-number="409"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">gov_sys_pol_attr_rw</span>(ignore_nice_load);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R410" data-line-number="410"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">gov_sys_pol_attr_rw</span>(freq_step);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R411" data-line-number="411"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">gov_sys_pol_attr_ro</span>(sampling_rate_min);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R412" data-line-number="412"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">gov_sys_pol_attr_rw</span>(input_boost_freq);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R413" data-line-number="413"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">gov_sys_pol_attr_rw</span>(input_boost_duration);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R414" data-line-number="414"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">gov_sys_pol_attr_rw</span>(min_load);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R415" data-line-number="415"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">gov_sys_pol_attr_rw</span>(twostep_threshold);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R416" data-line-number="416"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R417" data-line-number="417"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">struct</span> attribute *dbs_attributes_gov_sys[] = {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R418" data-line-number="418"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;sampling_rate_min_gov_sys.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R419" data-line-number="419"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;sampling_rate_gov_sys.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R420" data-line-number="420"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;sampling_down_factor_gov_sys.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R421" data-line-number="421"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;up_threshold_gov_sys.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R422" data-line-number="422"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;down_threshold_gov_sys.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R423" data-line-number="423"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;ignore_nice_load_gov_sys.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R424" data-line-number="424"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;freq_step_gov_sys.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R425" data-line-number="425"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;input_boost_freq_gov_sys.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R426" data-line-number="426"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;input_boost_duration_gov_sys.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R427" data-line-number="427"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;min_load_gov_sys.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R428" data-line-number="428"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;twostep_threshold_gov_sys.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R429" data-line-number="429"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">NULL</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R430" data-line-number="430"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+};</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R431" data-line-number="431"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R432" data-line-number="432"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">struct</span> attribute_group cs_attr_group_gov_sys = {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R433" data-line-number="433"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">attrs</span> = dbs_attributes_gov_sys,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R434" data-line-number="434"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">name</span> = <span class="pl-s"><span class="pl-pds">&quot;</span>despair<span class="pl-pds">&quot;</span></span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R435" data-line-number="435"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+};</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R436" data-line-number="436"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R437" data-line-number="437"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">struct</span> attribute *dbs_attributes_gov_pol[] = {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R438" data-line-number="438"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;sampling_rate_min_gov_pol.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R439" data-line-number="439"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;sampling_rate_gov_pol.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R440" data-line-number="440"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;sampling_down_factor_gov_pol.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R441" data-line-number="441"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;up_threshold_gov_pol.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R442" data-line-number="442"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;down_threshold_gov_pol.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R443" data-line-number="443"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;ignore_nice_load_gov_pol.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R444" data-line-number="444"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;freq_step_gov_pol.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R445" data-line-number="445"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;input_boost_freq_gov_pol.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R446" data-line-number="446"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;input_boost_duration_gov_pol.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R447" data-line-number="447"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;min_load_gov_pol.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R448" data-line-number="448"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;twostep_threshold_gov_pol.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R449" data-line-number="449"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">NULL</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R450" data-line-number="450"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+};</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R451" data-line-number="451"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R452" data-line-number="452"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">struct</span> attribute_group cs_attr_group_gov_pol = {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R453" data-line-number="453"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">attrs</span> = dbs_attributes_gov_pol,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R454" data-line-number="454"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">name</span> = <span class="pl-s"><span class="pl-pds">&quot;</span>despair<span class="pl-pds">&quot;</span></span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R455" data-line-number="455"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+};</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R456" data-line-number="456"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R457" data-line-number="457"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">/************************** sysfs end ************************/</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R458" data-line-number="458"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R459" data-line-number="459"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">int</span> <span class="pl-en">cs_init</span>(<span class="pl-k">struct</span> dbs_data *dbs_data)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R460" data-line-number="460"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R461" data-line-number="461"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> cs_dbs_tuners *tuners;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R462" data-line-number="462"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R463" data-line-number="463"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	tuners = <span class="pl-c1">kzalloc</span>(<span class="pl-k">sizeof</span>(*tuners), GFP_KERNEL);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R464" data-line-number="464"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (!tuners) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R465" data-line-number="465"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">pr_err</span>(<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%s</span>: kzalloc failed<span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>, __func__);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R466" data-line-number="466"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> -ENOMEM;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R467" data-line-number="467"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R468" data-line-number="468"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R469" data-line-number="469"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	tuners-&gt;up_threshold = DEF_FREQUENCY_UP_THRESHOLD;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R470" data-line-number="470"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	tuners-&gt;down_threshold = DEF_FREQUENCY_DOWN_THRESHOLD;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R471" data-line-number="471"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	tuners-&gt;sampling_down_factor = DEF_SAMPLING_DOWN_FACTOR;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R472" data-line-number="472"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	tuners-&gt;ignore_nice_load = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R473" data-line-number="473"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	tuners-&gt;freq_step = DEF_FREQUENCY_STEP;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R474" data-line-number="474"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	tuners-&gt;input_boost_freq = BOOST_FREQ_VAL;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R475" data-line-number="475"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+    tuners-&gt;input_boost_duration = BOOST_DURATION_US;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R476" data-line-number="476"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	tuners-&gt;min_load=DEFAULT_MIN_LOAD;	</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R477" data-line-number="477"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	tuners-&gt;twostep_threshold=DEF_FREQUENCY_TWOSTEP_THRESHOLD;	</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R478" data-line-number="478"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R479" data-line-number="479"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	dbs_data-&gt;tuners = tuners;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R480" data-line-number="480"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	dbs_data-&gt;min_sampling_rate = MICRO_FREQUENCY_MIN_SAMPLE_RATE;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R481" data-line-number="481"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">mutex_init</span>(&amp;dbs_data-&gt;mutex);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R482" data-line-number="482"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R483" data-line-number="483"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R484" data-line-number="484"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R485" data-line-number="485"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">void</span> <span class="pl-en">cs_exit</span>(<span class="pl-k">struct</span> dbs_data *dbs_data)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R486" data-line-number="486"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R487" data-line-number="487"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">kfree</span>(dbs_data-&gt;tuners);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R488" data-line-number="488"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R489" data-line-number="489"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R490" data-line-number="490"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">define_get_cpu_dbs_routines</span>(cs_cpu_dbs_info);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R491" data-line-number="491"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R492" data-line-number="492"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">struct</span> notifier_block cs_cpufreq_notifier_block = {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R493" data-line-number="493"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">notifier_call</span> = dbs_cpufreq_notifier,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R494" data-line-number="494"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+};</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R495" data-line-number="495"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R496" data-line-number="496"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">struct</span> cs_ops cs_ops = {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R497" data-line-number="497"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">notifier_block</span> = &amp;cs_cpufreq_notifier_block,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R498" data-line-number="498"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+};</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R499" data-line-number="499"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R500" data-line-number="500"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">struct</span> common_dbs_data cs_dbs_cdata = {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R501" data-line-number="501"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">governor</span> = GOV_CONSERVATIVE,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R502" data-line-number="502"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">attr_group_gov_sys</span> = &amp;cs_attr_group_gov_sys,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R503" data-line-number="503"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">attr_group_gov_pol</span> = &amp;cs_attr_group_gov_pol,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R504" data-line-number="504"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">get_cpu_cdbs</span> = get_cpu_cdbs,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R505" data-line-number="505"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">get_cpu_dbs_info_s</span> = get_cpu_dbs_info_s,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R506" data-line-number="506"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">gov_dbs_timer</span> = cs_dbs_timer,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R507" data-line-number="507"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">gov_check_cpu</span> = cs_check_cpu,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R508" data-line-number="508"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">gov_ops</span> = &amp;cs_ops,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R509" data-line-number="509"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">init</span> = cs_init,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R510" data-line-number="510"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">exit</span> = cs_exit,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R511" data-line-number="511"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+};</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R512" data-line-number="512"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R513" data-line-number="513"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">int</span> <span class="pl-en">cs_cpufreq_governor_dbs</span>(<span class="pl-k">struct</span> cpufreq_policy *policy,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R514" data-line-number="514"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				   <span class="pl-k">unsigned</span> <span class="pl-k">int</span> event)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R515" data-line-number="515"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R516" data-line-number="516"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> <span class="pl-c1">cpufreq_governor_dbs</span>(policy, &amp;cs_dbs_cdata, event);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R517" data-line-number="517"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R518" data-line-number="518"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R519" data-line-number="519"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">ifndef</span> CONFIG_CPU_FREQ_DEFAULT_GOV_DESPAIR</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R520" data-line-number="520"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R521" data-line-number="521"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">endif</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R522" data-line-number="522"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">struct</span> cpufreq_governor cpufreq_gov_despair = {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R523" data-line-number="523"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">name</span>			= <span class="pl-s"><span class="pl-pds">&quot;</span>despair<span class="pl-pds">&quot;</span></span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R524" data-line-number="524"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">governor</span>		= cs_cpufreq_governor_dbs,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R525" data-line-number="525"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">max_transition_latency</span>	= TRANSITION_LATENCY_LIMIT,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R526" data-line-number="526"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">owner</span>			= THIS_MODULE,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R527" data-line-number="527"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+};</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R528" data-line-number="528"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R529" data-line-number="529"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">int</span> __init <span class="pl-en">cpufreq_gov_dbs_init</span>(<span class="pl-k">void</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R530" data-line-number="530"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R531" data-line-number="531"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> <span class="pl-c1">cpufreq_register_governor</span>(&amp;cpufreq_gov_despair);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R532" data-line-number="532"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R533" data-line-number="533"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R534" data-line-number="534"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">void</span> __exit <span class="pl-en">cpufreq_gov_dbs_exit</span>(<span class="pl-k">void</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R535" data-line-number="535"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R536" data-line-number="536"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">cpufreq_unregister_governor</span>(&amp;cpufreq_gov_despair);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R537" data-line-number="537"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R538" data-line-number="538"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R539" data-line-number="539"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">MODULE_AUTHOR</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>Alexander Clouter &lt;alex@digriz.org.uk&gt;<span class="pl-pds">&quot;</span></span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R540" data-line-number="540"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">MODULE_DESCRIPTION</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>&#39;cpufreq_despair&#39; - A dynamic cpufreq governor for <span class="pl-pds">&quot;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R541" data-line-number="541"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-s"><span class="pl-pds">&quot;</span>Low Latency Frequency Transition capable processors <span class="pl-pds">&quot;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R542" data-line-number="542"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-s"><span class="pl-pds">&quot;</span>optimised for use in a battery environment<span class="pl-pds">&quot;</span></span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R543" data-line-number="543"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">MODULE_LICENSE</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>GPL<span class="pl-pds">&quot;</span></span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R544" data-line-number="544"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R545" data-line-number="545"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">ifdef</span> CONFIG_CPU_FREQ_DEFAULT_GOV_DESPAIR</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R546" data-line-number="546"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">fs_initcall</span>(cpufreq_gov_dbs_init);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R547" data-line-number="547"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">else</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R548" data-line-number="548"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">module_init</span>(cpufreq_gov_dbs_init);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R549" data-line-number="549"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">endif</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-b9c4f1a4b00c8e4f233781b4fcae5589R550" data-line-number="550"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">module_exit</span>(cpufreq_gov_dbs_exit);</span>

  </td>
</tr>



              </table>
            </div>
      </div>

      <a name="diff-3565c9c49695eba77892b00b9d87447a"></a>
      <div id="diff-14"
           class="file js-details-container
                   
                   
                   
                   
                   show-inline-notes
                 ">
        <div class="file-header" data-path="drivers/cpufreq/cpufreq_electroactive.c">
          <div class="file-actions">
              <span class="show-file-notes">
                <label>
                  <input type="checkbox" checked="checked" class="js-toggle-file-notes">
                  Show notes
                </label>
              </span>

                <a href="/Tkkg1994/StockKernel/blob/cbf17b4b432bfe962ae330d9a86f8ded47d33b22/drivers/cpufreq/cpufreq_electroactive.c" class="btn btn-sm tooltipped tooltipped-nw" rel="nofollow" aria-label="View the whole file at version cbf17b4 ">View</a>


          </div>
          <div class="file-info">
              <span class="diffstat tooltipped tooltipped-e" aria-label="1,612 additions &amp; 0 deletions">1,612 <span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span></span>

            <span class="user-select-contain" title="drivers/cpufreq/cpufreq_electroactive.c">
              drivers/cpufreq/cpufreq_electroactive.c
            </span>
            
          </div>
        </div>

            <div class="data highlight empty">
              1,612 additions,
              0 deletions
              not shown because the diff is too large. Please use a local Git client to view these changes.
            </div>
      </div>

      <a name="diff-8fb727323edd4c0a32ca4372b944b553"></a>
      <div id="diff-15"
           class="file js-details-container
                   
                   
                   
                   
                   show-inline-notes
                 ">
        <div class="file-header" data-path="drivers/cpufreq/cpufreq_electrodemand.c">
          <div class="file-actions">
              <span class="show-file-notes">
                <label>
                  <input type="checkbox" checked="checked" class="js-toggle-file-notes">
                  Show notes
                </label>
              </span>

                <a href="/Tkkg1994/StockKernel/blob/cbf17b4b432bfe962ae330d9a86f8ded47d33b22/drivers/cpufreq/cpufreq_electrodemand.c" class="btn btn-sm tooltipped tooltipped-nw" rel="nofollow" aria-label="View the whole file at version cbf17b4 ">View</a>


          </div>
          <div class="file-info">
              <span class="diffstat tooltipped tooltipped-e" aria-label="1,130 additions &amp; 0 deletions">1,130 <span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span></span>

            <span class="user-select-contain" title="drivers/cpufreq/cpufreq_electrodemand.c">
              drivers/cpufreq/cpufreq_electrodemand.c
            </span>
            
          </div>
        </div>

            <div class="data highlight blob-wrapper">
              <table class="diff-table tab-size  " data-tab-size="8">
                
      <tr data-position="0">
    <td id="diff-8fb727323edd4c0a32ca4372b944b553L-1" class="blob-num blob-num-hunk non-expandable" data-line-number="..."></td>
    <td id="diff-8fb727323edd4c0a32ca4372b944b553R0" class="blob-num blob-num-hunk non-expandable" data-line-number="..."></td>
    <td class="blob-code blob-code-inner blob-code-hunk">@@ -0,0 +1,1130 @@</td>
  </tr>

    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1" data-line-number="1"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R2" data-line-number="2"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> *  drivers/cpufreq/cpufreq_electrodemand.c</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R3" data-line-number="3"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> *</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R4" data-line-number="4"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> *  Copyright (C)  2001 Russell King</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R5" data-line-number="5"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> *            (C)  2003 Venkatesh Pallipadi &lt;venkatesh.pallipadi@intel.com&gt;.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R6" data-line-number="6"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> *                      Jun Nakajima &lt;jun.nakajima@intel.com&gt;</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R7" data-line-number="7"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> *</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R8" data-line-number="8"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> *                 2012 Minor Edits by Sar Castillo &lt;sar.castillo@gmail.com&gt;</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R9" data-line-number="9"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> *                 2012 MAR heavy addons by DORIMANX &lt;yuri@bynet.co.il&gt;</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R10" data-line-number="10"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> *                 2015 Minor Edits by Electrex &lt;ymostafa30@gmail.com&gt;</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R11" data-line-number="11"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * This program is free software; you can redistribute it and/or modify</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R12" data-line-number="12"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * it under the terms of the GNU General Public License version 2 as</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R13" data-line-number="13"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * published by the Free Software Foundation.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R14" data-line-number="14"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R15" data-line-number="15"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R16" data-line-number="16"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/kernel.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R17" data-line-number="17"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/module.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R18" data-line-number="18"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/init.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R19" data-line-number="19"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/cpufreq.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R20" data-line-number="20"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/cpu.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R21" data-line-number="21"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/jiffies.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R22" data-line-number="22"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/kernel_stat.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R23" data-line-number="23"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/mutex.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R24" data-line-number="24"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/hrtimer.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R25" data-line-number="25"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/tick.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R26" data-line-number="26"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/ktime.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R27" data-line-number="27"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/sched.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R28" data-line-number="28"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/sched/rt.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R29" data-line-number="29"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/input.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R30" data-line-number="30"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/slab.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R31" data-line-number="31"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R32" data-line-number="32"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R33" data-line-number="33"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * dbs is used in this file as a shortform for demandbased switching</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R34" data-line-number="34"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * It helps to keep variable names smaller, simpler</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R35" data-line-number="35"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R36" data-line-number="36"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R37" data-line-number="37"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">DEF_FREQUENCY_DOWN_DIFFERENTIAL</span>		(<span class="pl-c1">10</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R38" data-line-number="38"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">MIN_FREQUENCY_DOWN_DIFFERENTIAL</span>		(<span class="pl-c1">1</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R39" data-line-number="39"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">DEF_FREQUENCY_UP_THRESHOLD</span>		(<span class="pl-c1">70</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R40" data-line-number="40"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">DEF_SAMPLING_DOWN_FACTOR</span>		(<span class="pl-c1">1</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R41" data-line-number="41"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">BOOSTED_SAMPLING_DOWN_FACTOR</span>		(<span class="pl-c1">40</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R42" data-line-number="42"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">MAX_SAMPLING_DOWN_FACTOR</span>		(<span class="pl-c1">100000</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R43" data-line-number="43"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">MICRO_FREQUENCY_DOWN_DIFFERENTIAL</span>	(<span class="pl-c1">5</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R44" data-line-number="44"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">MICRO_FREQUENCY_UP_THRESHOLD</span>		(<span class="pl-c1">70</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R45" data-line-number="45"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">MICRO_FREQUENCY_MIN_SAMPLE_RATE</span>		(<span class="pl-c1">5000</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R46" data-line-number="46"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">MIN_FREQUENCY_UP_THRESHOLD</span>		(<span class="pl-c1">11</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R47" data-line-number="47"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">MAX_FREQUENCY_UP_THRESHOLD</span>		(<span class="pl-c1">100</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R48" data-line-number="48"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">MIN_FREQUENCY_DOWN_DIFFERENTIAL</span>		(<span class="pl-c1">1</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R49" data-line-number="49"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">FREQ_STEP</span>				(<span class="pl-c1">55</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R50" data-line-number="50"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">DEFAULT_FREQ_BOOST_TIME</span>			(<span class="pl-c1">500000</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R51" data-line-number="51"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">MAX_FREQ_BOOST_TIME</span>			(<span class="pl-c1">5000000</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R52" data-line-number="52"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">UP_THRESHOLD_AT_MIN_FREQ</span>		(<span class="pl-c1">40</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R53" data-line-number="53"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">FREQ_FOR_RESPONSIVENESS</span>			(<span class="pl-c1">2265600</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R54" data-line-number="54"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R55" data-line-number="55"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> u64 electrodemand_freq_boosted_time;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R56" data-line-number="56"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R57" data-line-number="57"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R58" data-line-number="58"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * The polling frequency of this governor depends on the capability of</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R59" data-line-number="59"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * the processor. Default polling frequency is 1000 times the transition</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R60" data-line-number="60"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * latency of the processor. The governor will work on any processor with</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R61" data-line-number="61"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * transition latency &lt;= 10mS, using appropriate sampling</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R62" data-line-number="62"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * rate.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R63" data-line-number="63"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * For CPUs with transition latency &gt; 10mS (mostly drivers with CPUFREQ_ETERNAL)</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R64" data-line-number="64"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * this governor will not work.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R65" data-line-number="65"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * All times here are in uS.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R66" data-line-number="66"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R67" data-line-number="67"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">MIN_SAMPLING_RATE_RATIO</span>			(<span class="pl-c1">2</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R68" data-line-number="68"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R69" data-line-number="69"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">unsigned</span> <span class="pl-k">int</span> min_sampling_rate;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R70" data-line-number="70"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">DEFAULT_SAMPLING_RATE</span>			(<span class="pl-c1">40000</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R71" data-line-number="71"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">BOOSTED_SAMPLING_RATE</span>			(<span class="pl-c1">20000</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R72" data-line-number="72"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">LATENCY_MULTIPLIER</span>			(<span class="pl-c1">1000</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R73" data-line-number="73"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">MIN_LATENCY_MULTIPLIER</span>			(<span class="pl-c1">20</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R74" data-line-number="74"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">TRANSITION_LATENCY_LIMIT</span>		(<span class="pl-c1">10</span> * <span class="pl-c1">1000</span> * <span class="pl-c1">1000</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R75" data-line-number="75"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R76" data-line-number="76"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">/* have the timer rate booted for this much time 4s*/</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R77" data-line-number="77"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">TIMER_RATE_BOOST_TIME</span> <span class="pl-c1">4000000</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R78" data-line-number="78"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">int</span> electrodemand_sampling_rate_boosted;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R79" data-line-number="79"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> u64 electrodemand_sampling_rate_boosted_time;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R80" data-line-number="80"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">unsigned</span> <span class="pl-k">int</span> electrodemand_current_sampling_rate;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R81" data-line-number="81"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R82" data-line-number="82"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">void</span> <span class="pl-en">do_dbs_timer</span>(<span class="pl-k">struct</span> work_struct *work);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R83" data-line-number="83"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">int</span> <span class="pl-en">cpufreq_governor_dbs</span>(<span class="pl-k">struct</span> cpufreq_policy *policy,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R84" data-line-number="84"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				<span class="pl-k">unsigned</span> <span class="pl-k">int</span> event);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R85" data-line-number="85"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R86" data-line-number="86"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">ifndef</span> CONFIG_CPU_FREQ_DEFAULT_GOV_electrodemand</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R87" data-line-number="87"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R88" data-line-number="88"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">endif</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R89" data-line-number="89"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">struct</span> cpufreq_governor cpufreq_gov_electrodemand = {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R90" data-line-number="90"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+       .<span class="pl-smi">name</span>                   = <span class="pl-s"><span class="pl-pds">&quot;</span>electrodemand<span class="pl-pds">&quot;</span></span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R91" data-line-number="91"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+       .<span class="pl-smi">governor</span>               = cpufreq_governor_dbs,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R92" data-line-number="92"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+       .<span class="pl-smi">max_transition_latency</span> = TRANSITION_LATENCY_LIMIT,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R93" data-line-number="93"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+       .<span class="pl-smi">owner</span>                  = THIS_MODULE,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R94" data-line-number="94"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+};</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R95" data-line-number="95"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R96" data-line-number="96"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">/* Sampling types */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R97" data-line-number="97"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">enum</span> {DBS_NORMAL_SAMPLE, DBS_SUB_SAMPLE};</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R98" data-line-number="98"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R99" data-line-number="99"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">struct</span> cpu_dbs_info_s {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R100" data-line-number="100"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">cputime64_t</span> prev_cpu_idle;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R101" data-line-number="101"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">cputime64_t</span> prev_cpu_iowait;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R102" data-line-number="102"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">cputime64_t</span> prev_cpu_wall;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R103" data-line-number="103"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> prev_cpu_wall_delta;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R104" data-line-number="104"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">cputime64_t</span> prev_cpu_nice;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R105" data-line-number="105"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> cpufreq_policy *cur_policy;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R106" data-line-number="106"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> delayed_work work;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R107" data-line-number="107"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> cpufreq_frequency_table *freq_table;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R108" data-line-number="108"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> freq_lo;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R109" data-line-number="109"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> freq_lo_jiffies;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R110" data-line-number="110"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> freq_hi_jiffies;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R111" data-line-number="111"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> rate_mult;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R112" data-line-number="112"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> load_at_prev_sample;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R113" data-line-number="113"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> cpu;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R114" data-line-number="114"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> sample_type:<span class="pl-c1">1</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R115" data-line-number="115"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R116" data-line-number="116"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 * percpu mutex that serializes governor limit change with</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R117" data-line-number="117"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 * do_dbs_timer invocation. We do not want do_dbs_timer to run</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R118" data-line-number="118"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 * when user is changing the governor or limits.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R119" data-line-number="119"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R120" data-line-number="120"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> mutex timer_mutex;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R121" data-line-number="121"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">bool</span> activated; <span class="pl-c">/* dbs_timer_init is in effect */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R122" data-line-number="122"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+};</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R123" data-line-number="123"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-en">DEFINE_PER_CPU</span>(<span class="pl-k">struct</span> cpu_dbs_info_s, od_cpu_dbs_info);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R124" data-line-number="124"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R125" data-line-number="125"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">unsigned</span> <span class="pl-k">int</span> dbs_enable;	<span class="pl-c">/* number of CPUs using this policy */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R126" data-line-number="126"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R127" data-line-number="127"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R128" data-line-number="128"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * dbs_mutex protects dbs_enable in governor start/stop.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R129" data-line-number="129"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R130" data-line-number="130"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-en">DEFINE_MUTEX</span>(dbs_mutex);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R131" data-line-number="131"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R132" data-line-number="132"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">struct</span> dbs_tuners {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R133" data-line-number="133"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> sampling_rate;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R134" data-line-number="134"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> up_threshold;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R135" data-line-number="135"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> up_threshold_min_freq;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R136" data-line-number="136"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> down_differential;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R137" data-line-number="137"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> micro_freq_up_threshold;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R138" data-line-number="138"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> ignore_nice;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R139" data-line-number="139"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> sampling_down_factor;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R140" data-line-number="140"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> powersave_bias;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R141" data-line-number="141"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> io_is_busy;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R142" data-line-number="142"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> boosted;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R143" data-line-number="143"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> freq_boost_time;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R144" data-line-number="144"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> boostfreq;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R145" data-line-number="145"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> freq_step;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R146" data-line-number="146"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> freq_responsiveness;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R147" data-line-number="147"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R148" data-line-number="148"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+} dbs_tuners_ins = {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R149" data-line-number="149"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">up_threshold</span> = DEF_FREQUENCY_UP_THRESHOLD,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R150" data-line-number="150"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">up_threshold_min_freq</span> = UP_THRESHOLD_AT_MIN_FREQ,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R151" data-line-number="151"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">sampling_down_factor</span> = DEF_SAMPLING_DOWN_FACTOR,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R152" data-line-number="152"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">down_differential</span> = DEF_FREQUENCY_DOWN_DIFFERENTIAL,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R153" data-line-number="153"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">micro_freq_up_threshold</span> = MICRO_FREQUENCY_UP_THRESHOLD,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R154" data-line-number="154"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">ignore_nice</span> = <span class="pl-c1">0</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R155" data-line-number="155"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">powersave_bias</span> = <span class="pl-c1">0</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R156" data-line-number="156"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">freq_boost_time</span> = DEFAULT_FREQ_BOOST_TIME,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R157" data-line-number="157"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">boostfreq</span> = <span class="pl-c1">2265600</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R158" data-line-number="158"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">freq_step</span> = FREQ_STEP,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R159" data-line-number="159"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">freq_responsiveness</span> = FREQ_FOR_RESPONSIVENESS</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R160" data-line-number="160"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+};</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R161" data-line-number="161"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R162" data-line-number="162"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">unsigned</span> <span class="pl-k">int</span> dbs_enable = <span class="pl-c1">0</span>;	<span class="pl-c">/* number of CPUs using this policy */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R163" data-line-number="163"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R164" data-line-number="164"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">inline</span> <span class="pl-c1">cputime64_t</span> <span class="pl-en">get_cpu_iowait_time</span>(<span class="pl-k">unsigned</span> <span class="pl-k">int</span> cpu, <span class="pl-c1">cputime64_t</span> *wall)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R165" data-line-number="165"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R166" data-line-number="166"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	u64 iowait_time = <span class="pl-c1">get_cpu_iowait_time_us</span>(cpu, wall);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R167" data-line-number="167"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R168" data-line-number="168"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (iowait_time == -<span class="pl-c1">1ULL</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R169" data-line-number="169"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R170" data-line-number="170"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R171" data-line-number="171"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> iowait_time;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R172" data-line-number="172"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R173" data-line-number="173"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R174" data-line-number="174"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R175" data-line-number="175"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * Find right sampling rate based on sampling_rate and</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R176" data-line-number="176"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * QoS requests on dvfs latency.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R177" data-line-number="177"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R178" data-line-number="178"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">unsigned</span> <span class="pl-k">int</span> <span class="pl-en">effective_sampling_rate</span>(<span class="pl-k">void</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R179" data-line-number="179"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R180" data-line-number="180"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> effective;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R181" data-line-number="181"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R182" data-line-number="182"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		effective = dbs_tuners_ins.<span class="pl-smi">sampling_rate</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R183" data-line-number="183"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R184" data-line-number="184"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> <span class="pl-c1">max</span>(effective, min_sampling_rate);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R185" data-line-number="185"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R186" data-line-number="186"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R187" data-line-number="187"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R188" data-line-number="188"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * Find right freq to be set now with powersave_bias on.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R189" data-line-number="189"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * Returns the freq_hi to be used right now and will set freq_hi_jiffies,</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R190" data-line-number="190"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * freq_lo, and freq_lo_jiffies in percpu area for averaging freqs.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R191" data-line-number="191"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R192" data-line-number="192"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">unsigned</span> <span class="pl-k">int</span> <span class="pl-en">powersave_bias_target</span>(<span class="pl-k">struct</span> cpufreq_policy *policy,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R193" data-line-number="193"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+					  <span class="pl-k">unsigned</span> <span class="pl-k">int</span> freq_next,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R194" data-line-number="194"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+					  <span class="pl-k">unsigned</span> <span class="pl-k">int</span> relation)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R195" data-line-number="195"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R196" data-line-number="196"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> freq_req, freq_reduc, freq_avg;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R197" data-line-number="197"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> freq_hi, freq_lo;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R198" data-line-number="198"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> <span class="pl-c1">index</span> = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R199" data-line-number="199"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> jiffies_total, jiffies_hi, jiffies_lo;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R200" data-line-number="200"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> cpu_dbs_info_s *dbs_info = &amp;<span class="pl-c1">per_cpu</span>(od_cpu_dbs_info,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R201" data-line-number="201"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+						   policy-&gt;cpu);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R202" data-line-number="202"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R203" data-line-number="203"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (!dbs_info-&gt;freq_table) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R204" data-line-number="204"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		dbs_info-&gt;freq_lo = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R205" data-line-number="205"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		dbs_info-&gt;freq_lo_jiffies = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R206" data-line-number="206"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> freq_next;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R207" data-line-number="207"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R208" data-line-number="208"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R209" data-line-number="209"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">cpufreq_frequency_table_target</span>(policy, dbs_info-&gt;freq_table, freq_next,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R210" data-line-number="210"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			relation, &amp;<span class="pl-c1">index</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R211" data-line-number="211"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	freq_req = dbs_info-&gt;freq_table[<span class="pl-c1">index</span>].<span class="pl-smi">frequency</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R212" data-line-number="212"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	freq_reduc = freq_req * dbs_tuners_ins.<span class="pl-smi">powersave_bias</span> / <span class="pl-c1">1000</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R213" data-line-number="213"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	freq_avg = freq_req - freq_reduc;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R214" data-line-number="214"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R215" data-line-number="215"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c">/* Find freq bounds for freq_avg in freq_table */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R216" data-line-number="216"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">index</span> = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R217" data-line-number="217"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">cpufreq_frequency_table_target</span>(policy, dbs_info-&gt;freq_table, freq_avg,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R218" data-line-number="218"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			CPUFREQ_RELATION_H, &amp;<span class="pl-c1">index</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R219" data-line-number="219"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	freq_lo = dbs_info-&gt;freq_table[<span class="pl-c1">index</span>].<span class="pl-smi">frequency</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R220" data-line-number="220"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">index</span> = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R221" data-line-number="221"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">cpufreq_frequency_table_target</span>(policy, dbs_info-&gt;freq_table, freq_avg,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R222" data-line-number="222"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			CPUFREQ_RELATION_L, &amp;<span class="pl-c1">index</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R223" data-line-number="223"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	freq_hi = dbs_info-&gt;freq_table[<span class="pl-c1">index</span>].<span class="pl-smi">frequency</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R224" data-line-number="224"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R225" data-line-number="225"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c">/* Find out how long we have to be in hi and lo freqs */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R226" data-line-number="226"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (freq_hi == freq_lo) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R227" data-line-number="227"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		dbs_info-&gt;freq_lo = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R228" data-line-number="228"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		dbs_info-&gt;freq_lo_jiffies = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R229" data-line-number="229"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> freq_lo;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R230" data-line-number="230"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R231" data-line-number="231"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	jiffies_total = <span class="pl-c1">usecs_to_jiffies</span>(<span class="pl-c1">effective_sampling_rate</span>());</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R232" data-line-number="232"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	jiffies_hi = (freq_avg - freq_lo) * jiffies_total;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R233" data-line-number="233"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	jiffies_hi += ((freq_hi - freq_lo) / <span class="pl-c1">2</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R234" data-line-number="234"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	jiffies_hi /= (freq_hi - freq_lo);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R235" data-line-number="235"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	jiffies_lo = jiffies_total - jiffies_hi;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R236" data-line-number="236"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	dbs_info-&gt;freq_lo = freq_lo;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R237" data-line-number="237"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	dbs_info-&gt;freq_lo_jiffies = jiffies_lo;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R238" data-line-number="238"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	dbs_info-&gt;freq_hi_jiffies = jiffies_hi;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R239" data-line-number="239"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> freq_hi;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R240" data-line-number="240"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R241" data-line-number="241"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R242" data-line-number="242"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">void</span> <span class="pl-en">electrodemand_powersave_bias_init_cpu</span>(<span class="pl-k">int</span> cpu)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R243" data-line-number="243"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R244" data-line-number="244"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> cpu_dbs_info_s *dbs_info = &amp;<span class="pl-c1">per_cpu</span>(od_cpu_dbs_info, cpu);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R245" data-line-number="245"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	dbs_info-&gt;freq_table = <span class="pl-c1">cpufreq_frequency_get_table</span>(cpu);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R246" data-line-number="246"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	dbs_info-&gt;freq_lo = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R247" data-line-number="247"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R248" data-line-number="248"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R249" data-line-number="249"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">void</span> <span class="pl-en">electrodemand_powersave_bias_init</span>(<span class="pl-k">void</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R250" data-line-number="250"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R251" data-line-number="251"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> i;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R252" data-line-number="252"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">for_each_online_cpu</span>(i) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R253" data-line-number="253"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">electrodemand_powersave_bias_init_cpu</span>(i);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R254" data-line-number="254"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R255" data-line-number="255"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R256" data-line-number="256"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R257" data-line-number="257"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">/************************** sysfs interface ************************/</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R258" data-line-number="258"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R259" data-line-number="259"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">show_sampling_rate_min</span>(<span class="pl-k">struct</span> kobject *kobj,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R260" data-line-number="260"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				      <span class="pl-k">struct</span> attribute *attr, <span class="pl-k">char</span> *buf)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R261" data-line-number="261"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R262" data-line-number="262"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> <span class="pl-c1">sprintf</span>(buf, <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%u</span><span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>, min_sampling_rate);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R263" data-line-number="263"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R264" data-line-number="264"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R265" data-line-number="265"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">define_one_global_ro</span>(sampling_rate_min);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R266" data-line-number="266"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R267" data-line-number="267"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">/* cpufreq_electrodemand_power Governor Tunables */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R268" data-line-number="268"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">show_one</span>(<span class="pl-v">file_name, object</span>)					\</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R269" data-line-number="269"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> show_##file_name						\</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R270" data-line-number="270"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+(<span class="pl-k">struct</span> kobject *kobj, <span class="pl-k">struct</span> attribute *attr, <span class="pl-k">char</span> *buf)              \</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R271" data-line-number="271"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{									\</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R272" data-line-number="272"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> <span class="pl-c1">sprintf</span>(buf, <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%u</span><span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>, dbs_tuners_ins.<span class="pl-smi">object</span>);		\</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R273" data-line-number="273"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R274" data-line-number="274"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">show_one</span>(sampling_rate, sampling_rate);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R275" data-line-number="275"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">show_one</span>(io_is_busy, io_is_busy);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R276" data-line-number="276"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">show_one</span>(up_threshold, up_threshold);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R277" data-line-number="277"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">show_one</span>(up_threshold_min_freq, up_threshold_min_freq);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R278" data-line-number="278"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">show_one</span>(sampling_down_factor, sampling_down_factor);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R279" data-line-number="279"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">show_one</span>(ignore_nice_load, ignore_nice);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R280" data-line-number="280"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">show_one</span>(powersave_bias, powersave_bias);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R281" data-line-number="281"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">show_one</span>(micro_freq_up_threshold, micro_freq_up_threshold);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R282" data-line-number="282"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">show_one</span>(down_differential, down_differential);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R283" data-line-number="283"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">show_one</span>(boostpulse, boosted);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R284" data-line-number="284"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">show_one</span>(boostfreq, boostfreq);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R285" data-line-number="285"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">show_one</span>(freq_step, freq_step);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R286" data-line-number="286"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">show_one</span>(freq_responsiveness, freq_responsiveness);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R287" data-line-number="287"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R288" data-line-number="288"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">/**</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R289" data-line-number="289"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * update_sampling_rate - update sampling rate effective immediately if needed.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R290" data-line-number="290"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * @new_rate: new sampling rate. If it is 0, regard sampling rate is not</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R291" data-line-number="291"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> *		changed and assume that qos request value is changed.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R292" data-line-number="292"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> *</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R293" data-line-number="293"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * If new rate is smaller than the old, simply updaing</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R294" data-line-number="294"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * dbs_tuners_int.sampling_rate might not be appropriate. For example,</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R295" data-line-number="295"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * if the original sampling_rate was 1 second and the requested new sampling</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R296" data-line-number="296"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * rate is 10 ms because the user needs immediate reaction from ondemand</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R297" data-line-number="297"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * governor, but not sure if higher frequency will be required or not,</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R298" data-line-number="298"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * then, the governor may change the sampling rate too late; up to 1 second</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R299" data-line-number="299"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * later. Thus, if we are reducing the sampling rate, we need to make the</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R300" data-line-number="300"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * new value effective immediately.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R301" data-line-number="301"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R302" data-line-number="302"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">void</span> <span class="pl-en">update_sampling_rate</span>(<span class="pl-k">unsigned</span> <span class="pl-k">int</span> new_rate)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R303" data-line-number="303"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R304" data-line-number="304"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> cpu;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R305" data-line-number="305"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> effective;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R306" data-line-number="306"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R307" data-line-number="307"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (new_rate)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R308" data-line-number="308"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		dbs_tuners_ins.<span class="pl-smi">sampling_rate</span> = <span class="pl-c1">max</span>(new_rate, min_sampling_rate);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R309" data-line-number="309"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R310" data-line-number="310"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	effective = <span class="pl-c1">effective_sampling_rate</span>();</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R311" data-line-number="311"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R312" data-line-number="312"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">get_online_cpus</span>();</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R313" data-line-number="313"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">for_each_online_cpu</span>(cpu) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R314" data-line-number="314"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">struct</span> cpufreq_policy *policy;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R315" data-line-number="315"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">struct</span> cpu_dbs_info_s *dbs_info;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R316" data-line-number="316"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">unsigned</span> <span class="pl-k">long</span> next_sampling, appointed_at;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R317" data-line-number="317"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R318" data-line-number="318"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R319" data-line-number="319"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * mutex_destory(&amp;dbs_info-&gt;timer_mutex) should not happen</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R320" data-line-number="320"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * in this context. dbs_mutex is locked/unlocked at GOV_START</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R321" data-line-number="321"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * and GOV_STOP context only other than here.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R322" data-line-number="322"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R323" data-line-number="323"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">mutex_lock</span>(&amp;dbs_mutex);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R324" data-line-number="324"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R325" data-line-number="325"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		policy = <span class="pl-c1">cpufreq_cpu_get</span>(cpu);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R326" data-line-number="326"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (!policy) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R327" data-line-number="327"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c1">mutex_unlock</span>(&amp;dbs_mutex);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R328" data-line-number="328"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">continue</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R329" data-line-number="329"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R330" data-line-number="330"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		dbs_info = &amp;<span class="pl-c1">per_cpu</span>(od_cpu_dbs_info, policy-&gt;cpu);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R331" data-line-number="331"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">cpufreq_cpu_put</span>(policy);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R332" data-line-number="332"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R333" data-line-number="333"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c">/* timer_mutex is destroyed or will be destroyed soon */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R334" data-line-number="334"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (!dbs_info-&gt;activated) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R335" data-line-number="335"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c1">mutex_unlock</span>(&amp;dbs_mutex);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R336" data-line-number="336"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">continue</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R337" data-line-number="337"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R338" data-line-number="338"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R339" data-line-number="339"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">mutex_lock</span>(&amp;dbs_info-&gt;timer_mutex);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R340" data-line-number="340"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R341" data-line-number="341"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (!<span class="pl-c1">delayed_work_pending</span>(&amp;dbs_info-&gt;work)) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R342" data-line-number="342"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c1">mutex_unlock</span>(&amp;dbs_info-&gt;timer_mutex);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R343" data-line-number="343"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c1">mutex_unlock</span>(&amp;dbs_mutex);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R344" data-line-number="344"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">continue</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R345" data-line-number="345"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R346" data-line-number="346"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R347" data-line-number="347"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		next_sampling = jiffies + <span class="pl-c1">usecs_to_jiffies</span>(new_rate);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R348" data-line-number="348"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		appointed_at = dbs_info-&gt;work.<span class="pl-smi">timer</span>.<span class="pl-smi">expires</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R349" data-line-number="349"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R350" data-line-number="350"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (<span class="pl-c1">time_before</span>(next_sampling, appointed_at)) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R351" data-line-number="351"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c1">mutex_unlock</span>(&amp;dbs_info-&gt;timer_mutex);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R352" data-line-number="352"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c1">cancel_delayed_work_sync</span>(&amp;dbs_info-&gt;work);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R353" data-line-number="353"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c1">mutex_lock</span>(&amp;dbs_info-&gt;timer_mutex);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R354" data-line-number="354"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R355" data-line-number="355"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c1">schedule_delayed_work_on</span>(dbs_info-&gt;cpu, &amp;dbs_info-&gt;work,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R356" data-line-number="356"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+						 <span class="pl-c1">usecs_to_jiffies</span>(effective));</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R357" data-line-number="357"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R358" data-line-number="358"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">mutex_unlock</span>(&amp;dbs_info-&gt;timer_mutex);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R359" data-line-number="359"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R360" data-line-number="360"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R361" data-line-number="361"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * For the little possiblity that dbs_timer_exit() has been</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R362" data-line-number="362"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * called after checking dbs_info-&gt;activated above.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R363" data-line-number="363"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * If cancel_delayed_work_syn() has been calld by</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R364" data-line-number="364"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * dbs_timer_exit() before schedule_delayed_work_on() of this</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R365" data-line-number="365"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * function, it should be revoked by calling cancel again</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R366" data-line-number="366"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * before releasing dbs_mutex, which will trigger mutex_destroy</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R367" data-line-number="367"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * to be called.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R368" data-line-number="368"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R369" data-line-number="369"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (!dbs_info-&gt;activated)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R370" data-line-number="370"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c1">cancel_delayed_work_sync</span>(&amp;dbs_info-&gt;work);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R371" data-line-number="371"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R372" data-line-number="372"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">mutex_unlock</span>(&amp;dbs_mutex);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R373" data-line-number="373"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R374" data-line-number="374"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">put_online_cpus</span>();</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R375" data-line-number="375"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R376" data-line-number="376"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R377" data-line-number="377"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">store_boostpulse</span>(<span class="pl-k">struct</span> kobject *kobj, <span class="pl-k">struct</span> attribute *attr,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R378" data-line-number="378"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				<span class="pl-k">const</span> <span class="pl-k">char</span> *buf, <span class="pl-c1">size_t</span> count)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R379" data-line-number="379"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R380" data-line-number="380"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R381" data-line-number="381"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R382" data-line-number="382"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R383" data-line-number="383"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	ret = <span class="pl-c1">sscanf</span>(buf, <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%u</span><span class="pl-pds">&quot;</span></span>, &amp;input);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R384" data-line-number="384"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (ret &lt; <span class="pl-c1">0</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R385" data-line-number="385"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R386" data-line-number="386"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R387" data-line-number="387"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (input &gt; <span class="pl-c1">1</span> &amp;&amp; input &lt;= MAX_FREQ_BOOST_TIME)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R388" data-line-number="388"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		dbs_tuners_ins.<span class="pl-smi">freq_boost_time</span> = input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R389" data-line-number="389"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">else</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R390" data-line-number="390"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		dbs_tuners_ins.<span class="pl-smi">freq_boost_time</span> = DEFAULT_FREQ_BOOST_TIME;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R391" data-line-number="391"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R392" data-line-number="392"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	dbs_tuners_ins.<span class="pl-smi">boosted</span> = <span class="pl-c1">1</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R393" data-line-number="393"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	electrodemand_freq_boosted_time = <span class="pl-c1">ktime_to_us</span>(<span class="pl-c1">ktime_get</span>());</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R394" data-line-number="394"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R395" data-line-number="395"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (electrodemand_sampling_rate_boosted) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R396" data-line-number="396"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		electrodemand_sampling_rate_boosted = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R397" data-line-number="397"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		dbs_tuners_ins.<span class="pl-smi">sampling_rate</span> = electrodemand_current_sampling_rate;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R398" data-line-number="398"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R399" data-line-number="399"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> count;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R400" data-line-number="400"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R401" data-line-number="401"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R402" data-line-number="402"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">store_boostfreq</span>(<span class="pl-k">struct</span> kobject *a, <span class="pl-k">struct</span> attribute *b,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R403" data-line-number="403"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				   <span class="pl-k">const</span> <span class="pl-k">char</span> *buf, <span class="pl-c1">size_t</span> count)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R404" data-line-number="404"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R405" data-line-number="405"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R406" data-line-number="406"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R407" data-line-number="407"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R408" data-line-number="408"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	ret = <span class="pl-c1">sscanf</span>(buf, <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%u</span><span class="pl-pds">&quot;</span></span>, &amp;input);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R409" data-line-number="409"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (ret != <span class="pl-c1">1</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R410" data-line-number="410"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> -EINVAL;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R411" data-line-number="411"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R412" data-line-number="412"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	dbs_tuners_ins.<span class="pl-smi">boostfreq</span> = input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R413" data-line-number="413"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> count;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R414" data-line-number="414"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R415" data-line-number="415"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R416" data-line-number="416"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">store_sampling_rate</span>(<span class="pl-k">struct</span> kobject *a, <span class="pl-k">struct</span> attribute *b,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R417" data-line-number="417"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				   <span class="pl-k">const</span> <span class="pl-k">char</span> *buf, <span class="pl-c1">size_t</span> count)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R418" data-line-number="418"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R419" data-line-number="419"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R420" data-line-number="420"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R421" data-line-number="421"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R422" data-line-number="422"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	ret = <span class="pl-c1">sscanf</span>(buf, <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%u</span><span class="pl-pds">&quot;</span></span>, &amp;input);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R423" data-line-number="423"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (ret != <span class="pl-c1">1</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R424" data-line-number="424"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> -EINVAL;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R425" data-line-number="425"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R426" data-line-number="426"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">update_sampling_rate</span>(input);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R427" data-line-number="427"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	electrodemand_current_sampling_rate = dbs_tuners_ins.<span class="pl-smi">sampling_rate</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R428" data-line-number="428"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R429" data-line-number="429"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> count;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R430" data-line-number="430"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R431" data-line-number="431"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R432" data-line-number="432"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">/* io_is_busy */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R433" data-line-number="433"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">store_io_is_busy</span>(<span class="pl-k">struct</span> kobject *a, <span class="pl-k">struct</span> attribute *b,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R434" data-line-number="434"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				<span class="pl-k">const</span> <span class="pl-k">char</span> *buf, <span class="pl-c1">size_t</span> count)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R435" data-line-number="435"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R436" data-line-number="436"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R437" data-line-number="437"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R438" data-line-number="438"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R439" data-line-number="439"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	ret = <span class="pl-c1">sscanf</span>(buf, <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%u</span><span class="pl-pds">&quot;</span></span>, &amp;input);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R440" data-line-number="440"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (ret != <span class="pl-c1">1</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R441" data-line-number="441"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> -EINVAL;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R442" data-line-number="442"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R443" data-line-number="443"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	dbs_tuners_ins.<span class="pl-smi">io_is_busy</span> = !!input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R444" data-line-number="444"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R445" data-line-number="445"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> count;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R446" data-line-number="446"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R447" data-line-number="447"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R448" data-line-number="448"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">store_up_threshold</span>(<span class="pl-k">struct</span> kobject *a, <span class="pl-k">struct</span> attribute *b,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R449" data-line-number="449"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				  <span class="pl-k">const</span> <span class="pl-k">char</span> *buf, <span class="pl-c1">size_t</span> count)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R450" data-line-number="450"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R451" data-line-number="451"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R452" data-line-number="452"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R453" data-line-number="453"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R454" data-line-number="454"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	ret = <span class="pl-c1">sscanf</span>(buf, <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%u</span><span class="pl-pds">&quot;</span></span>, &amp;input);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R455" data-line-number="455"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (ret != <span class="pl-c1">1</span> || input &gt; MAX_FREQUENCY_UP_THRESHOLD ||</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R456" data-line-number="456"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			input &lt; MIN_FREQUENCY_UP_THRESHOLD) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R457" data-line-number="457"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> -EINVAL;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R458" data-line-number="458"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R459" data-line-number="459"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	dbs_tuners_ins.<span class="pl-smi">up_threshold</span> = input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R460" data-line-number="460"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R461" data-line-number="461"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> count;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R462" data-line-number="462"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R463" data-line-number="463"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R464" data-line-number="464"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">store_micro_freq_up_threshold</span>(<span class="pl-k">struct</span> kobject *a,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R465" data-line-number="465"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">struct</span> attribute *b, <span class="pl-k">const</span> <span class="pl-k">char</span> *buf, <span class="pl-c1">size_t</span> count)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R466" data-line-number="466"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R467" data-line-number="467"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R468" data-line-number="468"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R469" data-line-number="469"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R470" data-line-number="470"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	ret = <span class="pl-c1">sscanf</span>(buf, <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%u</span><span class="pl-pds">&quot;</span></span>, &amp;input);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R471" data-line-number="471"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (ret != <span class="pl-c1">1</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R472" data-line-number="472"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> -EINVAL;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R473" data-line-number="473"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	dbs_tuners_ins.<span class="pl-smi">micro_freq_up_threshold</span> = input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R474" data-line-number="474"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> count;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R475" data-line-number="475"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R476" data-line-number="476"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R477" data-line-number="477"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">store_down_differential</span>(<span class="pl-k">struct</span> kobject *a, <span class="pl-k">struct</span> attribute *b,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R478" data-line-number="478"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				<span class="pl-k">const</span> <span class="pl-k">char</span> *buf, <span class="pl-c1">size_t</span> count)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R479" data-line-number="479"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R480" data-line-number="480"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R481" data-line-number="481"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R482" data-line-number="482"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R483" data-line-number="483"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	ret = <span class="pl-c1">sscanf</span>(buf, <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%u</span><span class="pl-pds">&quot;</span></span>, &amp;input);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R484" data-line-number="484"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (ret != <span class="pl-c1">1</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R485" data-line-number="485"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> -EINVAL;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R486" data-line-number="486"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R487" data-line-number="487"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	dbs_tuners_ins.<span class="pl-smi">down_differential</span> = <span class="pl-c1">min</span>(input, <span class="pl-c1">100u</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R488" data-line-number="488"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R489" data-line-number="489"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> count;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R490" data-line-number="490"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R491" data-line-number="491"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R492" data-line-number="492"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">store_up_threshold_min_freq</span>(<span class="pl-k">struct</span> kobject *a, <span class="pl-k">struct</span> attribute *b,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R493" data-line-number="493"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				  <span class="pl-k">const</span> <span class="pl-k">char</span> *buf, <span class="pl-c1">size_t</span> count)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R494" data-line-number="494"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R495" data-line-number="495"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R496" data-line-number="496"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R497" data-line-number="497"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R498" data-line-number="498"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	ret = <span class="pl-c1">sscanf</span>(buf, <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%u</span><span class="pl-pds">&quot;</span></span>, &amp;input);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R499" data-line-number="499"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (ret != <span class="pl-c1">1</span> || input &gt; MAX_FREQUENCY_UP_THRESHOLD ||</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R500" data-line-number="500"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			input &lt; MIN_FREQUENCY_UP_THRESHOLD) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R501" data-line-number="501"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> -EINVAL;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R502" data-line-number="502"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R503" data-line-number="503"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	dbs_tuners_ins.<span class="pl-smi">up_threshold_min_freq</span> = input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R504" data-line-number="504"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R505" data-line-number="505"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> count;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R506" data-line-number="506"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R507" data-line-number="507"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R508" data-line-number="508"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">store_sampling_down_factor</span>(<span class="pl-k">struct</span> kobject *a,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R509" data-line-number="509"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">struct</span> attribute *b, <span class="pl-k">const</span> <span class="pl-k">char</span> *buf, <span class="pl-c1">size_t</span> count)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R510" data-line-number="510"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R511" data-line-number="511"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> input, j;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R512" data-line-number="512"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R513" data-line-number="513"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R514" data-line-number="514"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	ret = <span class="pl-c1">sscanf</span>(buf, <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%u</span><span class="pl-pds">&quot;</span></span>, &amp;input);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R515" data-line-number="515"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (ret != <span class="pl-c1">1</span> || input &gt; MAX_SAMPLING_DOWN_FACTOR || input &lt; <span class="pl-c1">1</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R516" data-line-number="516"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> -EINVAL;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R517" data-line-number="517"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R518" data-line-number="518"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	dbs_tuners_ins.<span class="pl-smi">sampling_down_factor</span> = input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R519" data-line-number="519"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R520" data-line-number="520"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c">/* Reset down sampling multiplier in case it was active */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R521" data-line-number="521"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">for_each_online_cpu</span>(j) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R522" data-line-number="522"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">struct</span> cpu_dbs_info_s *dbs_info;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R523" data-line-number="523"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		dbs_info = &amp;<span class="pl-c1">per_cpu</span>(od_cpu_dbs_info, j);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R524" data-line-number="524"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		dbs_info-&gt;rate_mult = <span class="pl-c1">1</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R525" data-line-number="525"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R526" data-line-number="526"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> count;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R527" data-line-number="527"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R528" data-line-number="528"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R529" data-line-number="529"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">/* ignore_nice_load */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R530" data-line-number="530"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">store_ignore_nice_load</span>(<span class="pl-k">struct</span> kobject *a, <span class="pl-k">struct</span> attribute *b,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R531" data-line-number="531"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				      <span class="pl-k">const</span> <span class="pl-k">char</span> *buf, <span class="pl-c1">size_t</span> count)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R532" data-line-number="532"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R533" data-line-number="533"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R534" data-line-number="534"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R535" data-line-number="535"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> j;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R536" data-line-number="536"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R537" data-line-number="537"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	ret = <span class="pl-c1">sscanf</span>(buf, <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%u</span><span class="pl-pds">&quot;</span></span>, &amp;input);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R538" data-line-number="538"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (ret != <span class="pl-c1">1</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R539" data-line-number="539"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> -EINVAL;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R540" data-line-number="540"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R541" data-line-number="541"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (input &gt; <span class="pl-c1">1</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R542" data-line-number="542"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		input = <span class="pl-c1">1</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R543" data-line-number="543"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R544" data-line-number="544"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (input == dbs_tuners_ins.<span class="pl-smi">ignore_nice</span>) {<span class="pl-c">/* nothing to do */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R545" data-line-number="545"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> count;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R546" data-line-number="546"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R547" data-line-number="547"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	dbs_tuners_ins.<span class="pl-smi">ignore_nice</span> = input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R548" data-line-number="548"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R549" data-line-number="549"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c">/* we need to re-evaluate prev_cpu_idle */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R550" data-line-number="550"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">for_each_online_cpu</span>(j) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R551" data-line-number="551"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">struct</span> cpu_dbs_info_s *dbs_info;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R552" data-line-number="552"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		dbs_info = &amp;<span class="pl-c1">per_cpu</span>(od_cpu_dbs_info, j);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R553" data-line-number="553"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		dbs_info-&gt;prev_cpu_idle = <span class="pl-c1">get_cpu_idle_time</span>(j,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R554" data-line-number="554"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+						&amp;dbs_info-&gt;prev_cpu_wall, <span class="pl-c1">0</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R555" data-line-number="555"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (dbs_tuners_ins.<span class="pl-smi">ignore_nice</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R556" data-line-number="556"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			dbs_info-&gt;prev_cpu_nice = <span class="pl-c1">kcpustat_cpu</span>(j).<span class="pl-smi">cpustat</span>[CPUTIME_NICE];</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R557" data-line-number="557"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R558" data-line-number="558"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> count;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R559" data-line-number="559"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R560" data-line-number="560"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R561" data-line-number="561"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">store_powersave_bias</span>(<span class="pl-k">struct</span> kobject *a, <span class="pl-k">struct</span> attribute *b,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R562" data-line-number="562"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				    <span class="pl-k">const</span> <span class="pl-k">char</span> *buf, <span class="pl-c1">size_t</span> count)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R563" data-line-number="563"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R564" data-line-number="564"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R565" data-line-number="565"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R566" data-line-number="566"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R567" data-line-number="567"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	ret = <span class="pl-c1">sscanf</span>(buf, <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%u</span><span class="pl-pds">&quot;</span></span>, &amp;input);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R568" data-line-number="568"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (ret != <span class="pl-c1">1</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R569" data-line-number="569"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> -EINVAL;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R570" data-line-number="570"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R571" data-line-number="571"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (input &gt; <span class="pl-c1">1000</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R572" data-line-number="572"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		input = <span class="pl-c1">1000</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R573" data-line-number="573"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R574" data-line-number="574"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	dbs_tuners_ins.<span class="pl-smi">powersave_bias</span> = input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R575" data-line-number="575"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">electrodemand_powersave_bias_init</span>();</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R576" data-line-number="576"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R577" data-line-number="577"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> count;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R578" data-line-number="578"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R579" data-line-number="579"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R580" data-line-number="580"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">store_freq_step</span>(<span class="pl-k">struct</span> kobject *a, <span class="pl-k">struct</span> attribute *b,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R581" data-line-number="581"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				   <span class="pl-k">const</span> <span class="pl-k">char</span> *buf, <span class="pl-c1">size_t</span> count)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R582" data-line-number="582"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R583" data-line-number="583"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R584" data-line-number="584"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R585" data-line-number="585"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R586" data-line-number="586"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	ret = <span class="pl-c1">sscanf</span>(buf, <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%u</span><span class="pl-pds">&quot;</span></span>, &amp;input);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R587" data-line-number="587"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (ret != <span class="pl-c1">1</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R588" data-line-number="588"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> -EINVAL;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R589" data-line-number="589"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R590" data-line-number="590"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	dbs_tuners_ins.<span class="pl-smi">freq_step</span> = <span class="pl-c1">min</span>(input, <span class="pl-c1">100u</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R591" data-line-number="591"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> count;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R592" data-line-number="592"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R593" data-line-number="593"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R594" data-line-number="594"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">store_freq_responsiveness</span>(<span class="pl-k">struct</span> kobject *a, <span class="pl-k">struct</span> attribute *b,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R595" data-line-number="595"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				<span class="pl-k">const</span> <span class="pl-k">char</span> *buf, <span class="pl-c1">size_t</span> count)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R596" data-line-number="596"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R597" data-line-number="597"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R598" data-line-number="598"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R599" data-line-number="599"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R600" data-line-number="600"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	ret = <span class="pl-c1">sscanf</span>(buf, <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%u</span><span class="pl-pds">&quot;</span></span>, &amp;input);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R601" data-line-number="601"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (ret != <span class="pl-c1">1</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R602" data-line-number="602"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> -EINVAL;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R603" data-line-number="603"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R604" data-line-number="604"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (input &gt; <span class="pl-c1">2803200</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R605" data-line-number="605"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		input = <span class="pl-c1">2803200</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R606" data-line-number="606"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R607" data-line-number="607"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (input &lt; <span class="pl-c1">96000</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R608" data-line-number="608"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		input = <span class="pl-c1">96000</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R609" data-line-number="609"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R610" data-line-number="610"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	dbs_tuners_ins.<span class="pl-smi">freq_responsiveness</span> = input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R611" data-line-number="611"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R612" data-line-number="612"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> count;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R613" data-line-number="613"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R614" data-line-number="614"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R615" data-line-number="615"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">define_one_global_rw</span>(sampling_rate);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R616" data-line-number="616"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">define_one_global_rw</span>(io_is_busy);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R617" data-line-number="617"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">define_one_global_rw</span>(up_threshold);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R618" data-line-number="618"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">define_one_global_rw</span>(up_threshold_min_freq);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R619" data-line-number="619"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">define_one_global_rw</span>(sampling_down_factor);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R620" data-line-number="620"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">define_one_global_rw</span>(ignore_nice_load);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R621" data-line-number="621"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">define_one_global_rw</span>(powersave_bias);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R622" data-line-number="622"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">define_one_global_rw</span>(down_differential);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R623" data-line-number="623"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">define_one_global_rw</span>(micro_freq_up_threshold);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R624" data-line-number="624"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">define_one_global_rw</span>(boostpulse);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R625" data-line-number="625"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">define_one_global_rw</span>(boostfreq);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R626" data-line-number="626"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">define_one_global_rw</span>(freq_step);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R627" data-line-number="627"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">define_one_global_rw</span>(freq_responsiveness);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R628" data-line-number="628"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R629" data-line-number="629"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">struct</span> attribute *dbs_attributes[] = {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R630" data-line-number="630"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;sampling_rate_min.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R631" data-line-number="631"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;sampling_rate.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R632" data-line-number="632"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;up_threshold.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R633" data-line-number="633"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;up_threshold_min_freq.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R634" data-line-number="634"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;sampling_down_factor.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R635" data-line-number="635"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;ignore_nice_load.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R636" data-line-number="636"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;powersave_bias.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R637" data-line-number="637"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;io_is_busy.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R638" data-line-number="638"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;down_differential.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R639" data-line-number="639"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;micro_freq_up_threshold.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R640" data-line-number="640"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;boostpulse.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R641" data-line-number="641"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;boostfreq.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R642" data-line-number="642"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;freq_step.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R643" data-line-number="643"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;freq_responsiveness.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R644" data-line-number="644"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">NULL</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R645" data-line-number="645"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+};</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R646" data-line-number="646"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R647" data-line-number="647"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">struct</span> attribute_group dbs_attr_group = {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R648" data-line-number="648"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">attrs</span> = dbs_attributes,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R649" data-line-number="649"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">name</span> = <span class="pl-s"><span class="pl-pds">&quot;</span>electrodemand<span class="pl-pds">&quot;</span></span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R650" data-line-number="650"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+};</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R651" data-line-number="651"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R652" data-line-number="652"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">/************************** sysfs end ************************/</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R653" data-line-number="653"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R654" data-line-number="654"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">void</span> <span class="pl-en">dbs_freq_increase</span>(<span class="pl-k">struct</span> cpufreq_policy *p, <span class="pl-k">unsigned</span> <span class="pl-k">int</span> freq)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R655" data-line-number="655"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R656" data-line-number="656"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (dbs_tuners_ins.<span class="pl-smi">powersave_bias</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R657" data-line-number="657"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		freq = <span class="pl-c1">powersave_bias_target</span>(p, freq, CPUFREQ_RELATION_H);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R658" data-line-number="658"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">else</span> <span class="pl-k">if</span> (p-&gt;cur == p-&gt;max)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R659" data-line-number="659"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R660" data-line-number="660"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R661" data-line-number="661"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">__cpufreq_driver_target</span>(p, freq, dbs_tuners_ins.<span class="pl-smi">powersave_bias</span> ?</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R662" data-line-number="662"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			CPUFREQ_RELATION_L : CPUFREQ_RELATION_H);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R663" data-line-number="663"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R664" data-line-number="664"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R665" data-line-number="665"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">void</span> <span class="pl-en">dbs_check_cpu</span>(<span class="pl-k">struct</span> cpu_dbs_info_s *this_dbs_info)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R666" data-line-number="666"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R667" data-line-number="667"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c">/* Extrapolated load of this CPU */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R668" data-line-number="668"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> load_at_max_freq = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R669" data-line-number="669"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> avg_load_at_max_freq = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R670" data-line-number="670"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> max_load_freq;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R671" data-line-number="671"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c">/* Current load across this CPU */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R672" data-line-number="672"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> cur_load = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R673" data-line-number="673"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R674" data-line-number="674"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> cpufreq_policy *policy;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R675" data-line-number="675"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> cpu_dbs_info_s *j_dbs_info;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R676" data-line-number="676"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> j = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R677" data-line-number="677"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> up_threshold = dbs_tuners_ins.<span class="pl-smi">up_threshold</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R678" data-line-number="678"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R679" data-line-number="679"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	this_dbs_info-&gt;freq_lo = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R680" data-line-number="680"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	policy = this_dbs_info-&gt;cur_policy;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R681" data-line-number="681"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	j_dbs_info = &amp;<span class="pl-c1">per_cpu</span>(od_cpu_dbs_info, j);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R682" data-line-number="682"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R683" data-line-number="683"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c">/* Only core0 controls the boost */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R684" data-line-number="684"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (dbs_tuners_ins.<span class="pl-smi">boosted</span> &amp;&amp; policy-&gt;cpu == <span class="pl-c1">0</span>) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R685" data-line-number="685"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (<span class="pl-c1">ktime_to_us</span>(<span class="pl-c1">ktime_get</span>()) - electrodemand_freq_boosted_time &gt;=</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R686" data-line-number="686"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+					dbs_tuners_ins.<span class="pl-smi">freq_boost_time</span>) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R687" data-line-number="687"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			dbs_tuners_ins.<span class="pl-smi">boosted</span> = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R688" data-line-number="688"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R689" data-line-number="689"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R690" data-line-number="690"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R691" data-line-number="691"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c">/* Only core0 controls the timer_rate */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R692" data-line-number="692"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (electrodemand_sampling_rate_boosted &amp;&amp; policy-&gt;cpu == <span class="pl-c1">0</span>) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R693" data-line-number="693"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (<span class="pl-c1">ktime_to_us</span>(<span class="pl-c1">ktime_get</span>()) - electrodemand_sampling_rate_boosted_time &gt;=</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R694" data-line-number="694"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+					TIMER_RATE_BOOST_TIME) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R695" data-line-number="695"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R696" data-line-number="696"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			dbs_tuners_ins.<span class="pl-smi">sampling_rate</span> = electrodemand_current_sampling_rate;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R697" data-line-number="697"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			electrodemand_sampling_rate_boosted = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R698" data-line-number="698"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R699" data-line-number="699"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R700" data-line-number="700"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R701" data-line-number="701"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R702" data-line-number="702"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 * Every sampling_rate, we check, if current idle time is less</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R703" data-line-number="703"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 * than 20% (default), then we try to increase frequency</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R704" data-line-number="704"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 * Every sampling_rate, we look for a the lowest</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R705" data-line-number="705"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 * frequency which can sustain the load while keeping idle time over</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R706" data-line-number="706"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 * 30%. If such a frequency exist, we try to decrease to this frequency.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R707" data-line-number="707"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 *</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R708" data-line-number="708"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 * Any frequency increase takes it to the maximum frequency.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R709" data-line-number="709"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 * Frequency reduction happens at minimum steps of</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R710" data-line-number="710"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 * 5% (default) of current frequency</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R711" data-line-number="711"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R712" data-line-number="712"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R713" data-line-number="713"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c">/* Get Absolute Load - in terms of freq */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R714" data-line-number="714"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	max_load_freq = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R715" data-line-number="715"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R716" data-line-number="716"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">for_each_cpu</span>(j, policy-&gt;cpus) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R717" data-line-number="717"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">cputime64_t</span> cur_wall_time, cur_idle_time, cur_iowait_time;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R718" data-line-number="718"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">unsigned</span> <span class="pl-k">int</span> idle_time, wall_time, iowait_time;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R719" data-line-number="719"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">unsigned</span> <span class="pl-k">int</span> load_freq;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R720" data-line-number="720"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">int</span> freq_avg;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R721" data-line-number="721"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">bool</span> deep_sleep_detected = <span class="pl-c1">false</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R722" data-line-number="722"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c">/* the evil magic numbers, only 2 at least */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R723" data-line-number="723"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">const</span> <span class="pl-k">unsigned</span> <span class="pl-k">int</span> deep_sleep_backoff = <span class="pl-c1">10</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R724" data-line-number="724"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">const</span> <span class="pl-k">unsigned</span> <span class="pl-k">int</span> deep_sleep_factor = <span class="pl-c1">5</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R725" data-line-number="725"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R726" data-line-number="726"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		j_dbs_info = &amp;<span class="pl-c1">per_cpu</span>(od_cpu_dbs_info, j);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R727" data-line-number="727"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R728" data-line-number="728"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		cur_idle_time = <span class="pl-c1">get_cpu_idle_time</span>(j, &amp;cur_wall_time, <span class="pl-c1">0</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R729" data-line-number="729"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		cur_iowait_time = <span class="pl-c1">get_cpu_iowait_time</span>(j, &amp;cur_wall_time);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R730" data-line-number="730"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R731" data-line-number="731"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		wall_time = (<span class="pl-k">unsigned</span> <span class="pl-k">int</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R732" data-line-number="732"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			(cur_wall_time - j_dbs_info-&gt;prev_cpu_wall);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R733" data-line-number="733"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		j_dbs_info-&gt;prev_cpu_wall = cur_wall_time;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R734" data-line-number="734"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R735" data-line-number="735"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R736" data-line-number="736"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * Ignore wall delta jitters in both directions.  An</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R737" data-line-number="737"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * exceptionally long wall_time will likely result</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R738" data-line-number="738"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * idle but it was waken up to do work so the next</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R739" data-line-number="739"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * slice is less likely to want to run at low</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R740" data-line-number="740"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * frequency. Let&#39;s evaluate the next slice instead of</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R741" data-line-number="741"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * the idle long one that passed already and it&#39;s too</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R742" data-line-number="742"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * late to reduce in frequency.  As opposed an</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R743" data-line-number="743"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * exceptionally short slice that just run at low</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R744" data-line-number="744"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * frequency is unlikely to be idle, but we may go</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R745" data-line-number="745"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * back to idle pretty soon and that not idle slice</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R746" data-line-number="746"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * already passed. If short slices will keep coming</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R747" data-line-number="747"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * after a series of long slices the exponential</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R748" data-line-number="748"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * backoff will converge faster and we&#39;ll react faster</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R749" data-line-number="749"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * to high load. As opposed we&#39;ll decay slower</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R750" data-line-number="750"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * towards low load and long idle times.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R751" data-line-number="751"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R752" data-line-number="752"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (j_dbs_info-&gt;prev_cpu_wall_delta &gt;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R753" data-line-number="753"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		    wall_time * deep_sleep_factor ||</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R754" data-line-number="754"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		    j_dbs_info-&gt;prev_cpu_wall_delta * deep_sleep_factor &lt;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R755" data-line-number="755"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		    wall_time)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R756" data-line-number="756"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			deep_sleep_detected = <span class="pl-c1">true</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R757" data-line-number="757"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		j_dbs_info-&gt;prev_cpu_wall_delta =</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R758" data-line-number="758"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			(j_dbs_info-&gt;prev_cpu_wall_delta * deep_sleep_backoff</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R759" data-line-number="759"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			 + wall_time) / (deep_sleep_backoff+<span class="pl-c1">1</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R760" data-line-number="760"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R761" data-line-number="761"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		idle_time = (<span class="pl-k">unsigned</span> <span class="pl-k">int</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R762" data-line-number="762"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			(cur_idle_time - j_dbs_info-&gt;prev_cpu_idle);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R763" data-line-number="763"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		j_dbs_info-&gt;prev_cpu_idle = cur_idle_time;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R764" data-line-number="764"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R765" data-line-number="765"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		iowait_time = (<span class="pl-k">unsigned</span> <span class="pl-k">int</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R766" data-line-number="766"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			(cur_iowait_time - j_dbs_info-&gt;prev_cpu_iowait);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R767" data-line-number="767"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		j_dbs_info-&gt;prev_cpu_iowait = cur_iowait_time;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R768" data-line-number="768"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R769" data-line-number="769"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (dbs_tuners_ins.<span class="pl-smi">ignore_nice</span>) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R770" data-line-number="770"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			u64 cur_nice;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R771" data-line-number="771"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">unsigned</span> <span class="pl-k">long</span> cur_nice_jiffies;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R772" data-line-number="772"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R773" data-line-number="773"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			cur_nice = <span class="pl-c1">kcpustat_cpu</span>(j).<span class="pl-smi">cpustat</span>[CPUTIME_NICE] -</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R774" data-line-number="774"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+					 j_dbs_info-&gt;prev_cpu_nice;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R775" data-line-number="775"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R776" data-line-number="776"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">			 * Assumption: nice time between sampling periods will</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R777" data-line-number="777"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">			 * be less than 2^32 jiffies for 32 bit sys</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R778" data-line-number="778"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">			 */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R779" data-line-number="779"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			cur_nice_jiffies = (<span class="pl-k">unsigned</span> <span class="pl-k">long</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R780" data-line-number="780"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+					<span class="pl-c1">cputime64_to_jiffies64</span>(cur_nice);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R781" data-line-number="781"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R782" data-line-number="782"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			j_dbs_info-&gt;prev_cpu_nice = <span class="pl-c1">kcpustat_cpu</span>(j).<span class="pl-smi">cpustat</span>[CPUTIME_NICE];</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R783" data-line-number="783"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			idle_time += <span class="pl-c1">jiffies_to_usecs</span>(cur_nice_jiffies);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R784" data-line-number="784"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R785" data-line-number="785"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R786" data-line-number="786"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (deep_sleep_detected)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R787" data-line-number="787"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">continue</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R788" data-line-number="788"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R789" data-line-number="789"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R790" data-line-number="790"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * For the purpose of this, waiting for disk IO is an</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R791" data-line-number="791"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * indication that you&#39;re performance critical, and not that</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R792" data-line-number="792"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * the system is actually idle. So subtract the iowait time</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R793" data-line-number="793"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * from the cpu idle time.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R794" data-line-number="794"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R795" data-line-number="795"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R796" data-line-number="796"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (dbs_tuners_ins.<span class="pl-smi">io_is_busy</span> &amp;&amp; idle_time &gt;= iowait_time)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R797" data-line-number="797"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			idle_time -= iowait_time;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R798" data-line-number="798"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R799" data-line-number="799"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (<span class="pl-c1">unlikely</span>(!wall_time || wall_time &lt; idle_time))</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R800" data-line-number="800"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">continue</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R801" data-line-number="801"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R802" data-line-number="802"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		cur_load = <span class="pl-c1">100</span> * (wall_time - idle_time) / wall_time;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R803" data-line-number="803"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R804" data-line-number="804"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		freq_avg = <span class="pl-c1">__cpufreq_driver_getavg</span>(policy, j);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R805" data-line-number="805"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (freq_avg &lt;= <span class="pl-c1">0</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R806" data-line-number="806"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			freq_avg = policy-&gt;cur;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R807" data-line-number="807"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R808" data-line-number="808"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		load_freq = cur_load * freq_avg;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R809" data-line-number="809"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (load_freq &gt; max_load_freq)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R810" data-line-number="810"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			max_load_freq = load_freq;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R811" data-line-number="811"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R812" data-line-number="812"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c">/* calculate the scaled load across CPU */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R813" data-line-number="813"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		load_at_max_freq += (cur_load * policy-&gt;cur) /</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R814" data-line-number="814"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+					policy-&gt;cpuinfo.<span class="pl-smi">max_freq</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R815" data-line-number="815"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R816" data-line-number="816"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		avg_load_at_max_freq += ((load_at_max_freq +</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R817" data-line-number="817"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				j_dbs_info-&gt;load_at_prev_sample) / <span class="pl-c1">2</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R818" data-line-number="818"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R819" data-line-number="819"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		j_dbs_info-&gt;load_at_prev_sample = load_at_max_freq;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R820" data-line-number="820"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R821" data-line-number="821"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R822" data-line-number="822"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (dbs_tuners_ins.<span class="pl-smi">sampling_rate</span> &lt; DEFAULT_SAMPLING_RATE)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R823" data-line-number="823"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">cpufreq_notify_utilization</span>(policy, avg_load_at_max_freq);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R824" data-line-number="824"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">else</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R825" data-line-number="825"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">cpufreq_notify_utilization</span>(policy, load_at_max_freq);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R826" data-line-number="826"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R827" data-line-number="827"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c">/* Check for frequency increase */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R828" data-line-number="828"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (policy-&gt;cur &lt; dbs_tuners_ins.<span class="pl-smi">freq_responsiveness</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R829" data-line-number="829"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			up_threshold = dbs_tuners_ins.<span class="pl-smi">up_threshold_min_freq</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R830" data-line-number="830"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R831" data-line-number="831"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (max_load_freq &gt; up_threshold * policy-&gt;cur) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R832" data-line-number="832"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">int</span> inc = (policy-&gt;max * dbs_tuners_ins.<span class="pl-smi">freq_step</span>) / <span class="pl-c1">100</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R833" data-line-number="833"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">int</span> target = <span class="pl-c1">min</span>(policy-&gt;max, policy-&gt;cur + inc);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R834" data-line-number="834"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R835" data-line-number="835"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c">/* If switching to max speed, apply sampling_down_factor */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R836" data-line-number="836"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (policy-&gt;cur &lt; policy-&gt;max &amp;&amp; target == policy-&gt;max) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R837" data-line-number="837"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">if</span> (electrodemand_sampling_rate_boosted &amp;&amp;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R838" data-line-number="838"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				(dbs_tuners_ins.<span class="pl-smi">sampling_down_factor</span> &lt;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R839" data-line-number="839"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+					BOOSTED_SAMPLING_DOWN_FACTOR)) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R840" data-line-number="840"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				this_dbs_info-&gt;rate_mult =</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R841" data-line-number="841"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+					BOOSTED_SAMPLING_DOWN_FACTOR;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R842" data-line-number="842"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			} <span class="pl-k">else</span> {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R843" data-line-number="843"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				this_dbs_info-&gt;rate_mult =</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R844" data-line-number="844"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+					dbs_tuners_ins.<span class="pl-smi">sampling_down_factor</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R845" data-line-number="845"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R846" data-line-number="846"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R847" data-line-number="847"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">dbs_freq_increase</span>(policy, target);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R848" data-line-number="848"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R849" data-line-number="849"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R850" data-line-number="850"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R851" data-line-number="851"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c">/* check for frequency boost */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R852" data-line-number="852"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (dbs_tuners_ins.<span class="pl-smi">boosted</span> &amp;&amp; policy-&gt;cur &lt; dbs_tuners_ins.<span class="pl-smi">boostfreq</span>) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R853" data-line-number="853"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">dbs_freq_increase</span>(policy, dbs_tuners_ins.<span class="pl-smi">boostfreq</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R854" data-line-number="854"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		dbs_tuners_ins.<span class="pl-smi">boostfreq</span> = policy-&gt;cur;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R855" data-line-number="855"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R856" data-line-number="856"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R857" data-line-number="857"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R858" data-line-number="858"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c">/* Check for frequency decrease */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R859" data-line-number="859"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c">/* if we cannot reduce the frequency anymore, break out early */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R860" data-line-number="860"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (policy-&gt;cur == policy-&gt;min)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R861" data-line-number="861"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R862" data-line-number="862"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R863" data-line-number="863"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R864" data-line-number="864"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 * The optimal frequency is the frequency that is the lowest that</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R865" data-line-number="865"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 * can support the current CPU usage without triggering the up</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R866" data-line-number="866"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 * policy. To be safe, we focus 10 points under the threshold.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R867" data-line-number="867"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R868" data-line-number="868"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (max_load_freq &lt;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R869" data-line-number="869"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	    (dbs_tuners_ins.<span class="pl-smi">up_threshold</span> - dbs_tuners_ins.<span class="pl-smi">down_differential</span>) *</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R870" data-line-number="870"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			policy-&gt;cur) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R871" data-line-number="871"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">unsigned</span> <span class="pl-k">int</span> freq_next;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R872" data-line-number="872"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">unsigned</span> <span class="pl-k">int</span> down_thres;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R873" data-line-number="873"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R874" data-line-number="874"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		freq_next = max_load_freq /</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R875" data-line-number="875"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				(dbs_tuners_ins.<span class="pl-smi">up_threshold</span> -</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R876" data-line-number="876"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+					dbs_tuners_ins.<span class="pl-smi">down_differential</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R877" data-line-number="877"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R878" data-line-number="878"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (dbs_tuners_ins.<span class="pl-smi">boosted</span> &amp;&amp;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R879" data-line-number="879"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				freq_next &lt; dbs_tuners_ins.<span class="pl-smi">boostfreq</span>) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R880" data-line-number="880"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			freq_next = dbs_tuners_ins.<span class="pl-smi">boostfreq</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R881" data-line-number="881"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R882" data-line-number="882"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c">/* No longer fully busy, reset rate_mult */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R883" data-line-number="883"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		this_dbs_info-&gt;rate_mult = <span class="pl-c1">1</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R884" data-line-number="884"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R885" data-line-number="885"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (freq_next &lt; policy-&gt;min)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R886" data-line-number="886"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			freq_next = policy-&gt;min;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R887" data-line-number="887"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R888" data-line-number="888"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		down_thres = dbs_tuners_ins.<span class="pl-smi">up_threshold_min_freq</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R889" data-line-number="889"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			- dbs_tuners_ins.<span class="pl-smi">down_differential</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R890" data-line-number="890"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R891" data-line-number="891"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (freq_next &lt; dbs_tuners_ins.<span class="pl-smi">freq_responsiveness</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R892" data-line-number="892"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			&amp;&amp; (max_load_freq / freq_next) &gt; down_thres)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R893" data-line-number="893"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			freq_next = dbs_tuners_ins.<span class="pl-smi">freq_responsiveness</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R894" data-line-number="894"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R895" data-line-number="895"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (!dbs_tuners_ins.<span class="pl-smi">powersave_bias</span>) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R896" data-line-number="896"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c1">__cpufreq_driver_target</span>(policy, freq_next,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R897" data-line-number="897"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+					CPUFREQ_RELATION_L);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R898" data-line-number="898"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		} <span class="pl-k">else</span> {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R899" data-line-number="899"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">int</span> freq = <span class="pl-c1">powersave_bias_target</span>(policy, freq_next,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R900" data-line-number="900"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+					CPUFREQ_RELATION_L);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R901" data-line-number="901"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c1">__cpufreq_driver_target</span>(policy, freq,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R902" data-line-number="902"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				CPUFREQ_RELATION_L);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R903" data-line-number="903"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R904" data-line-number="904"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R905" data-line-number="905"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R906" data-line-number="906"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R907" data-line-number="907"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">void</span> <span class="pl-en">do_dbs_timer</span>(<span class="pl-k">struct</span> work_struct *work)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R908" data-line-number="908"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R909" data-line-number="909"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> cpu_dbs_info_s *dbs_info =</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R910" data-line-number="910"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">container_of</span>(work, <span class="pl-k">struct</span> cpu_dbs_info_s, work.<span class="pl-smi">work</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R911" data-line-number="911"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> cpu = dbs_info-&gt;cpu;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R912" data-line-number="912"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> sample_type = dbs_info-&gt;sample_type;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R913" data-line-number="913"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R914" data-line-number="914"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> delay;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R915" data-line-number="915"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R916" data-line-number="916"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">mutex_lock</span>(&amp;dbs_info-&gt;timer_mutex);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R917" data-line-number="917"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R918" data-line-number="918"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c">/* Common NORMAL_SAMPLE setup */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R919" data-line-number="919"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	dbs_info-&gt;sample_type = DBS_NORMAL_SAMPLE;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R920" data-line-number="920"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (!dbs_tuners_ins.<span class="pl-smi">powersave_bias</span> ||</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R921" data-line-number="921"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	    sample_type == DBS_NORMAL_SAMPLE) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R922" data-line-number="922"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">dbs_check_cpu</span>(dbs_info);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R923" data-line-number="923"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (dbs_info-&gt;freq_lo) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R924" data-line-number="924"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c">/* Setup timer for SUB_SAMPLE */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R925" data-line-number="925"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			dbs_info-&gt;sample_type = DBS_SUB_SAMPLE;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R926" data-line-number="926"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			delay = dbs_info-&gt;freq_hi_jiffies;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R927" data-line-number="927"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		} <span class="pl-k">else</span> {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R928" data-line-number="928"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c">/* We want all CPUs to do sampling nearly on</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R929" data-line-number="929"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">			 * same jiffy</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R930" data-line-number="930"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">			 */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R931" data-line-number="931"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			delay = <span class="pl-c1">usecs_to_jiffies</span>(<span class="pl-c1">effective_sampling_rate</span>()</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R932" data-line-number="932"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				* dbs_info-&gt;rate_mult);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R933" data-line-number="933"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R934" data-line-number="934"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">if</span> (<span class="pl-c1">num_online_cpus</span>() &gt; <span class="pl-c1">1</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R935" data-line-number="935"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				delay -= jiffies % delay;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R936" data-line-number="936"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R937" data-line-number="937"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	} <span class="pl-k">else</span> {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R938" data-line-number="938"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">__cpufreq_driver_target</span>(dbs_info-&gt;cur_policy,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R939" data-line-number="939"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			dbs_info-&gt;freq_lo, CPUFREQ_RELATION_H);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R940" data-line-number="940"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		delay = dbs_info-&gt;freq_lo_jiffies;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R941" data-line-number="941"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R942" data-line-number="942"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">schedule_delayed_work_on</span>(cpu, &amp;dbs_info-&gt;work, delay);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R943" data-line-number="943"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">mutex_unlock</span>(&amp;dbs_info-&gt;timer_mutex);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R944" data-line-number="944"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R945" data-line-number="945"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R946" data-line-number="946"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">inline</span> <span class="pl-k">void</span> <span class="pl-en">dbs_timer_init</span>(<span class="pl-k">struct</span> cpu_dbs_info_s *dbs_info)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R947" data-line-number="947"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R948" data-line-number="948"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c">/* We want all CPUs to do sampling nearly on same jiffy */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R949" data-line-number="949"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> delay = <span class="pl-c1">usecs_to_jiffies</span>(<span class="pl-c1">effective_sampling_rate</span>());</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R950" data-line-number="950"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R951" data-line-number="951"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (<span class="pl-c1">num_online_cpus</span>() &gt; <span class="pl-c1">1</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R952" data-line-number="952"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		delay -= jiffies % delay;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R953" data-line-number="953"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R954" data-line-number="954"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	dbs_info-&gt;sample_type = DBS_NORMAL_SAMPLE;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R955" data-line-number="955"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">INIT_DEFERRABLE_WORK</span>(&amp;dbs_info-&gt;work, do_dbs_timer);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R956" data-line-number="956"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">schedule_delayed_work_on</span>(dbs_info-&gt;cpu, &amp;dbs_info-&gt;work, <span class="pl-c1">10</span> * delay);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R957" data-line-number="957"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	dbs_info-&gt;activated = <span class="pl-c1">true</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R958" data-line-number="958"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R959" data-line-number="959"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R960" data-line-number="960"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">inline</span> <span class="pl-k">void</span> <span class="pl-en">dbs_timer_exit</span>(<span class="pl-k">struct</span> cpu_dbs_info_s *dbs_info)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R961" data-line-number="961"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R962" data-line-number="962"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	dbs_info-&gt;activated = <span class="pl-c1">false</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R963" data-line-number="963"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">cancel_delayed_work_sync</span>(&amp;dbs_info-&gt;work);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R964" data-line-number="964"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R965" data-line-number="965"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R966" data-line-number="966"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R967" data-line-number="967"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * Not all CPUs want IO time to be accounted as busy; this dependson how</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R968" data-line-number="968"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * efficient idling at a higher frequency/voltage is.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R969" data-line-number="969"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * Pavel Machek says this is not so for various generations of AMD and old</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R970" data-line-number="970"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * Intel systems.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R971" data-line-number="971"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * Mike Chan (androidlcom) calis this is also not true for ARM.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R972" data-line-number="972"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * Because of this, whitelist specific known (series) of CPUs by default, and</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R973" data-line-number="973"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * leave all others up to the user.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R974" data-line-number="974"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R975" data-line-number="975"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">int</span> <span class="pl-en">should_io_be_busy</span>(<span class="pl-k">void</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R976" data-line-number="976"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R977" data-line-number="977"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R978" data-line-number="978"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R979" data-line-number="979"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R980" data-line-number="980"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">int</span> <span class="pl-en">cpufreq_governor_dbs</span>(<span class="pl-k">struct</span> cpufreq_policy *policy,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R981" data-line-number="981"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				<span class="pl-k">unsigned</span> <span class="pl-k">int</span> event)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R982" data-line-number="982"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R983" data-line-number="983"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> cpu = policy-&gt;cpu;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R984" data-line-number="984"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> cpu_dbs_info_s *this_dbs_info;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R985" data-line-number="985"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> j;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R986" data-line-number="986"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> rc;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R987" data-line-number="987"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R988" data-line-number="988"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	this_dbs_info = &amp;<span class="pl-c1">per_cpu</span>(od_cpu_dbs_info, cpu);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R989" data-line-number="989"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R990" data-line-number="990"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">switch</span> (event) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R991" data-line-number="991"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">case</span> CPUFREQ_GOV_START:</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R992" data-line-number="992"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> ((!<span class="pl-c1">cpu_online</span>(cpu)) || (!policy-&gt;cur))</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R993" data-line-number="993"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">return</span> -EINVAL;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R994" data-line-number="994"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R995" data-line-number="995"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">mutex_lock</span>(&amp;dbs_mutex);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R996" data-line-number="996"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R997" data-line-number="997"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		dbs_enable++;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R998" data-line-number="998"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">for_each_cpu</span>(j, policy-&gt;cpus) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R999" data-line-number="999"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">struct</span> cpu_dbs_info_s *j_dbs_info;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1000" data-line-number="1000"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			j_dbs_info = &amp;<span class="pl-c1">per_cpu</span>(od_cpu_dbs_info, j);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1001" data-line-number="1001"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			j_dbs_info-&gt;cur_policy = policy;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1002" data-line-number="1002"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1003" data-line-number="1003"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			j_dbs_info-&gt;prev_cpu_idle = <span class="pl-c1">get_cpu_idle_time</span>(j,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1004" data-line-number="1004"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+						&amp;j_dbs_info-&gt;prev_cpu_wall, <span class="pl-c1">0</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1005" data-line-number="1005"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">if</span> (dbs_tuners_ins.<span class="pl-smi">ignore_nice</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1006" data-line-number="1006"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				j_dbs_info-&gt;prev_cpu_nice =</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1007" data-line-number="1007"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+						<span class="pl-c1">kcpustat_cpu</span>(j).<span class="pl-smi">cpustat</span>[CPUTIME_NICE];</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1008" data-line-number="1008"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1009" data-line-number="1009"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		this_dbs_info-&gt;cpu = cpu;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1010" data-line-number="1010"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		this_dbs_info-&gt;rate_mult = <span class="pl-c1">1</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1011" data-line-number="1011"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">electrodemand_powersave_bias_init_cpu</span>(cpu);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1012" data-line-number="1012"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1013" data-line-number="1013"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * Start the timerschedule work, when this governor</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1014" data-line-number="1014"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * is used for first time</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1015" data-line-number="1015"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1016" data-line-number="1016"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (dbs_enable == <span class="pl-c1">1</span>) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1017" data-line-number="1017"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">unsigned</span> <span class="pl-k">int</span> latency;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1018" data-line-number="1018"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1019" data-line-number="1019"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			rc = <span class="pl-c1">sysfs_create_group</span>(cpufreq_global_kobject,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1020" data-line-number="1020"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+						&amp;dbs_attr_group);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1021" data-line-number="1021"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">if</span> (rc) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1022" data-line-number="1022"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				<span class="pl-c1">mutex_unlock</span>(&amp;dbs_mutex);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1023" data-line-number="1023"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				<span class="pl-k">return</span> rc;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1024" data-line-number="1024"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1025" data-line-number="1025"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1026" data-line-number="1026"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c">/* policy latency is in nS. Convert it to uS first */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1027" data-line-number="1027"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			latency = policy-&gt;cpuinfo.<span class="pl-smi">transition_latency</span> / <span class="pl-c1">1000</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1028" data-line-number="1028"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">if</span> (latency == <span class="pl-c1">0</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1029" data-line-number="1029"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				latency = <span class="pl-c1">1</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1030" data-line-number="1030"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c">/* Bring kernel and HW constraints together */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1031" data-line-number="1031"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			min_sampling_rate = <span class="pl-c1">max</span>(min_sampling_rate,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1032" data-line-number="1032"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+					MIN_LATENCY_MULTIPLIER * latency);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1033" data-line-number="1033"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			dbs_tuners_ins.<span class="pl-smi">sampling_rate</span> =</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1034" data-line-number="1034"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				<span class="pl-c1">max</span>(min_sampling_rate,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1035" data-line-number="1035"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				    latency * LATENCY_MULTIPLIER);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1036" data-line-number="1036"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			dbs_tuners_ins.<span class="pl-smi">io_is_busy</span> = <span class="pl-c1">should_io_be_busy</span>();</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1037" data-line-number="1037"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1038" data-line-number="1038"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">mutex_unlock</span>(&amp;dbs_mutex);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1039" data-line-number="1039"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1040" data-line-number="1040"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">mutex_init</span>(&amp;this_dbs_info-&gt;timer_mutex);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1041" data-line-number="1041"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1042" data-line-number="1042"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">dbs_timer_init</span>(this_dbs_info);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1043" data-line-number="1043"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1044" data-line-number="1044"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">break</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1045" data-line-number="1045"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1046" data-line-number="1046"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">case</span> CPUFREQ_GOV_STOP:</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1047" data-line-number="1047"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">dbs_timer_exit</span>(this_dbs_info);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1048" data-line-number="1048"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1049" data-line-number="1049"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">mutex_lock</span>(&amp;dbs_mutex);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1050" data-line-number="1050"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">mutex_destroy</span>(&amp;this_dbs_info-&gt;timer_mutex);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1051" data-line-number="1051"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		dbs_enable--;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1052" data-line-number="1052"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1053" data-line-number="1053"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (!dbs_enable)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1054" data-line-number="1054"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c1">sysfs_remove_group</span>(cpufreq_global_kobject,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1055" data-line-number="1055"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+					   &amp;dbs_attr_group);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1056" data-line-number="1056"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">mutex_unlock</span>(&amp;dbs_mutex);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1057" data-line-number="1057"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1058" data-line-number="1058"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">break</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1059" data-line-number="1059"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1060" data-line-number="1060"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">case</span> CPUFREQ_GOV_LIMITS:</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1061" data-line-number="1061"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">mutex_lock</span>(&amp;this_dbs_info-&gt;timer_mutex);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1062" data-line-number="1062"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (policy-&gt;max &lt; this_dbs_info-&gt;cur_policy-&gt;cur)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1063" data-line-number="1063"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c1">__cpufreq_driver_target</span>(this_dbs_info-&gt;cur_policy,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1064" data-line-number="1064"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				policy-&gt;max, CPUFREQ_RELATION_H);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1065" data-line-number="1065"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">else</span> <span class="pl-k">if</span> (policy-&gt;min &gt; this_dbs_info-&gt;cur_policy-&gt;cur)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1066" data-line-number="1066"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c1">__cpufreq_driver_target</span>(this_dbs_info-&gt;cur_policy,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1067" data-line-number="1067"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				policy-&gt;min, CPUFREQ_RELATION_L);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1068" data-line-number="1068"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">dbs_check_cpu</span>(this_dbs_info);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1069" data-line-number="1069"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">mutex_unlock</span>(&amp;this_dbs_info-&gt;timer_mutex);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1070" data-line-number="1070"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1071" data-line-number="1071"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">break</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1072" data-line-number="1072"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1073" data-line-number="1073"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1074" data-line-number="1074"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1075" data-line-number="1075"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1076" data-line-number="1076"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">int</span> __init <span class="pl-en">cpufreq_gov_dbs_init</span>(<span class="pl-k">void</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1077" data-line-number="1077"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1078" data-line-number="1078"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">cputime64_t</span> wall;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1079" data-line-number="1079"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	u64 idle_time;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1080" data-line-number="1080"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> cpu = <span class="pl-c1">get_cpu</span>();</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1081" data-line-number="1081"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> err = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1082" data-line-number="1082"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1083" data-line-number="1083"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	idle_time = <span class="pl-c1">get_cpu_idle_time_us</span>(cpu, &amp;wall);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1084" data-line-number="1084"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">put_cpu</span>();</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1085" data-line-number="1085"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (idle_time != -<span class="pl-c1">1ULL</span>) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1086" data-line-number="1086"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c">/* Idle micro accounting is supported. Use finer thresholds */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1087" data-line-number="1087"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		dbs_tuners_ins.<span class="pl-smi">up_threshold</span> = dbs_tuners_ins.<span class="pl-smi">micro_freq_up_threshold</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1088" data-line-number="1088"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		dbs_tuners_ins.<span class="pl-smi">down_differential</span> =</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1089" data-line-number="1089"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+					MICRO_FREQUENCY_DOWN_DIFFERENTIAL;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1090" data-line-number="1090"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1091" data-line-number="1091"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * In no_hz/micro accounting case we set the minimum frequency</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1092" data-line-number="1092"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * not depending on HZ, but fixed (very low). The deferred</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1093" data-line-number="1093"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * timer might skip some samples if idle/sleeping as needed.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1094" data-line-number="1094"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		*/</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1095" data-line-number="1095"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		min_sampling_rate = MICRO_FREQUENCY_MIN_SAMPLE_RATE;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1096" data-line-number="1096"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	} <span class="pl-k">else</span> {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1097" data-line-number="1097"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c">/* For correct statistics, we need 10 ticks for each measure */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1098" data-line-number="1098"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		min_sampling_rate =</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1099" data-line-number="1099"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			MIN_SAMPLING_RATE_RATIO * <span class="pl-c1">jiffies_to_usecs</span>(<span class="pl-c1">10</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1100" data-line-number="1100"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1101" data-line-number="1101"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1102" data-line-number="1102"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	err = <span class="pl-c1">cpufreq_register_governor</span>(&amp;cpufreq_gov_electrodemand);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1103" data-line-number="1103"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (err) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1104" data-line-number="1104"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">goto</span> error_reg;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1105" data-line-number="1105"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1106" data-line-number="1106"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1107" data-line-number="1107"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> err;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1108" data-line-number="1108"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+error_reg:</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1109" data-line-number="1109"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">kfree</span>(&amp;dbs_tuners_ins);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1110" data-line-number="1110"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> err;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1111" data-line-number="1111"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1112" data-line-number="1112"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1113" data-line-number="1113"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">void</span> __exit <span class="pl-en">cpufreq_gov_dbs_exit</span>(<span class="pl-k">void</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1114" data-line-number="1114"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1115" data-line-number="1115"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">cpufreq_unregister_governor</span>(&amp;cpufreq_gov_electrodemand);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1116" data-line-number="1116"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">kfree</span>(&amp;dbs_tuners_ins);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1117" data-line-number="1117"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1118" data-line-number="1118"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1119" data-line-number="1119"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">MODULE_AUTHOR</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>Venkatesh Pallipadi &lt;venkatesh.pallipadi@intel.com&gt;<span class="pl-pds">&quot;</span></span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1120" data-line-number="1120"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">MODULE_AUTHOR</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>Alexey Starikovskiy &lt;alexey.y.starikovskiy@intel.com&gt;<span class="pl-pds">&quot;</span></span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1121" data-line-number="1121"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">MODULE_DESCRIPTION</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>&#39;cpufreq_electrodemand&#39; - A dynamic cpufreq governor for <span class="pl-pds">&quot;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1122" data-line-number="1122"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-s"><span class="pl-pds">&quot;</span>Low Latency Frequency Transition capable processors, based off of ondemand<span class="pl-pds">&quot;</span></span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1123" data-line-number="1123"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">MODULE_LICENSE</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>GPLv2<span class="pl-pds">&quot;</span></span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1124" data-line-number="1124"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1125" data-line-number="1125"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">ifdef</span> CONFIG_CPU_FREQ_DEFAULT_GOV_ELECTRODEMAND</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1126" data-line-number="1126"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">fs_initcall</span>(cpufreq_gov_dbs_init);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1127" data-line-number="1127"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">else</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1128" data-line-number="1128"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">module_init</span>(cpufreq_gov_dbs_init);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1129" data-line-number="1129"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">endif</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-8fb727323edd4c0a32ca4372b944b553R1130" data-line-number="1130"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">module_exit</span>(cpufreq_gov_dbs_exit);</span>

  </td>
</tr>



              </table>
            </div>
      </div>

      <a name="diff-1b12b91108319bb626968ca2df82ef03"></a>
      <div id="diff-16"
           class="file js-details-container
                   
                   
                   
                   
                   show-inline-notes
                 ">
        <div class="file-header" data-path="drivers/cpufreq/cpufreq_elementalx.c">
          <div class="file-actions">
              <span class="show-file-notes">
                <label>
                  <input type="checkbox" checked="checked" class="js-toggle-file-notes">
                  Show notes
                </label>
              </span>

                <a href="/Tkkg1994/StockKernel/blob/cbf17b4b432bfe962ae330d9a86f8ded47d33b22/drivers/cpufreq/cpufreq_elementalx.c" class="btn btn-sm tooltipped tooltipped-nw" rel="nofollow" aria-label="View the whole file at version cbf17b4 ">View</a>


          </div>
          <div class="file-info">
              <span class="diffstat tooltipped tooltipped-e" aria-label="589 additions &amp; 0 deletions">589 <span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span></span>

            <span class="user-select-contain" title="drivers/cpufreq/cpufreq_elementalx.c">
              drivers/cpufreq/cpufreq_elementalx.c
            </span>
            
          </div>
        </div>

            <div class="data highlight blob-wrapper">
              <table class="diff-table tab-size  " data-tab-size="8">
                
      <tr data-position="0">
    <td id="diff-1b12b91108319bb626968ca2df82ef03L-1" class="blob-num blob-num-hunk non-expandable" data-line-number="..."></td>
    <td id="diff-1b12b91108319bb626968ca2df82ef03R0" class="blob-num blob-num-hunk non-expandable" data-line-number="..."></td>
    <td class="blob-code blob-code-inner blob-code-hunk">@@ -0,0 +1,589 @@</td>
  </tr>

    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R1" data-line-number="1"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R2" data-line-number="2"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> *  drivers/cpufreq/cpufreq_elementalx.c</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R3" data-line-number="3"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> *</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R4" data-line-number="4"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> *  Copyright (C)  2001 Russell King</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R5" data-line-number="5"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> *            (C)  2003 Venkatesh Pallipadi &lt;venkatesh.pallipadi@intel.com&gt;</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R6" data-line-number="6"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> *                      Jun Nakajima &lt;jun.nakajima@intel.com&gt;</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R7" data-line-number="7"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> *            (C)  2015 Aaron Segaert &lt;asegaert@gmail.com&gt;</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R8" data-line-number="8"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> *</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R9" data-line-number="9"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * This program is free software; you can redistribute it and/or modify</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R10" data-line-number="10"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * it under the terms of the GNU General Public License version 2 as</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R11" data-line-number="11"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * published by the Free Software Foundation.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R12" data-line-number="12"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R13" data-line-number="13"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R14" data-line-number="14"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/slab.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R15" data-line-number="15"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/fb.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R16" data-line-number="16"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/msm_kgsl.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R17" data-line-number="17"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&quot;</span>cpufreq_governor.h<span class="pl-pds">&quot;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R18" data-line-number="18"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R19" data-line-number="19"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">/* elementalx governor macros */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R20" data-line-number="20"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">DEF_FREQUENCY_UP_THRESHOLD</span>		(<span class="pl-c1">90</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R21" data-line-number="21"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">DEF_FREQUENCY_DOWN_DIFFERENTIAL</span>		(<span class="pl-c1">20</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R22" data-line-number="22"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">DEF_ACTIVE_FLOOR_FREQ</span>			(<span class="pl-c1">960000</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R23" data-line-number="23"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">DEF_GBOOST_MIN_FREQ</span>			(<span class="pl-c1">1574400</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R24" data-line-number="24"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">DEF_MAX_SCREEN_OFF_FREQ</span>			(<span class="pl-c1">2265000</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R25" data-line-number="25"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">MIN_SAMPLING_RATE</span>			(<span class="pl-c1">10000</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R26" data-line-number="26"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">DEF_SAMPLING_DOWN_FACTOR</span>		(<span class="pl-c1">8</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R27" data-line-number="27"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">MAX_SAMPLING_DOWN_FACTOR</span>		(<span class="pl-c1">20</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R28" data-line-number="28"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">FREQ_NEED_BURST</span>(<span class="pl-v">x</span>)			(x &lt; <span class="pl-c1">600000</span> ? <span class="pl-c1">1</span> : <span class="pl-c1">0</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R29" data-line-number="29"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">MAX</span>(<span class="pl-v">x,y</span>)				(x &gt; y ? x : y)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R30" data-line-number="30"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">MIN</span>(<span class="pl-v">x,y</span>)				(x &lt; y ? x : y)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R31" data-line-number="31"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">TABLE_SIZE</span>				<span class="pl-c1">5</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R32" data-line-number="32"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R33" data-line-number="33"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-en">DEFINE_PER_CPU</span>(<span class="pl-k">struct</span> ex_cpu_dbs_info_s, ex_cpu_dbs_info);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R34" data-line-number="34"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R35" data-line-number="35"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">unsigned</span> <span class="pl-k">int</span> up_threshold_level[<span class="pl-c1">2</span>] __read_mostly = {<span class="pl-c1">95</span>, <span class="pl-c1">85</span>};</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R36" data-line-number="36"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">struct</span> cpufreq_frequency_table *tbl = <span class="pl-c1">NULL</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R37" data-line-number="37"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">unsigned</span> <span class="pl-k">int</span> *tblmap[TABLE_SIZE] __read_mostly;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R38" data-line-number="38"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">unsigned</span> <span class="pl-k">int</span> tbl_select[<span class="pl-c1">4</span>];</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R39" data-line-number="39"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R40" data-line-number="40"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">struct</span> ex_governor_data {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R41" data-line-number="41"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> active_floor_freq;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R42" data-line-number="42"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> max_screen_off_freq;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R43" data-line-number="43"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> prev_load;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R44" data-line-number="44"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> g_count;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R45" data-line-number="45"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">bool</span> suspended;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R46" data-line-number="46"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> notifier_block notif;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R47" data-line-number="47"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+} ex_data = {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R48" data-line-number="48"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">active_floor_freq</span> = DEF_ACTIVE_FLOOR_FREQ,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R49" data-line-number="49"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">max_screen_off_freq</span> = DEF_MAX_SCREEN_OFF_FREQ,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R50" data-line-number="50"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">prev_load</span> = <span class="pl-c1">0</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R51" data-line-number="51"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">g_count</span> = <span class="pl-c1">0</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R52" data-line-number="52"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">suspended</span> = <span class="pl-c1">false</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R53" data-line-number="53"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+};</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R54" data-line-number="54"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R55" data-line-number="55"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">void</span> <span class="pl-en">dbs_init_freq_map_table</span>(<span class="pl-k">void</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R56" data-line-number="56"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R57" data-line-number="57"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> min_diff, top1, top2;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R58" data-line-number="58"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> cnt, i, j;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R59" data-line-number="59"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> cpufreq_policy *policy;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R60" data-line-number="60"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R61" data-line-number="61"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	policy = <span class="pl-c1">cpufreq_cpu_get</span>(<span class="pl-c1">0</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R62" data-line-number="62"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	tbl = <span class="pl-c1">cpufreq_frequency_get_table</span>(<span class="pl-c1">0</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R63" data-line-number="63"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	min_diff = policy-&gt;cpuinfo.<span class="pl-smi">max_freq</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R64" data-line-number="64"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R65" data-line-number="65"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">for</span> (cnt = <span class="pl-c1">0</span>; (tbl[cnt].<span class="pl-smi">frequency</span> != CPUFREQ_TABLE_END); cnt++) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R66" data-line-number="66"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (cnt &gt; <span class="pl-c1">0</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R67" data-line-number="67"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			min_diff = <span class="pl-c1">MIN</span>(tbl[cnt].<span class="pl-smi">frequency</span> - tbl[cnt-<span class="pl-c1">1</span>].<span class="pl-smi">frequency</span>, min_diff);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R68" data-line-number="68"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R69" data-line-number="69"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R70" data-line-number="70"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	top1 = (policy-&gt;cpuinfo.<span class="pl-smi">max_freq</span> + policy-&gt;cpuinfo.<span class="pl-smi">min_freq</span>) / <span class="pl-c1">2</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R71" data-line-number="71"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	top2 = (policy-&gt;cpuinfo.<span class="pl-smi">max_freq</span> + top1) / <span class="pl-c1">2</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R72" data-line-number="72"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R73" data-line-number="73"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">for</span> (i = <span class="pl-c1">0</span>; i &lt; TABLE_SIZE; i++) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R74" data-line-number="74"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		tblmap[i] = <span class="pl-c1">kmalloc</span>(<span class="pl-k">sizeof</span>(<span class="pl-k">unsigned</span> <span class="pl-k">int</span>) * cnt, GFP_KERNEL);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R75" data-line-number="75"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">BUG_ON</span>(!tblmap[i]);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R76" data-line-number="76"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">for</span> (j = <span class="pl-c1">0</span>; j &lt; cnt; j++)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R77" data-line-number="77"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			tblmap[i][j] = tbl[j].<span class="pl-smi">frequency</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R78" data-line-number="78"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R79" data-line-number="79"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R80" data-line-number="80"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">for</span> (j = <span class="pl-c1">0</span>; j &lt; cnt; j++) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R81" data-line-number="81"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (tbl[j].<span class="pl-smi">frequency</span> &lt; top1) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R82" data-line-number="82"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			tblmap[<span class="pl-c1">0</span>][j] += <span class="pl-c1">MAX</span>((top1 - tbl[j].<span class="pl-smi">frequency</span>)/<span class="pl-c1">3</span>, min_diff);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R83" data-line-number="83"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R84" data-line-number="84"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R85" data-line-number="85"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (tbl[j].<span class="pl-smi">frequency</span> &lt; top2) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R86" data-line-number="86"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			tblmap[<span class="pl-c1">1</span>][j] += <span class="pl-c1">MAX</span>((top2 - tbl[j].<span class="pl-smi">frequency</span>)/<span class="pl-c1">3</span>, min_diff);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R87" data-line-number="87"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			tblmap[<span class="pl-c1">2</span>][j] += <span class="pl-c1">MAX</span>(((top2 - tbl[j].<span class="pl-smi">frequency</span>)*<span class="pl-c1">2</span>)/<span class="pl-c1">5</span>, min_diff);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R88" data-line-number="88"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			tblmap[<span class="pl-c1">3</span>][j] += <span class="pl-c1">MAX</span>((top2 - tbl[j].<span class="pl-smi">frequency</span>)/<span class="pl-c1">2</span>, min_diff);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R89" data-line-number="89"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		} <span class="pl-k">else</span> {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R90" data-line-number="90"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			tblmap[<span class="pl-c1">3</span>][j] += <span class="pl-c1">MAX</span>((policy-&gt;cpuinfo.<span class="pl-smi">max_freq</span> - tbl[j].<span class="pl-smi">frequency</span>)/<span class="pl-c1">3</span>, min_diff);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R91" data-line-number="91"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R92" data-line-number="92"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R93" data-line-number="93"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		tblmap[<span class="pl-c1">4</span>][j] += <span class="pl-c1">MAX</span>((policy-&gt;cpuinfo.<span class="pl-smi">max_freq</span> - tbl[j].<span class="pl-smi">frequency</span>)/<span class="pl-c1">2</span>, min_diff);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R94" data-line-number="94"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R95" data-line-number="95"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R96" data-line-number="96"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	tbl_select[<span class="pl-c1">0</span>] = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R97" data-line-number="97"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	tbl_select[<span class="pl-c1">1</span>] = <span class="pl-c1">1</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R98" data-line-number="98"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	tbl_select[<span class="pl-c1">2</span>] = <span class="pl-c1">2</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R99" data-line-number="99"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	tbl_select[<span class="pl-c1">3</span>] = <span class="pl-c1">4</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R100" data-line-number="100"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R101" data-line-number="101"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R102" data-line-number="102"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">void</span> <span class="pl-en">dbs_deinit_freq_map_table</span>(<span class="pl-k">void</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R103" data-line-number="103"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R104" data-line-number="104"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> i;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R105" data-line-number="105"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R106" data-line-number="106"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (!tbl)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R107" data-line-number="107"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R108" data-line-number="108"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R109" data-line-number="109"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	tbl = <span class="pl-c1">NULL</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R110" data-line-number="110"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R111" data-line-number="111"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">for</span> (i = <span class="pl-c1">0</span>; i &lt; TABLE_SIZE; i++)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R112" data-line-number="112"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">kfree</span>(tblmap[i]);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R113" data-line-number="113"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R114" data-line-number="114"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R115" data-line-number="115"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">inline</span> <span class="pl-k">int</span> <span class="pl-en">get_cpu_freq_index</span>(<span class="pl-k">unsigned</span> <span class="pl-k">int</span> freq)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R116" data-line-number="116"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R117" data-line-number="117"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">static</span> <span class="pl-k">int</span> saved_index = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R118" data-line-number="118"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> <span class="pl-c1">index</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R119" data-line-number="119"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R120" data-line-number="120"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (!tbl) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R121" data-line-number="121"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">pr_warn</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>tbl is NULL, use previous value <span class="pl-c1">%d</span><span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>, saved_index);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R122" data-line-number="122"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> saved_index;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R123" data-line-number="123"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R124" data-line-number="124"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R125" data-line-number="125"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">for</span> (<span class="pl-c1">index</span> = <span class="pl-c1">0</span>; (tbl[<span class="pl-c1">index</span>].<span class="pl-smi">frequency</span> != CPUFREQ_TABLE_END); <span class="pl-c1">index</span>++) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R126" data-line-number="126"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (tbl[<span class="pl-c1">index</span>].<span class="pl-smi">frequency</span> &gt;= freq) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R127" data-line-number="127"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			saved_index = <span class="pl-c1">index</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R128" data-line-number="128"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">break</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R129" data-line-number="129"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R130" data-line-number="130"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R131" data-line-number="131"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R132" data-line-number="132"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> <span class="pl-c1">index</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R133" data-line-number="133"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R134" data-line-number="134"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R135" data-line-number="135"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">inline</span> <span class="pl-k">unsigned</span> <span class="pl-k">int</span> <span class="pl-en">ex_freq_increase</span>(<span class="pl-k">struct</span> cpufreq_policy *p, <span class="pl-k">unsigned</span> <span class="pl-k">int</span> freq)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R136" data-line-number="136"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R137" data-line-number="137"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (freq &gt; p-&gt;max) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R138" data-line-number="138"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> p-&gt;max;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R139" data-line-number="139"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	} </span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R140" data-line-number="140"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R141" data-line-number="141"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">else</span> <span class="pl-k">if</span> (ex_data.<span class="pl-smi">suspended</span>) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R142" data-line-number="142"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		freq = <span class="pl-c1">MIN</span>(freq, ex_data.<span class="pl-smi">max_screen_off_freq</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R143" data-line-number="143"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R144" data-line-number="144"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R145" data-line-number="145"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> freq;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R146" data-line-number="146"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R147" data-line-number="147"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R148" data-line-number="148"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">void</span> <span class="pl-en">ex_check_cpu</span>(<span class="pl-k">int</span> cpu, <span class="pl-k">unsigned</span> <span class="pl-k">int</span> load)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R149" data-line-number="149"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R150" data-line-number="150"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> ex_cpu_dbs_info_s *dbs_info = &amp;<span class="pl-c1">per_cpu</span>(ex_cpu_dbs_info, cpu);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R151" data-line-number="151"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> cpufreq_policy *policy = dbs_info-&gt;cdbs.<span class="pl-smi">cur_policy</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R152" data-line-number="152"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> dbs_data *dbs_data = policy-&gt;governor_data;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R153" data-line-number="153"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> ex_dbs_tuners *ex_tuners = dbs_data-&gt;tuners;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R154" data-line-number="154"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> max_load_freq = <span class="pl-c1">0</span>, freq_next = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R155" data-line-number="155"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> j, avg_load, cur_freq, max_freq, target_freq = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R156" data-line-number="156"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R157" data-line-number="157"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">cpufreq_notify_utilization</span>(policy, load);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R158" data-line-number="158"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R159" data-line-number="159"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	cur_freq = policy-&gt;cur;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R160" data-line-number="160"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	max_freq = policy-&gt;max;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R161" data-line-number="161"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R162" data-line-number="162"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">for_each_cpu</span>(j, policy-&gt;cpus) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R163" data-line-number="163"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (load &gt; max_load_freq)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R164" data-line-number="164"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			max_load_freq = load * policy-&gt;cur;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R165" data-line-number="165"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R166" data-line-number="166"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	avg_load = (ex_data.<span class="pl-smi">prev_load</span> + load) &gt;&gt; <span class="pl-c1">1</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R167" data-line-number="167"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R168" data-line-number="168"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (ex_tuners-&gt;gboost) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R169" data-line-number="169"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (ex_data.<span class="pl-smi">g_count</span> &lt; <span class="pl-c1">500</span> &amp;&amp; graphics_boost_elementalx &lt; <span class="pl-c1">3</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R170" data-line-number="170"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			++ex_data.<span class="pl-smi">g_count</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R171" data-line-number="171"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">else</span> <span class="pl-k">if</span> (ex_data.<span class="pl-smi">g_count</span> &gt; <span class="pl-c1">1</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R172" data-line-number="172"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			--ex_data.<span class="pl-smi">g_count</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R173" data-line-number="173"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R174" data-line-number="174"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R175" data-line-number="175"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c">//gboost mode</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R176" data-line-number="176"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (ex_tuners-&gt;gboost &amp;&amp; ex_data.<span class="pl-smi">g_count</span> &gt; <span class="pl-c1">300</span>) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R177" data-line-number="177"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R178" data-line-number="178"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (avg_load &gt; <span class="pl-c1">40</span> + (graphics_boost_elementalx * <span class="pl-c1">10</span>)) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R179" data-line-number="179"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			freq_next = max_freq;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R180" data-line-number="180"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		} <span class="pl-k">else</span> {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R181" data-line-number="181"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			freq_next = max_freq * avg_load / <span class="pl-c1">100</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R182" data-line-number="182"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			freq_next = <span class="pl-c1">MAX</span>(freq_next, ex_tuners-&gt;gboost_min_freq);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R183" data-line-number="183"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R184" data-line-number="184"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R185" data-line-number="185"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		target_freq = <span class="pl-c1">ex_freq_increase</span>(policy, freq_next);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R186" data-line-number="186"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R187" data-line-number="187"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">__cpufreq_driver_target</span>(policy, target_freq, CPUFREQ_RELATION_H);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R188" data-line-number="188"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R189" data-line-number="189"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">goto</span> finished;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R190" data-line-number="190"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	} </span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R191" data-line-number="191"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R192" data-line-number="192"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c">//normal mode</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R193" data-line-number="193"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (max_load_freq &gt; up_threshold_level[<span class="pl-c1">1</span>] * cur_freq) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R194" data-line-number="194"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">int</span> <span class="pl-c1">index</span> = <span class="pl-c1">get_cpu_freq_index</span>(cur_freq);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R195" data-line-number="195"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R196" data-line-number="196"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (<span class="pl-c1">FREQ_NEED_BURST</span>(cur_freq) &amp;&amp;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R197" data-line-number="197"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				load &gt; up_threshold_level[<span class="pl-c1">0</span>]) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R198" data-line-number="198"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			freq_next = max_freq;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R199" data-line-number="199"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R200" data-line-number="200"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R201" data-line-number="201"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">else</span> <span class="pl-k">if</span> (avg_load &gt; up_threshold_level[<span class="pl-c1">0</span>]) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R202" data-line-number="202"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			freq_next = tblmap[tbl_select[<span class="pl-c1">3</span>]][<span class="pl-c1">index</span>];</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R203" data-line-number="203"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R204" data-line-number="204"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R205" data-line-number="205"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">else</span> <span class="pl-k">if</span> (avg_load &lt;= up_threshold_level[<span class="pl-c1">1</span>]) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R206" data-line-number="206"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			freq_next = tblmap[tbl_select[<span class="pl-c1">1</span>]][<span class="pl-c1">index</span>];</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R207" data-line-number="207"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R208" data-line-number="208"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R209" data-line-number="209"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">else</span> {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R210" data-line-number="210"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">if</span> (load &gt; up_threshold_level[<span class="pl-c1">0</span>]) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R211" data-line-number="211"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				freq_next = tblmap[tbl_select[<span class="pl-c1">3</span>]][<span class="pl-c1">index</span>];</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R212" data-line-number="212"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R213" data-line-number="213"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R214" data-line-number="214"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">else</span> {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R215" data-line-number="215"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				freq_next = tblmap[tbl_select[<span class="pl-c1">2</span>]][<span class="pl-c1">index</span>];</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R216" data-line-number="216"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R217" data-line-number="217"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R218" data-line-number="218"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R219" data-line-number="219"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		target_freq = <span class="pl-c1">ex_freq_increase</span>(policy, freq_next);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R220" data-line-number="220"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R221" data-line-number="221"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">__cpufreq_driver_target</span>(policy, target_freq, CPUFREQ_RELATION_H);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R222" data-line-number="222"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R223" data-line-number="223"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (target_freq &gt; ex_data.<span class="pl-smi">active_floor_freq</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R224" data-line-number="224"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			dbs_info-&gt;down_floor = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R225" data-line-number="225"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R226" data-line-number="226"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">goto</span> finished;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R227" data-line-number="227"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R228" data-line-number="228"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R229" data-line-number="229"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (cur_freq == policy-&gt;min)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R230" data-line-number="230"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">goto</span> finished;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R231" data-line-number="231"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R232" data-line-number="232"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (cur_freq &gt;= ex_data.<span class="pl-smi">active_floor_freq</span>) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R233" data-line-number="233"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (++dbs_info-&gt;down_floor &gt; ex_tuners-&gt;sampling_down_factor)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R234" data-line-number="234"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			dbs_info-&gt;down_floor = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R235" data-line-number="235"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	} <span class="pl-k">else</span> {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R236" data-line-number="236"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		dbs_info-&gt;down_floor = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R237" data-line-number="237"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R238" data-line-number="238"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R239" data-line-number="239"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (max_load_freq &lt;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R240" data-line-number="240"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	    (ex_tuners-&gt;up_threshold - ex_tuners-&gt;down_differential) *</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R241" data-line-number="241"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	     cur_freq) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R242" data-line-number="242"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R243" data-line-number="243"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		freq_next = max_load_freq /</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R244" data-line-number="244"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				(ex_tuners-&gt;up_threshold -</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R245" data-line-number="245"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				 ex_tuners-&gt;down_differential);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R246" data-line-number="246"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R247" data-line-number="247"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (dbs_info-&gt;down_floor &amp;&amp; !ex_data.<span class="pl-smi">suspended</span>) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R248" data-line-number="248"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			freq_next = <span class="pl-c1">MAX</span>(freq_next, ex_data.<span class="pl-smi">active_floor_freq</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R249" data-line-number="249"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		} <span class="pl-k">else</span> {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R250" data-line-number="250"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			freq_next = <span class="pl-c1">MAX</span>(freq_next, policy-&gt;min);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R251" data-line-number="251"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">if</span> (freq_next &lt; ex_data.<span class="pl-smi">active_floor_freq</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R252" data-line-number="252"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				dbs_info-&gt;down_floor = ex_tuners-&gt;sampling_down_factor;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R253" data-line-number="253"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R254" data-line-number="254"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R255" data-line-number="255"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">__cpufreq_driver_target</span>(policy, freq_next,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R256" data-line-number="256"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			CPUFREQ_RELATION_L);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R257" data-line-number="257"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R258" data-line-number="258"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R259" data-line-number="259"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+finished:</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R260" data-line-number="260"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	ex_data.<span class="pl-smi">prev_load</span> = load;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R261" data-line-number="261"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R262" data-line-number="262"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R263" data-line-number="263"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R264" data-line-number="264"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">void</span> <span class="pl-en">ex_dbs_timer</span>(<span class="pl-k">struct</span> work_struct *work)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R265" data-line-number="265"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R266" data-line-number="266"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> ex_cpu_dbs_info_s *dbs_info = <span class="pl-c1">container_of</span>(work,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R267" data-line-number="267"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">struct</span> ex_cpu_dbs_info_s, cdbs.<span class="pl-smi">work</span>.<span class="pl-smi">work</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R268" data-line-number="268"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> cpu = dbs_info-&gt;cdbs.<span class="pl-smi">cur_policy</span>-&gt;cpu;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R269" data-line-number="269"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> ex_cpu_dbs_info_s *core_dbs_info = &amp;<span class="pl-c1">per_cpu</span>(ex_cpu_dbs_info,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R270" data-line-number="270"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			cpu);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R271" data-line-number="271"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> dbs_data *dbs_data = dbs_info-&gt;cdbs.<span class="pl-smi">cur_policy</span>-&gt;governor_data;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R272" data-line-number="272"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> ex_dbs_tuners *ex_tuners = dbs_data-&gt;tuners;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R273" data-line-number="273"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> delay = <span class="pl-c1">delay_for_sampling_rate</span>(ex_tuners-&gt;sampling_rate);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R274" data-line-number="274"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">bool</span> modify_all = <span class="pl-c1">true</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R275" data-line-number="275"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R276" data-line-number="276"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">mutex_lock</span>(&amp;core_dbs_info-&gt;cdbs.<span class="pl-smi">timer_mutex</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R277" data-line-number="277"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (!<span class="pl-c1">need_load_eval</span>(&amp;core_dbs_info-&gt;cdbs, ex_tuners-&gt;sampling_rate))</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R278" data-line-number="278"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		modify_all = <span class="pl-c1">false</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R279" data-line-number="279"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">else</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R280" data-line-number="280"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">dbs_check_cpu</span>(dbs_data, cpu);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R281" data-line-number="281"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R282" data-line-number="282"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">gov_queue_work</span>(dbs_data, dbs_info-&gt;cdbs.<span class="pl-smi">cur_policy</span>, delay, modify_all);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R283" data-line-number="283"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">mutex_unlock</span>(&amp;core_dbs_info-&gt;cdbs.<span class="pl-smi">timer_mutex</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R284" data-line-number="284"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R285" data-line-number="285"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R286" data-line-number="286"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">int</span> <span class="pl-en">fb_notifier_callback</span>(<span class="pl-k">struct</span> notifier_block *this,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R287" data-line-number="287"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				<span class="pl-k">unsigned</span> <span class="pl-k">long</span> event, <span class="pl-k">void</span> *data)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R288" data-line-number="288"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R289" data-line-number="289"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> fb_event *evdata = data;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R290" data-line-number="290"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> *blank;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R291" data-line-number="291"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R292" data-line-number="292"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (evdata &amp;&amp; evdata-&gt;data &amp;&amp; event == FB_EVENT_BLANK) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R293" data-line-number="293"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		blank = evdata-&gt;data;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R294" data-line-number="294"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">switch</span> (*blank) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R295" data-line-number="295"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">case</span> FB_BLANK_UNBLANK:</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R296" data-line-number="296"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				<span class="pl-c">//display on</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R297" data-line-number="297"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				ex_data.<span class="pl-smi">suspended</span> = <span class="pl-c1">false</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R298" data-line-number="298"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				<span class="pl-k">break</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R299" data-line-number="299"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">case</span> FB_BLANK_POWERDOWN:</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R300" data-line-number="300"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">case</span> FB_BLANK_HSYNC_SUSPEND:</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R301" data-line-number="301"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">case</span> FB_BLANK_VSYNC_SUSPEND:</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R302" data-line-number="302"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">case</span> FB_BLANK_NORMAL:</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R303" data-line-number="303"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				<span class="pl-c">//display off</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R304" data-line-number="304"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				ex_data.<span class="pl-smi">suspended</span> = <span class="pl-c1">true</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R305" data-line-number="305"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				<span class="pl-k">break</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R306" data-line-number="306"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R307" data-line-number="307"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R308" data-line-number="308"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R309" data-line-number="309"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> NOTIFY_OK;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R310" data-line-number="310"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R311" data-line-number="311"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R312" data-line-number="312"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">/************************** sysfs interface ************************/</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R313" data-line-number="313"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">struct</span> common_dbs_data ex_dbs_cdata;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R314" data-line-number="314"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R315" data-line-number="315"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">store_sampling_rate</span>(<span class="pl-k">struct</span> dbs_data *dbs_data, <span class="pl-k">const</span> <span class="pl-k">char</span> *buf,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R316" data-line-number="316"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">size_t</span> count)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R317" data-line-number="317"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R318" data-line-number="318"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> ex_dbs_tuners *ex_tuners = dbs_data-&gt;tuners;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R319" data-line-number="319"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R320" data-line-number="320"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R321" data-line-number="321"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	ret = <span class="pl-c1">sscanf</span>(buf, <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%u</span><span class="pl-pds">&quot;</span></span>, &amp;input);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R322" data-line-number="322"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R323" data-line-number="323"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (ret != <span class="pl-c1">1</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R324" data-line-number="324"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> -EINVAL;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R325" data-line-number="325"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R326" data-line-number="326"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	ex_tuners-&gt;sampling_rate = <span class="pl-c1">max</span>(input, dbs_data-&gt;min_sampling_rate);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R327" data-line-number="327"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> count;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R328" data-line-number="328"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R329" data-line-number="329"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R330" data-line-number="330"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">store_up_threshold</span>(<span class="pl-k">struct</span> dbs_data *dbs_data, <span class="pl-k">const</span> <span class="pl-k">char</span> *buf,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R331" data-line-number="331"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">size_t</span> count)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R332" data-line-number="332"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R333" data-line-number="333"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> ex_dbs_tuners *ex_tuners = dbs_data-&gt;tuners;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R334" data-line-number="334"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R335" data-line-number="335"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R336" data-line-number="336"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	ret = <span class="pl-c1">sscanf</span>(buf, <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%u</span><span class="pl-pds">&quot;</span></span>, &amp;input);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R337" data-line-number="337"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R338" data-line-number="338"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (ret != <span class="pl-c1">1</span> || input &gt; <span class="pl-c1">100</span> || input &lt;= ex_tuners-&gt;down_differential)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R339" data-line-number="339"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> -EINVAL;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R340" data-line-number="340"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R341" data-line-number="341"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	ex_tuners-&gt;up_threshold = input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R342" data-line-number="342"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> count;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R343" data-line-number="343"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R344" data-line-number="344"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R345" data-line-number="345"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">store_down_differential</span>(<span class="pl-k">struct</span> dbs_data *dbs_data,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R346" data-line-number="346"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">const</span> <span class="pl-k">char</span> *buf, <span class="pl-c1">size_t</span> count)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R347" data-line-number="347"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R348" data-line-number="348"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> ex_dbs_tuners *ex_tuners = dbs_data-&gt;tuners;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R349" data-line-number="349"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R350" data-line-number="350"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R351" data-line-number="351"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	ret = <span class="pl-c1">sscanf</span>(buf, <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%u</span><span class="pl-pds">&quot;</span></span>, &amp;input);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R352" data-line-number="352"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R353" data-line-number="353"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (ret != <span class="pl-c1">1</span> || input &gt; <span class="pl-c1">100</span> || input &gt;= ex_tuners-&gt;up_threshold)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R354" data-line-number="354"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> -EINVAL;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R355" data-line-number="355"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R356" data-line-number="356"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	ex_tuners-&gt;down_differential = input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R357" data-line-number="357"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> count;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R358" data-line-number="358"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R359" data-line-number="359"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R360" data-line-number="360"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">store_gboost</span>(<span class="pl-k">struct</span> dbs_data *dbs_data, <span class="pl-k">const</span> <span class="pl-k">char</span> *buf,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R361" data-line-number="361"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">size_t</span> count)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R362" data-line-number="362"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R363" data-line-number="363"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> ex_dbs_tuners *ex_tuners = dbs_data-&gt;tuners;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R364" data-line-number="364"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R365" data-line-number="365"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R366" data-line-number="366"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	ret = <span class="pl-c1">sscanf</span>(buf, <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%u</span><span class="pl-pds">&quot;</span></span>, &amp;input);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R367" data-line-number="367"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R368" data-line-number="368"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (ret != <span class="pl-c1">1</span> || input &gt; <span class="pl-c1">1</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R369" data-line-number="369"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> -EINVAL;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R370" data-line-number="370"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R371" data-line-number="371"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (input == <span class="pl-c1">0</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R372" data-line-number="372"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		ex_data.<span class="pl-smi">g_count</span> = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R373" data-line-number="373"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R374" data-line-number="374"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	ex_tuners-&gt;gboost = input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R375" data-line-number="375"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> count;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R376" data-line-number="376"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R377" data-line-number="377"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R378" data-line-number="378"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">store_gboost_min_freq</span>(<span class="pl-k">struct</span> dbs_data *dbs_data,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R379" data-line-number="379"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">const</span> <span class="pl-k">char</span> *buf, <span class="pl-c1">size_t</span> count)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R380" data-line-number="380"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R381" data-line-number="381"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> ex_dbs_tuners *ex_tuners = dbs_data-&gt;tuners;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R382" data-line-number="382"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R383" data-line-number="383"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R384" data-line-number="384"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	ret = <span class="pl-c1">sscanf</span>(buf, <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%u</span><span class="pl-pds">&quot;</span></span>, &amp;input);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R385" data-line-number="385"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R386" data-line-number="386"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (ret != <span class="pl-c1">1</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R387" data-line-number="387"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> -EINVAL;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R388" data-line-number="388"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R389" data-line-number="389"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	ex_tuners-&gt;gboost_min_freq = input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R390" data-line-number="390"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> count;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R391" data-line-number="391"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R392" data-line-number="392"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R393" data-line-number="393"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">store_active_floor_freq</span>(<span class="pl-k">struct</span> dbs_data *dbs_data,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R394" data-line-number="394"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">const</span> <span class="pl-k">char</span> *buf, <span class="pl-c1">size_t</span> count)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R395" data-line-number="395"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R396" data-line-number="396"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> ex_dbs_tuners *ex_tuners = dbs_data-&gt;tuners;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R397" data-line-number="397"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R398" data-line-number="398"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R399" data-line-number="399"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	ret = <span class="pl-c1">sscanf</span>(buf, <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%u</span><span class="pl-pds">&quot;</span></span>, &amp;input);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R400" data-line-number="400"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R401" data-line-number="401"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (ret != <span class="pl-c1">1</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R402" data-line-number="402"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> -EINVAL;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R403" data-line-number="403"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R404" data-line-number="404"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	ex_tuners-&gt;active_floor_freq = input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R405" data-line-number="405"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	ex_data.<span class="pl-smi">active_floor_freq</span> = ex_tuners-&gt;active_floor_freq;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R406" data-line-number="406"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> count;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R407" data-line-number="407"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R408" data-line-number="408"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R409" data-line-number="409"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">store_max_screen_off_freq</span>(<span class="pl-k">struct</span> dbs_data *dbs_data,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R410" data-line-number="410"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">const</span> <span class="pl-k">char</span> *buf, <span class="pl-c1">size_t</span> count)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R411" data-line-number="411"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R412" data-line-number="412"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> ex_dbs_tuners *ex_tuners = dbs_data-&gt;tuners;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R413" data-line-number="413"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R414" data-line-number="414"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R415" data-line-number="415"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	ret = <span class="pl-c1">sscanf</span>(buf, <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%u</span><span class="pl-pds">&quot;</span></span>, &amp;input);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R416" data-line-number="416"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R417" data-line-number="417"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (ret != <span class="pl-c1">1</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R418" data-line-number="418"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> -EINVAL;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R419" data-line-number="419"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R420" data-line-number="420"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (input == <span class="pl-c1">0</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R421" data-line-number="421"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		input = UINT_MAX;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R422" data-line-number="422"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R423" data-line-number="423"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	ex_tuners-&gt;max_screen_off_freq = input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R424" data-line-number="424"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	ex_data.<span class="pl-smi">max_screen_off_freq</span> = ex_tuners-&gt;max_screen_off_freq;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R425" data-line-number="425"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> count;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R426" data-line-number="426"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R427" data-line-number="427"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R428" data-line-number="428"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">store_sampling_down_factor</span>(<span class="pl-k">struct</span> dbs_data *dbs_data,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R429" data-line-number="429"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">const</span> <span class="pl-k">char</span> *buf, <span class="pl-c1">size_t</span> count)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R430" data-line-number="430"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R431" data-line-number="431"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> ex_dbs_tuners *ex_tuners = dbs_data-&gt;tuners;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R432" data-line-number="432"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R433" data-line-number="433"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R434" data-line-number="434"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	ret = <span class="pl-c1">sscanf</span>(buf, <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%u</span><span class="pl-pds">&quot;</span></span>, &amp;input);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R435" data-line-number="435"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R436" data-line-number="436"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (ret != <span class="pl-c1">1</span> || input &gt; MAX_SAMPLING_DOWN_FACTOR || input &lt; <span class="pl-c1">0</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R437" data-line-number="437"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> -EINVAL;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R438" data-line-number="438"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R439" data-line-number="439"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	ex_tuners-&gt;sampling_down_factor = input;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R440" data-line-number="440"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> count;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R441" data-line-number="441"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R442" data-line-number="442"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R443" data-line-number="443"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">show_store_one</span>(ex, sampling_rate);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R444" data-line-number="444"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">show_store_one</span>(ex, up_threshold);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R445" data-line-number="445"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">show_store_one</span>(ex, down_differential);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R446" data-line-number="446"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">show_store_one</span>(ex, gboost);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R447" data-line-number="447"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">show_store_one</span>(ex, gboost_min_freq);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R448" data-line-number="448"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">show_store_one</span>(ex, active_floor_freq);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R449" data-line-number="449"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">show_store_one</span>(ex, max_screen_off_freq);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R450" data-line-number="450"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">show_store_one</span>(ex, sampling_down_factor);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R451" data-line-number="451"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">declare_show_sampling_rate_min</span>(ex);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R452" data-line-number="452"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R453" data-line-number="453"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">gov_sys_pol_attr_rw</span>(sampling_rate);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R454" data-line-number="454"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">gov_sys_pol_attr_rw</span>(up_threshold);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R455" data-line-number="455"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">gov_sys_pol_attr_rw</span>(down_differential);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R456" data-line-number="456"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">gov_sys_pol_attr_rw</span>(gboost);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R457" data-line-number="457"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">gov_sys_pol_attr_rw</span>(gboost_min_freq);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R458" data-line-number="458"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">gov_sys_pol_attr_rw</span>(active_floor_freq);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R459" data-line-number="459"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">gov_sys_pol_attr_rw</span>(max_screen_off_freq);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R460" data-line-number="460"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">gov_sys_pol_attr_rw</span>(sampling_down_factor);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R461" data-line-number="461"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">gov_sys_pol_attr_ro</span>(sampling_rate_min);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R462" data-line-number="462"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R463" data-line-number="463"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">struct</span> attribute *dbs_attributes_gov_sys[] = {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R464" data-line-number="464"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;sampling_rate_min_gov_sys.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R465" data-line-number="465"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;sampling_rate_gov_sys.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R466" data-line-number="466"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;up_threshold_gov_sys.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R467" data-line-number="467"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;down_differential_gov_sys.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R468" data-line-number="468"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;gboost_gov_sys.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R469" data-line-number="469"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;gboost_min_freq_gov_sys.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R470" data-line-number="470"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;active_floor_freq_gov_sys.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R471" data-line-number="471"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;max_screen_off_freq_gov_sys.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R472" data-line-number="472"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;sampling_down_factor_gov_sys.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R473" data-line-number="473"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">NULL</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R474" data-line-number="474"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+};</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R475" data-line-number="475"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R476" data-line-number="476"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">struct</span> attribute_group ex_attr_group_gov_sys = {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R477" data-line-number="477"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">attrs</span> = dbs_attributes_gov_sys,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R478" data-line-number="478"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">name</span> = <span class="pl-s"><span class="pl-pds">&quot;</span>elementalx<span class="pl-pds">&quot;</span></span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R479" data-line-number="479"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+};</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R480" data-line-number="480"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R481" data-line-number="481"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">struct</span> attribute *dbs_attributes_gov_pol[] = {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R482" data-line-number="482"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;sampling_rate_min_gov_pol.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R483" data-line-number="483"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;sampling_rate_gov_pol.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R484" data-line-number="484"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;up_threshold_gov_pol.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R485" data-line-number="485"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;down_differential_gov_pol.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R486" data-line-number="486"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;gboost_gov_pol.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R487" data-line-number="487"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;gboost_min_freq_gov_pol.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R488" data-line-number="488"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;active_floor_freq_gov_pol.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R489" data-line-number="489"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;max_screen_off_freq_gov_pol.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R490" data-line-number="490"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;sampling_down_factor_gov_pol.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R491" data-line-number="491"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">NULL</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R492" data-line-number="492"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+};</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R493" data-line-number="493"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R494" data-line-number="494"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">struct</span> attribute_group ex_attr_group_gov_pol = {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R495" data-line-number="495"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">attrs</span> = dbs_attributes_gov_pol,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R496" data-line-number="496"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">name</span> = <span class="pl-s"><span class="pl-pds">&quot;</span>elementalx<span class="pl-pds">&quot;</span></span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R497" data-line-number="497"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+};</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R498" data-line-number="498"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R499" data-line-number="499"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">/************************** sysfs end ************************/</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R500" data-line-number="500"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R501" data-line-number="501"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">int</span> <span class="pl-en">ex_init</span>(<span class="pl-k">struct</span> dbs_data *dbs_data)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R502" data-line-number="502"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R503" data-line-number="503"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> ex_dbs_tuners *tuners;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R504" data-line-number="504"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R505" data-line-number="505"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	tuners = <span class="pl-c1">kzalloc</span>(<span class="pl-k">sizeof</span>(*tuners), GFP_KERNEL);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R506" data-line-number="506"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (!tuners) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R507" data-line-number="507"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">pr_err</span>(<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%s</span>: kzalloc failed<span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>, __func__);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R508" data-line-number="508"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> -ENOMEM;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R509" data-line-number="509"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R510" data-line-number="510"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R511" data-line-number="511"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	tuners-&gt;up_threshold = DEF_FREQUENCY_UP_THRESHOLD;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R512" data-line-number="512"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	tuners-&gt;down_differential = DEF_FREQUENCY_DOWN_DIFFERENTIAL;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R513" data-line-number="513"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	tuners-&gt;ignore_nice_load = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R514" data-line-number="514"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	tuners-&gt;gboost = <span class="pl-c1">1</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R515" data-line-number="515"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	tuners-&gt;gboost_min_freq = DEF_GBOOST_MIN_FREQ;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R516" data-line-number="516"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	tuners-&gt;active_floor_freq = DEF_ACTIVE_FLOOR_FREQ;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R517" data-line-number="517"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	tuners-&gt;max_screen_off_freq = DEF_MAX_SCREEN_OFF_FREQ;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R518" data-line-number="518"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	tuners-&gt;sampling_down_factor = DEF_SAMPLING_DOWN_FACTOR;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R519" data-line-number="519"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R520" data-line-number="520"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	dbs_data-&gt;tuners = tuners;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R521" data-line-number="521"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	dbs_data-&gt;min_sampling_rate = MIN_SAMPLING_RATE;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R522" data-line-number="522"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R523" data-line-number="523"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">dbs_init_freq_map_table</span>();</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R524" data-line-number="524"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R525" data-line-number="525"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	ex_data.<span class="pl-smi">notif</span>.<span class="pl-smi">notifier_call</span> = fb_notifier_callback;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R526" data-line-number="526"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (<span class="pl-c1">fb_register_client</span>(&amp;ex_data.<span class="pl-smi">notif</span>))</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R527" data-line-number="527"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">pr_err</span>(<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%s</span>: Failed to register fb_notifier<span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>, __func__);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R528" data-line-number="528"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R529" data-line-number="529"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">mutex_init</span>(&amp;dbs_data-&gt;mutex);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R530" data-line-number="530"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R531" data-line-number="531"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R532" data-line-number="532"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R533" data-line-number="533"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">void</span> <span class="pl-en">ex_exit</span>(<span class="pl-k">struct</span> dbs_data *dbs_data)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R534" data-line-number="534"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R535" data-line-number="535"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">dbs_deinit_freq_map_table</span>();</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R536" data-line-number="536"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">fb_unregister_client</span>(&amp;ex_data.<span class="pl-smi">notif</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R537" data-line-number="537"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">kfree</span>(dbs_data-&gt;tuners);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R538" data-line-number="538"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R539" data-line-number="539"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R540" data-line-number="540"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">define_get_cpu_dbs_routines</span>(ex_cpu_dbs_info);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R541" data-line-number="541"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R542" data-line-number="542"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">struct</span> common_dbs_data ex_dbs_cdata = {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R543" data-line-number="543"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">governor</span> = GOV_ELEMENTALX,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R544" data-line-number="544"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">attr_group_gov_sys</span> = &amp;ex_attr_group_gov_sys,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R545" data-line-number="545"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">attr_group_gov_pol</span> = &amp;ex_attr_group_gov_pol,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R546" data-line-number="546"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">get_cpu_cdbs</span> = get_cpu_cdbs,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R547" data-line-number="547"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">get_cpu_dbs_info_s</span> = get_cpu_dbs_info_s,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R548" data-line-number="548"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">gov_dbs_timer</span> = ex_dbs_timer,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R549" data-line-number="549"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">gov_check_cpu</span> = ex_check_cpu,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R550" data-line-number="550"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">init</span> = ex_init,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R551" data-line-number="551"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">exit</span> = ex_exit,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R552" data-line-number="552"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+};</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R553" data-line-number="553"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R554" data-line-number="554"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">int</span> <span class="pl-en">ex_cpufreq_governor_dbs</span>(<span class="pl-k">struct</span> cpufreq_policy *policy,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R555" data-line-number="555"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				   <span class="pl-k">unsigned</span> <span class="pl-k">int</span> event)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R556" data-line-number="556"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R557" data-line-number="557"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> <span class="pl-c1">cpufreq_governor_dbs</span>(policy, &amp;ex_dbs_cdata, event);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R558" data-line-number="558"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R559" data-line-number="559"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R560" data-line-number="560"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">ifndef</span> CONFIG_CPU_FREQ_DEFAULT_GOV_ELEMENTALX</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R561" data-line-number="561"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R562" data-line-number="562"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">endif</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R563" data-line-number="563"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">struct</span> cpufreq_governor cpufreq_gov_elementalx = {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R564" data-line-number="564"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">name</span>			= <span class="pl-s"><span class="pl-pds">&quot;</span>elementalx<span class="pl-pds">&quot;</span></span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R565" data-line-number="565"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">governor</span>		= ex_cpufreq_governor_dbs,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R566" data-line-number="566"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">max_transition_latency</span>	= TRANSITION_LATENCY_LIMIT,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R567" data-line-number="567"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">owner</span>			= THIS_MODULE,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R568" data-line-number="568"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+};</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R569" data-line-number="569"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R570" data-line-number="570"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">int</span> __init <span class="pl-en">cpufreq_gov_dbs_init</span>(<span class="pl-k">void</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R571" data-line-number="571"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R572" data-line-number="572"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> <span class="pl-c1">cpufreq_register_governor</span>(&amp;cpufreq_gov_elementalx);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R573" data-line-number="573"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R574" data-line-number="574"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R575" data-line-number="575"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">void</span> __exit <span class="pl-en">cpufreq_gov_dbs_exit</span>(<span class="pl-k">void</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R576" data-line-number="576"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R577" data-line-number="577"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">cpufreq_unregister_governor</span>(&amp;cpufreq_gov_elementalx);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R578" data-line-number="578"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R579" data-line-number="579"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R580" data-line-number="580"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">MODULE_AUTHOR</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>Aaron Segaert &lt;asegaert@gmail.com&gt;<span class="pl-pds">&quot;</span></span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R581" data-line-number="581"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">MODULE_DESCRIPTION</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>&#39;cpufreq_elementalx&#39; - multiphase cpufreq governor<span class="pl-pds">&quot;</span></span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R582" data-line-number="582"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">MODULE_LICENSE</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>GPL<span class="pl-pds">&quot;</span></span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R583" data-line-number="583"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R584" data-line-number="584"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">ifdef</span> CONFIG_CPU_FREQ_DEFAULT_GOV_ELEMENTALX</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R585" data-line-number="585"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">fs_initcall</span>(cpufreq_gov_dbs_init);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R586" data-line-number="586"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">else</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R587" data-line-number="587"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">module_init</span>(cpufreq_gov_dbs_init);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R588" data-line-number="588"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">endif</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-1b12b91108319bb626968ca2df82ef03R589" data-line-number="589"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">module_exit</span>(cpufreq_gov_dbs_exit);</span>

  </td>
</tr>



              </table>
            </div>
      </div>

      <a name="diff-ba009d3eca1d52565a8c581777f58361"></a>
      <div id="diff-17"
           class="file js-details-container
                   
                   
                   
                   
                   show-inline-notes
                 ">
        <div class="file-header" data-path="drivers/cpufreq/cpufreq_governor.c">
          <div class="file-actions">
              <span class="show-file-notes">
                <label>
                  <input type="checkbox" checked="checked" class="js-toggle-file-notes">
                  Show notes
                </label>
              </span>

                <a href="/Tkkg1994/StockKernel/blob/cbf17b4b432bfe962ae330d9a86f8ded47d33b22/drivers/cpufreq/cpufreq_governor.c" class="btn btn-sm tooltipped tooltipped-nw" rel="nofollow" aria-label="View the whole file at version cbf17b4 ">View</a>


          </div>
          <div class="file-info">
              <span class="diffstat tooltipped tooltipped-e" aria-label="95 additions &amp; 4 deletions">99 <span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-neutral"></span></span>

            <span class="user-select-contain" title="drivers/cpufreq/cpufreq_governor.c">
              drivers/cpufreq/cpufreq_governor.c
            </span>
            
          </div>
        </div>

            <div class="data highlight blob-wrapper">
              <table class="diff-table tab-size  " data-tab-size="8">
                
      <tr class="js-expandable-line" data-position="0">
    <td class="blob-num blob-num-expandable" colspan="2">
      <a href="#diff-ba009d3eca1d52565a8c581777f58361"
            class="diff-expander js-expand" title="Expand" aria-label="Expand"
            data-url="/Tkkg1994/StockKernel/blob_excerpt/af2a789c02d20ecbd205d70745ed1850cb7f2727?diff=unified&amp;left_hunk_size=15&amp;mode=100755&amp;next_line_num_left=35&amp;next_line_num_right=35&amp;path=drivers%2Fcpufreq%2Fcpufreq_governor.c&amp;prev_line_num_left=&amp;prev_line_num_right=&amp;right_hunk_size=34"
            data-left-range="1-34" data-right-range="1-34">
        <svg aria-hidden="true" class="octicon octicon-unfold" height="16" role="img" version="1.1" viewBox="0 0 14 16" width="14"><path d="M11.5 8.5l2.5 2.5c0 0.55-0.45 1-1 1H9v-1h3.5L10.5 9H3.5L1.5 11h3.5v1H1c-0.55 0-1-0.45-1-1l2.5-2.5L0 6c0-0.55 0.45-1 1-1h4v1H1.5l2 2h7l2-2H9v-1h4c0.55 0 1 0.45 1 1L11.5 8.5z m-5.5-1.5h2V4h2L7 1 4 4h2v3z m2 3H6v3H4l3 3 3-3H8V10z"></path></svg>
      </a>
    </td>
    <td class="blob-code blob-code-inner blob-code-hunk">@@ -35,15 +35,34 @@ void dbs_check_cpu(struct dbs_data *dbs_data, int cpu)</td>
  </tr>

    <tr>
    <td id="diff-ba009d3eca1d52565a8c581777f58361L35" data-line-number="35"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R35" data-line-number="35"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 	<span class="pl-k">struct</span> cpu_dbs_common_info *cdbs = dbs_data-&gt;cdata-&gt;<span class="pl-c1">get_cpu_cdbs</span>(cpu);</span>

  </td>
</tr>


    <tr>
    <td id="diff-ba009d3eca1d52565a8c581777f58361L36" data-line-number="36"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R36" data-line-number="36"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 	<span class="pl-k">struct</span> od_dbs_tuners *od_tuners = dbs_data-&gt;tuners;</span>

  </td>
</tr>


    <tr>
    <td id="diff-ba009d3eca1d52565a8c581777f58361L37" data-line-number="37"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R37" data-line-number="37"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 	<span class="pl-k">struct</span> cs_dbs_tuners *cs_tuners = dbs_data-&gt;tuners;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R38" data-line-number="38"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> ex_dbs_tuners *ex_tuners = dbs_data-&gt;tuners;</span>

  </td>
</tr>


    <tr>
    <td id="diff-ba009d3eca1d52565a8c581777f58361L38" data-line-number="38"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R39" data-line-number="39"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 	<span class="pl-k">struct</span> cpufreq_policy *policy;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R40" data-line-number="40"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> sampling_rate;</span>

  </td>
</tr>


    <tr>
    <td id="diff-ba009d3eca1d52565a8c581777f58361L39" data-line-number="39"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R41" data-line-number="41"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> max_load = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td id="diff-ba009d3eca1d52565a8c581777f58361L40" data-line-number="40"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R42" data-line-number="42"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> ignore_nice;</span>

  </td>
</tr>


    <tr>
    <td id="diff-ba009d3eca1d52565a8c581777f58361L41" data-line-number="41"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R43" data-line-number="43"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> j;</span>

  </td>
</tr>


    <tr>
    <td id="diff-ba009d3eca1d52565a8c581777f58361L42" data-line-number="42"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R44" data-line-number="44"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> </span>

  </td>
</tr>


    <tr>
    <td id="diff-ba009d3eca1d52565a8c581777f58361L43" data-line-number="43"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-	<span class="pl-k">if</span> (dbs_data-&gt;cdata-&gt;governor == GOV_ONDEMAND)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R45" data-line-number="45"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (dbs_data-&gt;cdata-&gt;governor == GOV_ONDEMAND) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R46" data-line-number="46"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">struct</span> od_cpu_dbs_info_s *od_dbs_info =</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R47" data-line-number="47"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				dbs_data-&gt;cdata-&gt;<span class="pl-c1">get_cpu_dbs_info_s</span>(cpu);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R48" data-line-number="48"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R49" data-line-number="49"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R50" data-line-number="50"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * Sometimes, the ondemand governor uses an additional</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R51" data-line-number="51"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * multiplier to give long delays. So apply this multiplier to</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R52" data-line-number="52"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * the &#39;sampling_rate&#39;, so as to keep the wake-up-from-idle</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R53" data-line-number="53"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * detection logic a bit conservative.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R54" data-line-number="54"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R55" data-line-number="55"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		sampling_rate = od_tuners-&gt;sampling_rate;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R56" data-line-number="56"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		sampling_rate *= od_dbs_info-&gt;rate_mult;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R57" data-line-number="57"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td id="diff-ba009d3eca1d52565a8c581777f58361L44" data-line-number="44"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R58" data-line-number="58"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 		ignore_nice = od_tuners-&gt;ignore_nice_load;</span>

  </td>
</tr>


    <tr>
    <td id="diff-ba009d3eca1d52565a8c581777f58361L45" data-line-number="45"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-	<span class="pl-k">else</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R59" data-line-number="59"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	} <span class="pl-k">else</span> <span class="pl-k">if</span> (dbs_data-&gt;cdata-&gt;governor == GOV_ELEMENTALX) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R60" data-line-number="60"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		sampling_rate = ex_tuners-&gt;sampling_rate;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R61" data-line-number="61"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		ignore_nice = ex_tuners-&gt;ignore_nice_load;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R62" data-line-number="62"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	} <span class="pl-k">else</span> {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R63" data-line-number="63"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		sampling_rate = cs_tuners-&gt;sampling_rate;</span>

  </td>
</tr>


    <tr>
    <td id="diff-ba009d3eca1d52565a8c581777f58361L46" data-line-number="46"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R64" data-line-number="64"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 		ignore_nice = cs_tuners-&gt;ignore_nice_load;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R65" data-line-number="65"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td id="diff-ba009d3eca1d52565a8c581777f58361L47" data-line-number="47"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R66" data-line-number="66"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> </span>

  </td>
</tr>


    <tr>
    <td id="diff-ba009d3eca1d52565a8c581777f58361L48" data-line-number="48"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R67" data-line-number="67"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 	policy = cdbs-&gt;cur_policy;</span>

  </td>
</tr>


    <tr>
    <td id="diff-ba009d3eca1d52565a8c581777f58361L49" data-line-number="49"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R68" data-line-number="68"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> </span>

  </td>
</tr>


      <tr class="js-expandable-line" data-position="37">
    <td class="blob-num blob-num-expandable" colspan="2">
      <a href="#diff-ba009d3eca1d52565a8c581777f58361"
            class="diff-expander js-expand" title="Expand" aria-label="Expand"
            data-url="/Tkkg1994/StockKernel/blob_excerpt/af2a789c02d20ecbd205d70745ed1850cb7f2727?diff=unified&amp;left_hunk_size=7&amp;mode=100755&amp;next_line_num_left=96&amp;next_line_num_right=115&amp;path=drivers%2Fcpufreq%2Fcpufreq_governor.c&amp;prev_line_num_left=49&amp;prev_line_num_right=68&amp;right_hunk_size=46"
            data-left-range="50-95" data-right-range="69-114">
        <svg aria-hidden="true" class="octicon octicon-unfold" height="16" role="img" version="1.1" viewBox="0 0 14 16" width="14"><path d="M11.5 8.5l2.5 2.5c0 0.55-0.45 1-1 1H9v-1h3.5L10.5 9H3.5L1.5 11h3.5v1H1c-0.55 0-1-0.45-1-1l2.5-2.5L0 6c0-0.55 0.45-1 1-1h4v1H1.5l2 2h7l2-2H9v-1h4c0.55 0 1 0.45 1 1L11.5 8.5z m-5.5-1.5h2V4h2L7 1 4 4h2v3z m2 3H6v3H4l3 3 3-3H8V10z"></path></svg>
      </a>
    </td>
    <td class="blob-code blob-code-inner blob-code-hunk">@@ -96,7 +115,46 @@ void dbs_check_cpu(struct dbs_data *dbs_data, int cpu)</td>
  </tr>

    <tr>
    <td id="diff-ba009d3eca1d52565a8c581777f58361L96" data-line-number="96"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R115" data-line-number="115"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 		<span class="pl-k">if</span> (<span class="pl-c1">unlikely</span>(!wall_time || wall_time &lt; idle_time))</span>

  </td>
</tr>


    <tr>
    <td id="diff-ba009d3eca1d52565a8c581777f58361L97" data-line-number="97"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R116" data-line-number="116"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 			<span class="pl-k">continue</span>;</span>

  </td>
</tr>


    <tr>
    <td id="diff-ba009d3eca1d52565a8c581777f58361L98" data-line-number="98"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R117" data-line-number="117"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> </span>

  </td>
</tr>


    <tr>
    <td id="diff-ba009d3eca1d52565a8c581777f58361L99" data-line-number="99"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-		load = <span class="pl-c1">100</span> * (wall_time - idle_time) / wall_time;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R118" data-line-number="118"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R119" data-line-number="119"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * If the CPU had gone completely idle, and a task just woke up</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R120" data-line-number="120"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * on this CPU now, it would be unfair to calculate &#39;load&#39; the</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R121" data-line-number="121"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * usual way for this elapsed time-window, because it will show</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R122" data-line-number="122"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * near-zero load, irrespective of how CPU intensive that task</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R123" data-line-number="123"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * actually is. This is undesirable for latency-sensitive bursty</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R124" data-line-number="124"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * workloads.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R125" data-line-number="125"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 *</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R126" data-line-number="126"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * To avoid this, we reuse the &#39;load&#39; from the previous</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R127" data-line-number="127"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * time-window and give this task a chance to start with a</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R128" data-line-number="128"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * reasonably high CPU frequency. (However, we shouldn&#39;t over-do</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R129" data-line-number="129"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * this copy, lest we get stuck at a high load (high frequency)</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R130" data-line-number="130"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * for too long, even when the current system load has actually</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R131" data-line-number="131"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * dropped down. So we perform the copy only once, upon the</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R132" data-line-number="132"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * first wake-up from idle.)</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R133" data-line-number="133"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 *</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R134" data-line-number="134"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * Detecting this situation is easy: the governor&#39;s deferrable</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R135" data-line-number="135"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * timer would not have fired during CPU-idle periods. Hence</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R136" data-line-number="136"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * an unusually large &#39;wall_time&#39; (as compared to the sampling</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R137" data-line-number="137"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * rate) indicates this scenario.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R138" data-line-number="138"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 *</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R139" data-line-number="139"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * prev_load can be zero in two cases and we must recalculate it</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R140" data-line-number="140"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * for both cases:</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R141" data-line-number="141"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * - during long idle intervals</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R142" data-line-number="142"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * - explicitly set to zero</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R143" data-line-number="143"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R144" data-line-number="144"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (<span class="pl-c1">unlikely</span>(wall_time &gt; (<span class="pl-c1">2</span> * sampling_rate) &amp;&amp;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R145" data-line-number="145"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			     j_cdbs-&gt;prev_load)) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R146" data-line-number="146"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			load = j_cdbs-&gt;prev_load;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R147" data-line-number="147"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R148" data-line-number="148"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R149" data-line-number="149"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">			 * Perform a destructive copy, to ensure that we copy</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R150" data-line-number="150"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">			 * the previous load only once, upon the first wake-up</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R151" data-line-number="151"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">			 * from idle.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R152" data-line-number="152"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">			 */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R153" data-line-number="153"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			j_cdbs-&gt;prev_load = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R154" data-line-number="154"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		} <span class="pl-k">else</span> {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R155" data-line-number="155"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			load = <span class="pl-c1">100</span> * (wall_time - idle_time) / wall_time;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R156" data-line-number="156"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			j_cdbs-&gt;prev_load = load;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R157" data-line-number="157"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		}</span>

  </td>
</tr>


    <tr>
    <td id="diff-ba009d3eca1d52565a8c581777f58361L100" data-line-number="100"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R158" data-line-number="158"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> </span>

  </td>
</tr>


    <tr>
    <td id="diff-ba009d3eca1d52565a8c581777f58361L101" data-line-number="101"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R159" data-line-number="159"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 		<span class="pl-k">if</span> (load &gt; max_load)</span>

  </td>
</tr>


    <tr>
    <td id="diff-ba009d3eca1d52565a8c581777f58361L102" data-line-number="102"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R160" data-line-number="160"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 			max_load = load;</span>

  </td>
</tr>


      <tr class="js-expandable-line" data-position="85">
    <td class="blob-num blob-num-expandable" colspan="2">
      <a href="#diff-ba009d3eca1d52565a8c581777f58361"
            class="diff-expander js-expand" title="Expand" aria-label="Expand"
            data-url="/Tkkg1994/StockKernel/blob_excerpt/af2a789c02d20ecbd205d70745ed1850cb7f2727?diff=unified&amp;left_hunk_size=8&amp;mode=100755&amp;next_line_num_left=119&amp;next_line_num_right=177&amp;path=drivers%2Fcpufreq%2Fcpufreq_governor.c&amp;prev_line_num_left=102&amp;prev_line_num_right=160&amp;right_hunk_size=9"
            data-left-range="103-118" data-right-range="161-176">
        <svg aria-hidden="true" class="octicon octicon-unfold" height="16" role="img" version="1.1" viewBox="0 0 14 16" width="14"><path d="M11.5 8.5l2.5 2.5c0 0.55-0.45 1-1 1H9v-1h3.5L10.5 9H3.5L1.5 11h3.5v1H1c-0.55 0-1-0.45-1-1l2.5-2.5L0 6c0-0.55 0.45-1 1-1h4v1H1.5l2 2h7l2-2H9v-1h4c0.55 0 1 0.45 1 1L11.5 8.5z m-5.5-1.5h2V4h2L7 1 4 4h2v3z m2 3H6v3H4l3 3 3-3H8V10z"></path></svg>
      </a>
    </td>
    <td class="blob-code blob-code-inner blob-code-hunk">@@ -119,8 +177,9 @@ void gov_queue_work(struct dbs_data *dbs_data, struct cpufreq_policy *policy,</td>
  </tr>

    <tr>
    <td id="diff-ba009d3eca1d52565a8c581777f58361L119" data-line-number="119"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R177" data-line-number="177"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> {</span>

  </td>
</tr>


    <tr>
    <td id="diff-ba009d3eca1d52565a8c581777f58361L120" data-line-number="120"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R178" data-line-number="178"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 	<span class="pl-k">int</span> i;</span>

  </td>
</tr>


    <tr>
    <td id="diff-ba009d3eca1d52565a8c581777f58361L121" data-line-number="121"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R179" data-line-number="179"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> </span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R180" data-line-number="180"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">mutex_lock</span>(&amp;cpufreq_governor_lock);</span>

  </td>
</tr>


    <tr>
    <td id="diff-ba009d3eca1d52565a8c581777f58361L122" data-line-number="122"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R181" data-line-number="181"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 	<span class="pl-k">if</span> (!policy-&gt;governor_enabled)</span>

  </td>
</tr>


    <tr>
    <td id="diff-ba009d3eca1d52565a8c581777f58361L123" data-line-number="123"
        class="blob-num blob-num-deletion js-linkable-line-number"></td>

    <td class="blob-num blob-num-deletion empty-cell"></td>

  <td class="blob-code blob-code-deletion">

    <span class="blob-code-inner">-		<span class="pl-k x x-first x-last">return</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R182" data-line-number="182"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k x x-first">goto</span><span class="x x-last"> out_unlock</span>;</span>

  </td>
</tr>


    <tr>
    <td id="diff-ba009d3eca1d52565a8c581777f58361L124" data-line-number="124"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R183" data-line-number="183"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> </span>

  </td>
</tr>


    <tr>
    <td id="diff-ba009d3eca1d52565a8c581777f58361L125" data-line-number="125"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R184" data-line-number="184"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 	<span class="pl-k">if</span> (!all_cpus) {</span>

  </td>
</tr>


    <tr>
    <td id="diff-ba009d3eca1d52565a8c581777f58361L126" data-line-number="126"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R185" data-line-number="185"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 		<span class="pl-c">/*</span></span>

  </td>
</tr>


      <tr class="js-expandable-line" data-position="96">
    <td class="blob-num blob-num-expandable" colspan="2">
      <a href="#diff-ba009d3eca1d52565a8c581777f58361"
            class="diff-expander js-expand" title="Expand" aria-label="Expand"
            data-url="/Tkkg1994/StockKernel/blob_excerpt/af2a789c02d20ecbd205d70745ed1850cb7f2727?diff=unified&amp;left_hunk_size=6&amp;mode=100755&amp;next_line_num_left=135&amp;next_line_num_right=194&amp;path=drivers%2Fcpufreq%2Fcpufreq_governor.c&amp;prev_line_num_left=126&amp;prev_line_num_right=185&amp;right_hunk_size=9"
            data-left-range="127-134" data-right-range="186-193">
        <svg aria-hidden="true" class="octicon octicon-unfold" height="16" role="img" version="1.1" viewBox="0 0 14 16" width="14"><path d="M11.5 8.5l2.5 2.5c0 0.55-0.45 1-1 1H9v-1h3.5L10.5 9H3.5L1.5 11h3.5v1H1c-0.55 0-1-0.45-1-1l2.5-2.5L0 6c0-0.55 0.45-1 1-1h4v1H1.5l2 2h7l2-2H9v-1h4c0.55 0 1 0.45 1 1L11.5 8.5z m-5.5-1.5h2V4h2L7 1 4 4h2v3z m2 3H6v3H4l3 3 3-3H8V10z"></path></svg>
      </a>
    </td>
    <td class="blob-code blob-code-inner blob-code-hunk">@@ -135,6 +194,9 @@ void gov_queue_work(struct dbs_data *dbs_data, struct cpufreq_policy *policy,</td>
  </tr>

    <tr>
    <td id="diff-ba009d3eca1d52565a8c581777f58361L135" data-line-number="135"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R194" data-line-number="194"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 		<span class="pl-c1">for_each_cpu</span>(i, policy-&gt;cpus)</span>

  </td>
</tr>


    <tr>
    <td id="diff-ba009d3eca1d52565a8c581777f58361L136" data-line-number="136"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R195" data-line-number="195"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 			<span class="pl-c1">__gov_queue_work</span>(i, dbs_data, delay);</span>

  </td>
</tr>


    <tr>
    <td id="diff-ba009d3eca1d52565a8c581777f58361L137" data-line-number="137"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R196" data-line-number="196"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R197" data-line-number="197"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R198" data-line-number="198"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+out_unlock:</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R199" data-line-number="199"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">mutex_unlock</span>(&amp;cpufreq_governor_lock);</span>

  </td>
</tr>


    <tr>
    <td id="diff-ba009d3eca1d52565a8c581777f58361L138" data-line-number="138"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R200" data-line-number="200"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> }</span>

  </td>
</tr>


    <tr>
    <td id="diff-ba009d3eca1d52565a8c581777f58361L139" data-line-number="139"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R201" data-line-number="201"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> <span class="pl-en">EXPORT_SYMBOL_GPL</span>(gov_queue_work);</span>

  </td>
</tr>


    <tr>
    <td id="diff-ba009d3eca1d52565a8c581777f58361L140" data-line-number="140"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R202" data-line-number="202"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> </span>

  </td>
</tr>


      <tr class="js-expandable-line" data-position="106">
    <td class="blob-num blob-num-expandable" colspan="2">
      <a href="#diff-ba009d3eca1d52565a8c581777f58361"
            class="diff-expander js-expand" title="Expand" aria-label="Expand"
            data-url="/Tkkg1994/StockKernel/blob_excerpt/af2a789c02d20ecbd205d70745ed1850cb7f2727?diff=unified&amp;left_hunk_size=6&amp;mode=100755&amp;next_line_num_left=175&amp;next_line_num_right=237&amp;path=drivers%2Fcpufreq%2Fcpufreq_governor.c&amp;prev_line_num_left=140&amp;prev_line_num_right=202&amp;right_hunk_size=9"
            data-left-range="141-174" data-right-range="203-236">
        <svg aria-hidden="true" class="octicon octicon-unfold" height="16" role="img" version="1.1" viewBox="0 0 14 16" width="14"><path d="M11.5 8.5l2.5 2.5c0 0.55-0.45 1-1 1H9v-1h3.5L10.5 9H3.5L1.5 11h3.5v1H1c-0.55 0-1-0.45-1-1l2.5-2.5L0 6c0-0.55 0.45-1 1-1h4v1H1.5l2 2h7l2-2H9v-1h4c0.55 0 1 0.45 1 1L11.5 8.5z m-5.5-1.5h2V4h2L7 1 4 4h2v3z m2 3H6v3H4l3 3 3-3H8V10z"></path></svg>
      </a>
    </td>
    <td class="blob-code blob-code-inner blob-code-hunk">@@ -175,6 +237,9 @@ static void set_sampling_rate(struct dbs_data *dbs_data,</td>
  </tr>

    <tr>
    <td id="diff-ba009d3eca1d52565a8c581777f58361L175" data-line-number="175"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R237" data-line-number="237"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 	<span class="pl-k">if</span> (dbs_data-&gt;cdata-&gt;governor == GOV_CONSERVATIVE) {</span>

  </td>
</tr>


    <tr>
    <td id="diff-ba009d3eca1d52565a8c581777f58361L176" data-line-number="176"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R238" data-line-number="238"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 		<span class="pl-k">struct</span> cs_dbs_tuners *cs_tuners = dbs_data-&gt;tuners;</span>

  </td>
</tr>


    <tr>
    <td id="diff-ba009d3eca1d52565a8c581777f58361L177" data-line-number="177"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R239" data-line-number="239"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 		cs_tuners-&gt;sampling_rate = sampling_rate;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R240" data-line-number="240"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	} <span class="pl-k">else</span> <span class="pl-k">if</span> (dbs_data-&gt;cdata-&gt;governor == GOV_ELEMENTALX) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R241" data-line-number="241"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">struct</span> ex_dbs_tuners *ex_tuners = dbs_data-&gt;tuners;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R242" data-line-number="242"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		ex_tuners-&gt;sampling_rate = sampling_rate;</span>

  </td>
</tr>


    <tr>
    <td id="diff-ba009d3eca1d52565a8c581777f58361L178" data-line-number="178"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R243" data-line-number="243"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 	} <span class="pl-k">else</span> {</span>

  </td>
</tr>


    <tr>
    <td id="diff-ba009d3eca1d52565a8c581777f58361L179" data-line-number="179"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R244" data-line-number="244"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 		<span class="pl-k">struct</span> od_dbs_tuners *od_tuners = dbs_data-&gt;tuners;</span>

  </td>
</tr>


    <tr>
    <td id="diff-ba009d3eca1d52565a8c581777f58361L180" data-line-number="180"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R245" data-line-number="245"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 		od_tuners-&gt;sampling_rate = sampling_rate;</span>

  </td>
</tr>


      <tr class="js-expandable-line" data-position="116">
    <td class="blob-num blob-num-expandable" colspan="2">
      <a href="#diff-ba009d3eca1d52565a8c581777f58361"
            class="diff-expander js-expand" title="Expand" aria-label="Expand"
            data-url="/Tkkg1994/StockKernel/blob_excerpt/af2a789c02d20ecbd205d70745ed1850cb7f2727?diff=unified&amp;left_hunk_size=9&amp;mode=100755&amp;next_line_num_left=187&amp;next_line_num_right=252&amp;path=drivers%2Fcpufreq%2Fcpufreq_governor.c&amp;prev_line_num_left=180&amp;prev_line_num_right=245&amp;right_hunk_size=11"
            data-left-range="181-186" data-right-range="246-251">
        <svg aria-hidden="true" class="octicon octicon-unfold" height="16" role="img" version="1.1" viewBox="0 0 14 16" width="14"><path d="M11.5 8.5l2.5 2.5c0 0.55-0.45 1-1 1H9v-1h3.5L10.5 9H3.5L1.5 11h3.5v1H1c-0.55 0-1-0.45-1-1l2.5-2.5L0 6c0-0.55 0.45-1 1-1h4v1H1.5l2 2h7l2-2H9v-1h4c0.55 0 1 0.45 1 1L11.5 8.5z m-5.5-1.5h2V4h2L7 1 4 4h2v3z m2 3H6v3H4l3 3 3-3H8V10z"></path></svg>
      </a>
    </td>
    <td class="blob-code blob-code-inner blob-code-hunk">@@ -187,9 +252,11 @@ int cpufreq_governor_dbs(struct cpufreq_policy *policy,</td>
  </tr>

    <tr>
    <td id="diff-ba009d3eca1d52565a8c581777f58361L187" data-line-number="187"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R252" data-line-number="252"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 	<span class="pl-k">struct</span> dbs_data *dbs_data;</span>

  </td>
</tr>


    <tr>
    <td id="diff-ba009d3eca1d52565a8c581777f58361L188" data-line-number="188"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R253" data-line-number="253"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 	<span class="pl-k">struct</span> od_cpu_dbs_info_s *od_dbs_info = <span class="pl-c1">NULL</span>;</span>

  </td>
</tr>


    <tr>
    <td id="diff-ba009d3eca1d52565a8c581777f58361L189" data-line-number="189"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R254" data-line-number="254"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 	<span class="pl-k">struct</span> cs_cpu_dbs_info_s *cs_dbs_info = <span class="pl-c1">NULL</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R255" data-line-number="255"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> ex_cpu_dbs_info_s *ex_dbs_info = <span class="pl-c1">NULL</span>;</span>

  </td>
</tr>


    <tr>
    <td id="diff-ba009d3eca1d52565a8c581777f58361L190" data-line-number="190"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R256" data-line-number="256"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 	<span class="pl-k">struct</span> od_ops *od_ops = <span class="pl-c1">NULL</span>;</span>

  </td>
</tr>


    <tr>
    <td id="diff-ba009d3eca1d52565a8c581777f58361L191" data-line-number="191"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R257" data-line-number="257"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 	<span class="pl-k">struct</span> od_dbs_tuners *od_tuners = <span class="pl-c1">NULL</span>;</span>

  </td>
</tr>


    <tr>
    <td id="diff-ba009d3eca1d52565a8c581777f58361L192" data-line-number="192"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R258" data-line-number="258"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 	<span class="pl-k">struct</span> cs_dbs_tuners *cs_tuners = <span class="pl-c1">NULL</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R259" data-line-number="259"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> ex_dbs_tuners *ex_tuners = <span class="pl-c1">NULL</span>;</span>

  </td>
</tr>


    <tr>
    <td id="diff-ba009d3eca1d52565a8c581777f58361L193" data-line-number="193"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R260" data-line-number="260"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 	<span class="pl-k">struct</span> cpu_dbs_common_info *cpu_cdbs;</span>

  </td>
</tr>


    <tr>
    <td id="diff-ba009d3eca1d52565a8c581777f58361L194" data-line-number="194"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R261" data-line-number="261"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> sampling_rate, latency, ignore_nice, j, cpu = policy-&gt;cpu;</span>

  </td>
</tr>


    <tr>
    <td id="diff-ba009d3eca1d52565a8c581777f58361L195" data-line-number="195"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R262" data-line-number="262"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 	<span class="pl-k">int</span> io_busy = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


      <tr class="js-expandable-line" data-position="128">
    <td class="blob-num blob-num-expandable" colspan="2">
      <a href="#diff-ba009d3eca1d52565a8c581777f58361"
            class="diff-expander js-expand" title="Expand" aria-label="Expand"
            data-url="/Tkkg1994/StockKernel/blob_excerpt/af2a789c02d20ecbd205d70745ed1850cb7f2727?diff=unified&amp;left_hunk_size=6&amp;mode=100755&amp;next_line_num_left=295&amp;next_line_num_right=362&amp;path=drivers%2Fcpufreq%2Fcpufreq_governor.c&amp;prev_line_num_left=195&amp;prev_line_num_right=262&amp;right_hunk_size=11"
            data-left-range="196-294" data-right-range="263-361">
        <svg aria-hidden="true" class="octicon octicon-unfold" height="16" role="img" version="1.1" viewBox="0 0 14 16" width="14"><path d="M11.5 8.5l2.5 2.5c0 0.55-0.45 1-1 1H9v-1h3.5L10.5 9H3.5L1.5 11h3.5v1H1c-0.55 0-1-0.45-1-1l2.5-2.5L0 6c0-0.55 0.45-1 1-1h4v1H1.5l2 2h7l2-2H9v-1h4c0.55 0 1 0.45 1 1L11.5 8.5z m-5.5-1.5h2V4h2L7 1 4 4h2v3z m2 3H6v3H4l3 3 3-3H8V10z"></path></svg>
      </a>
    </td>
    <td class="blob-code blob-code-inner blob-code-hunk">@@ -295,6 +362,11 @@ int cpufreq_governor_dbs(struct cpufreq_policy *policy,</td>
  </tr>

    <tr>
    <td id="diff-ba009d3eca1d52565a8c581777f58361L295" data-line-number="295"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R362" data-line-number="362"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 		cs_dbs_info = dbs_data-&gt;cdata-&gt;<span class="pl-c1">get_cpu_dbs_info_s</span>(cpu);</span>

  </td>
</tr>


    <tr>
    <td id="diff-ba009d3eca1d52565a8c581777f58361L296" data-line-number="296"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R363" data-line-number="363"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 		sampling_rate = cs_tuners-&gt;sampling_rate;</span>

  </td>
</tr>


    <tr>
    <td id="diff-ba009d3eca1d52565a8c581777f58361L297" data-line-number="297"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R364" data-line-number="364"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 		ignore_nice = cs_tuners-&gt;ignore_nice_load;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R365" data-line-number="365"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	} <span class="pl-k">else</span> <span class="pl-k">if</span> (dbs_data-&gt;cdata-&gt;governor == GOV_ELEMENTALX) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R366" data-line-number="366"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		ex_tuners = dbs_data-&gt;tuners;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R367" data-line-number="367"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		ex_dbs_info = dbs_data-&gt;cdata-&gt;<span class="pl-c1">get_cpu_dbs_info_s</span>(cpu);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R368" data-line-number="368"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		sampling_rate = ex_tuners-&gt;sampling_rate;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R369" data-line-number="369"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		ignore_nice = ex_tuners-&gt;ignore_nice_load;</span>

  </td>
</tr>


    <tr>
    <td id="diff-ba009d3eca1d52565a8c581777f58361L298" data-line-number="298"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R370" data-line-number="370"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 	} <span class="pl-k">else</span> {</span>

  </td>
</tr>


    <tr>
    <td id="diff-ba009d3eca1d52565a8c581777f58361L299" data-line-number="299"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R371" data-line-number="371"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 		od_tuners = dbs_data-&gt;tuners;</span>

  </td>
</tr>


    <tr>
    <td id="diff-ba009d3eca1d52565a8c581777f58361L300" data-line-number="300"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R372" data-line-number="372"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 		od_dbs_info = dbs_data-&gt;cdata-&gt;<span class="pl-c1">get_cpu_dbs_info_s</span>(cpu);</span>

  </td>
</tr>


      <tr class="js-expandable-line" data-position="140">
    <td class="blob-num blob-num-expandable" colspan="2">
      <a href="#diff-ba009d3eca1d52565a8c581777f58361"
            class="diff-expander js-expand" title="Expand" aria-label="Expand"
            data-url="/Tkkg1994/StockKernel/blob_excerpt/af2a789c02d20ecbd205d70745ed1850cb7f2727?diff=unified&amp;left_hunk_size=11&amp;mode=100755&amp;next_line_num_left=314&amp;next_line_num_right=386&amp;path=drivers%2Fcpufreq%2Fcpufreq_governor.c&amp;prev_line_num_left=300&amp;prev_line_num_right=372&amp;right_hunk_size=18"
            data-left-range="301-313" data-right-range="373-385">
        <svg aria-hidden="true" class="octicon octicon-unfold" height="16" role="img" version="1.1" viewBox="0 0 14 16" width="14"><path d="M11.5 8.5l2.5 2.5c0 0.55-0.45 1-1 1H9v-1h3.5L10.5 9H3.5L1.5 11h3.5v1H1c-0.55 0-1-0.45-1-1l2.5-2.5L0 6c0-0.55 0.45-1 1-1h4v1H1.5l2 2h7l2-2H9v-1h4c0.55 0 1 0.45 1 1L11.5 8.5z m-5.5-1.5h2V4h2L7 1 4 4h2v3z m2 3H6v3H4l3 3 3-3H8V10z"></path></svg>
      </a>
    </td>
    <td class="blob-code blob-code-inner blob-code-hunk">@@ -314,11 +386,18 @@ int cpufreq_governor_dbs(struct cpufreq_policy *policy,</td>
  </tr>

    <tr>
    <td id="diff-ba009d3eca1d52565a8c581777f58361L314" data-line-number="314"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R386" data-line-number="386"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 		<span class="pl-c1">for_each_cpu</span>(j, policy-&gt;cpus) {</span>

  </td>
</tr>


    <tr>
    <td id="diff-ba009d3eca1d52565a8c581777f58361L315" data-line-number="315"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R387" data-line-number="387"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 			<span class="pl-k">struct</span> cpu_dbs_common_info *j_cdbs =</span>

  </td>
</tr>


    <tr>
    <td id="diff-ba009d3eca1d52565a8c581777f58361L316" data-line-number="316"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R388" data-line-number="388"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 				dbs_data-&gt;cdata-&gt;<span class="pl-c1">get_cpu_cdbs</span>(j);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R389" data-line-number="389"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">unsigned</span> <span class="pl-k">int</span> prev_load;</span>

  </td>
</tr>


    <tr>
    <td id="diff-ba009d3eca1d52565a8c581777f58361L317" data-line-number="317"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R390" data-line-number="390"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> </span>

  </td>
</tr>


    <tr>
    <td id="diff-ba009d3eca1d52565a8c581777f58361L318" data-line-number="318"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R391" data-line-number="391"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 			j_cdbs-&gt;cpu = j;</span>

  </td>
</tr>


    <tr>
    <td id="diff-ba009d3eca1d52565a8c581777f58361L319" data-line-number="319"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R392" data-line-number="392"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 			j_cdbs-&gt;cur_policy = policy;</span>

  </td>
</tr>


    <tr>
    <td id="diff-ba009d3eca1d52565a8c581777f58361L320" data-line-number="320"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R393" data-line-number="393"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 			j_cdbs-&gt;prev_cpu_idle = <span class="pl-c1">get_cpu_idle_time</span>(j,</span>

  </td>
</tr>


    <tr>
    <td id="diff-ba009d3eca1d52565a8c581777f58361L321" data-line-number="321"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R394" data-line-number="394"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 					       &amp;j_cdbs-&gt;prev_cpu_wall, io_busy);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R395" data-line-number="395"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R396" data-line-number="396"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			prev_load = (<span class="pl-k">unsigned</span> <span class="pl-k">int</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R397" data-line-number="397"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				(j_cdbs-&gt;prev_cpu_wall - j_cdbs-&gt;prev_cpu_idle);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R398" data-line-number="398"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			j_cdbs-&gt;prev_load = <span class="pl-c1">100</span> * prev_load /</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R399" data-line-number="399"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+					(<span class="pl-k">unsigned</span> <span class="pl-k">int</span>) j_cdbs-&gt;prev_cpu_wall;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R400" data-line-number="400"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td id="diff-ba009d3eca1d52565a8c581777f58361L322" data-line-number="322"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R401" data-line-number="401"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 			<span class="pl-k">if</span> (ignore_nice)</span>

  </td>
</tr>


    <tr>
    <td id="diff-ba009d3eca1d52565a8c581777f58361L323" data-line-number="323"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R402" data-line-number="402"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 				j_cdbs-&gt;prev_cpu_nice =</span>

  </td>
</tr>


    <tr>
    <td id="diff-ba009d3eca1d52565a8c581777f58361L324" data-line-number="324"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R403" data-line-number="403"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 					<span class="pl-c1">kcpustat_cpu</span>(j).<span class="pl-smi">cpustat</span>[CPUTIME_NICE];</span>

  </td>
</tr>


      <tr class="js-expandable-line" data-position="159">
    <td class="blob-num blob-num-expandable" colspan="2">
      <a href="#diff-ba009d3eca1d52565a8c581777f58361"
            class="diff-expander js-expand" title="Expand" aria-label="Expand"
            data-url="/Tkkg1994/StockKernel/blob_excerpt/af2a789c02d20ecbd205d70745ed1850cb7f2727?diff=unified&amp;left_hunk_size=6&amp;mode=100755&amp;next_line_num_left=332&amp;next_line_num_right=411&amp;path=drivers%2Fcpufreq%2Fcpufreq_governor.c&amp;prev_line_num_left=324&amp;prev_line_num_right=403&amp;right_hunk_size=9"
            data-left-range="325-331" data-right-range="404-410">
        <svg aria-hidden="true" class="octicon octicon-unfold" height="16" role="img" version="1.1" viewBox="0 0 14 16" width="14"><path d="M11.5 8.5l2.5 2.5c0 0.55-0.45 1-1 1H9v-1h3.5L10.5 9H3.5L1.5 11h3.5v1H1c-0.55 0-1-0.45-1-1l2.5-2.5L0 6c0-0.55 0.45-1 1-1h4v1H1.5l2 2h7l2-2H9v-1h4c0.55 0 1 0.45 1 1L11.5 8.5z m-5.5-1.5h2V4h2L7 1 4 4h2v3z m2 3H6v3H4l3 3 3-3H8V10z"></path></svg>
      </a>
    </td>
    <td class="blob-code blob-code-inner blob-code-hunk">@@ -332,6 +411,9 @@ int cpufreq_governor_dbs(struct cpufreq_policy *policy,</td>
  </tr>

    <tr>
    <td id="diff-ba009d3eca1d52565a8c581777f58361L332" data-line-number="332"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R411" data-line-number="411"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 			cs_dbs_info-&gt;down_skip = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td id="diff-ba009d3eca1d52565a8c581777f58361L333" data-line-number="333"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R412" data-line-number="412"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 			cs_dbs_info-&gt;enable = <span class="pl-c1">1</span>;</span>

  </td>
</tr>


    <tr>
    <td id="diff-ba009d3eca1d52565a8c581777f58361L334" data-line-number="334"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R413" data-line-number="413"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 			cs_dbs_info-&gt;requested_freq = policy-&gt;cur;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R414" data-line-number="414"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		} <span class="pl-k">else</span> <span class="pl-k">if</span> (dbs_data-&gt;cdata-&gt;governor == GOV_ELEMENTALX) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R415" data-line-number="415"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			ex_dbs_info-&gt;down_floor = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R416" data-line-number="416"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			ex_dbs_info-&gt;enable = <span class="pl-c1">1</span>;</span>

  </td>
</tr>


    <tr>
    <td id="diff-ba009d3eca1d52565a8c581777f58361L335" data-line-number="335"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R417" data-line-number="417"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 		} <span class="pl-k">else</span> {</span>

  </td>
</tr>


    <tr>
    <td id="diff-ba009d3eca1d52565a8c581777f58361L336" data-line-number="336"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R418" data-line-number="418"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 			od_dbs_info-&gt;rate_mult = <span class="pl-c1">1</span>;</span>

  </td>
</tr>


    <tr>
    <td id="diff-ba009d3eca1d52565a8c581777f58361L337" data-line-number="337"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R419" data-line-number="419"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 			od_dbs_info-&gt;sample_type = OD_NORMAL_SAMPLE;</span>

  </td>
</tr>


      <tr class="js-expandable-line" data-position="169">
    <td class="blob-num blob-num-expandable" colspan="2">
      <a href="#diff-ba009d3eca1d52565a8c581777f58361"
            class="diff-expander js-expand" title="Expand" aria-label="Expand"
            data-url="/Tkkg1994/StockKernel/blob_excerpt/af2a789c02d20ecbd205d70745ed1850cb7f2727?diff=unified&amp;left_hunk_size=6&amp;mode=100755&amp;next_line_num_left=351&amp;next_line_num_right=433&amp;path=drivers%2Fcpufreq%2Fcpufreq_governor.c&amp;prev_line_num_left=337&amp;prev_line_num_right=419&amp;right_hunk_size=9"
            data-left-range="338-350" data-right-range="420-432">
        <svg aria-hidden="true" class="octicon octicon-unfold" height="16" role="img" version="1.1" viewBox="0 0 14 16" width="14"><path d="M11.5 8.5l2.5 2.5c0 0.55-0.45 1-1 1H9v-1h3.5L10.5 9H3.5L1.5 11h3.5v1H1c-0.55 0-1-0.45-1-1l2.5-2.5L0 6c0-0.55 0.45-1 1-1h4v1H1.5l2 2h7l2-2H9v-1h4c0.55 0 1 0.45 1 1L11.5 8.5z m-5.5-1.5h2V4h2L7 1 4 4h2v3z m2 3H6v3H4l3 3 3-3H8V10z"></path></svg>
      </a>
    </td>
    <td class="blob-code blob-code-inner blob-code-hunk">@@ -351,6 +433,9 @@ int cpufreq_governor_dbs(struct cpufreq_policy *policy,</td>
  </tr>

    <tr>
    <td id="diff-ba009d3eca1d52565a8c581777f58361L351" data-line-number="351"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R433" data-line-number="433"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 		<span class="pl-k">if</span> (dbs_data-&gt;cdata-&gt;governor == GOV_CONSERVATIVE)</span>

  </td>
</tr>


    <tr>
    <td id="diff-ba009d3eca1d52565a8c581777f58361L352" data-line-number="352"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R434" data-line-number="434"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 			cs_dbs_info-&gt;enable = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td id="diff-ba009d3eca1d52565a8c581777f58361L353" data-line-number="353"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R435" data-line-number="435"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> </span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R436" data-line-number="436"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (dbs_data-&gt;cdata-&gt;governor == GOV_ELEMENTALX)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R437" data-line-number="437"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			ex_dbs_info-&gt;enable = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R438" data-line-number="438"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td id="diff-ba009d3eca1d52565a8c581777f58361L354" data-line-number="354"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R439" data-line-number="439"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 		<span class="pl-c1">gov_cancel_work</span>(dbs_data, policy);</span>

  </td>
</tr>


    <tr>
    <td id="diff-ba009d3eca1d52565a8c581777f58361L355" data-line-number="355"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R440" data-line-number="440"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> </span>

  </td>
</tr>


    <tr>
    <td id="diff-ba009d3eca1d52565a8c581777f58361L356" data-line-number="356"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R441" data-line-number="441"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 		<span class="pl-c1">mutex_lock</span>(&amp;dbs_data-&gt;mutex);</span>

  </td>
</tr>


      <tr class="js-expandable-line" data-position="179">
    <td class="blob-num blob-num-expandable" colspan="2">
      <a href="#diff-ba009d3eca1d52565a8c581777f58361"
            class="diff-expander js-expand" title="Expand" aria-label="Expand"
            data-url="/Tkkg1994/StockKernel/blob_excerpt/af2a789c02d20ecbd205d70745ed1850cb7f2727?diff=unified&amp;left_hunk_size=6&amp;mode=100755&amp;next_line_num_left=362&amp;next_line_num_right=447&amp;path=drivers%2Fcpufreq%2Fcpufreq_governor.c&amp;prev_line_num_left=356&amp;prev_line_num_right=441&amp;right_hunk_size=11"
            data-left-range="357-361" data-right-range="442-446">
        <svg aria-hidden="true" class="octicon octicon-unfold" height="16" role="img" version="1.1" viewBox="0 0 14 16" width="14"><path d="M11.5 8.5l2.5 2.5c0 0.55-0.45 1-1 1H9v-1h3.5L10.5 9H3.5L1.5 11h3.5v1H1c-0.55 0-1-0.45-1-1l2.5-2.5L0 6c0-0.55 0.45-1 1-1h4v1H1.5l2 2h7l2-2H9v-1h4c0.55 0 1 0.45 1 1L11.5 8.5z m-5.5-1.5h2V4h2L7 1 4 4h2v3z m2 3H6v3H4l3 3 3-3H8V10z"></path></svg>
      </a>
    </td>
    <td class="blob-code blob-code-inner blob-code-hunk">@@ -362,6 +447,11 @@ int cpufreq_governor_dbs(struct cpufreq_policy *policy,</td>
  </tr>

    <tr>
    <td id="diff-ba009d3eca1d52565a8c581777f58361L362" data-line-number="362"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R447" data-line-number="447"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 		<span class="pl-k">break</span>;</span>

  </td>
</tr>


    <tr>
    <td id="diff-ba009d3eca1d52565a8c581777f58361L363" data-line-number="363"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R448" data-line-number="448"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> </span>

  </td>
</tr>


    <tr>
    <td id="diff-ba009d3eca1d52565a8c581777f58361L364" data-line-number="364"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R449" data-line-number="449"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 	<span class="pl-k">case</span> CPUFREQ_GOV_LIMITS:</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R450" data-line-number="450"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">mutex_lock</span>(&amp;dbs_data-&gt;mutex);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R451" data-line-number="451"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (!cpu_cdbs-&gt;cur_policy) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R452" data-line-number="452"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c1">mutex_unlock</span>(&amp;dbs_data-&gt;mutex);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R453" data-line-number="453"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">break</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R454" data-line-number="454"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		}</span>

  </td>
</tr>


    <tr>
    <td id="diff-ba009d3eca1d52565a8c581777f58361L365" data-line-number="365"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R455" data-line-number="455"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 		<span class="pl-c1">mutex_lock</span>(&amp;cpu_cdbs-&gt;timer_mutex);</span>

  </td>
</tr>


    <tr>
    <td id="diff-ba009d3eca1d52565a8c581777f58361L366" data-line-number="366"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R456" data-line-number="456"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 		<span class="pl-k">if</span> (policy-&gt;max &lt; cpu_cdbs-&gt;cur_policy-&gt;cur)</span>

  </td>
</tr>


    <tr>
    <td id="diff-ba009d3eca1d52565a8c581777f58361L367" data-line-number="367"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R457" data-line-number="457"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 			<span class="pl-c1">__cpufreq_driver_target</span>(cpu_cdbs-&gt;cur_policy,</span>

  </td>
</tr>


      <tr class="js-expandable-line" data-position="191">
    <td class="blob-num blob-num-expandable" colspan="2">
      <a href="#diff-ba009d3eca1d52565a8c581777f58361"
            class="diff-expander js-expand" title="Expand" aria-label="Expand"
            data-url="/Tkkg1994/StockKernel/blob_excerpt/af2a789c02d20ecbd205d70745ed1850cb7f2727?diff=unified&amp;left_hunk_size=6&amp;mode=100755&amp;next_line_num_left=371&amp;next_line_num_right=461&amp;path=drivers%2Fcpufreq%2Fcpufreq_governor.c&amp;prev_line_num_left=367&amp;prev_line_num_right=457&amp;right_hunk_size=7"
            data-left-range="368-370" data-right-range="458-460">
        <svg aria-hidden="true" class="octicon octicon-unfold" height="16" role="img" version="1.1" viewBox="0 0 14 16" width="14"><path d="M11.5 8.5l2.5 2.5c0 0.55-0.45 1-1 1H9v-1h3.5L10.5 9H3.5L1.5 11h3.5v1H1c-0.55 0-1-0.45-1-1l2.5-2.5L0 6c0-0.55 0.45-1 1-1h4v1H1.5l2 2h7l2-2H9v-1h4c0.55 0 1 0.45 1 1L11.5 8.5z m-5.5-1.5h2V4h2L7 1 4 4h2v3z m2 3H6v3H4l3 3 3-3H8V10z"></path></svg>
      </a>
    </td>
    <td class="blob-code blob-code-inner blob-code-hunk">@@ -371,6 +461,7 @@ int cpufreq_governor_dbs(struct cpufreq_policy *policy,</td>
  </tr>

    <tr>
    <td id="diff-ba009d3eca1d52565a8c581777f58361L371" data-line-number="371"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R461" data-line-number="461"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 					policy-&gt;min, CPUFREQ_RELATION_L);</span>

  </td>
</tr>


    <tr>
    <td id="diff-ba009d3eca1d52565a8c581777f58361L372" data-line-number="372"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R462" data-line-number="462"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 		<span class="pl-c1">dbs_check_cpu</span>(dbs_data, cpu);</span>

  </td>
</tr>


    <tr>
    <td id="diff-ba009d3eca1d52565a8c581777f58361L373" data-line-number="373"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R463" data-line-number="463"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 		<span class="pl-c1">mutex_unlock</span>(&amp;cpu_cdbs-&gt;timer_mutex);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R464" data-line-number="464"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">mutex_unlock</span>(&amp;dbs_data-&gt;mutex);</span>

  </td>
</tr>


    <tr>
    <td id="diff-ba009d3eca1d52565a8c581777f58361L374" data-line-number="374"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R465" data-line-number="465"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 		<span class="pl-k">break</span>;</span>

  </td>
</tr>


    <tr>
    <td id="diff-ba009d3eca1d52565a8c581777f58361L375" data-line-number="375"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R466" data-line-number="466"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 	}</span>

  </td>
</tr>


    <tr>
    <td id="diff-ba009d3eca1d52565a8c581777f58361L376" data-line-number="376"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-ba009d3eca1d52565a8c581777f58361R467" data-line-number="467"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 	<span class="pl-k">return</span> <span class="pl-c1">0</span>;</span>

  </td>
</tr>


  <tr class="js-expandable-line">
   <td class="blob-num blob-num-expandable" colspan="2">
     <a href="#diff-ba009d3eca1d52565a8c581777f58361"
          class="diff-expander js-expand" title="Expand" aria-label="Expand"
          data-url="/Tkkg1994/StockKernel/blob_excerpt/af2a789c02d20ecbd205d70745ed1850cb7f2727?diff=unified&amp;mode=100755&amp;path=drivers%2Fcpufreq%2Fcpufreq_governor.c&amp;prev_line_num_left=376&amp;prev_line_num_right=467"
          data-left-range="377-469"
          data-right-range="468-469">
       <svg aria-hidden="true" class="octicon octicon-unfold" height="16" role="img" version="1.1" viewBox="0 0 14 16" width="14"><path d="M11.5 8.5l2.5 2.5c0 0.55-0.45 1-1 1H9v-1h3.5L10.5 9H3.5L1.5 11h3.5v1H1c-0.55 0-1-0.45-1-1l2.5-2.5L0 6c0-0.55 0.45-1 1-1h4v1H1.5l2 2h7l2-2H9v-1h4c0.55 0 1 0.45 1 1L11.5 8.5z m-5.5-1.5h2V4h2L7 1 4 4h2v3z m2 3H6v3H4l3 3 3-3H8V10z"></path></svg>
     </a>
   </td>
   <td class="blob-code blob-code-expandable"></td>
  </tr>

              </table>
            </div>
      </div>

      <a name="diff-41feaf7b700fe8d8e2f5784b70019af4"></a>
      <div id="diff-18"
           class="file js-details-container
                   
                   
                   
                   
                   show-inline-notes
                 ">
        <div class="file-header" data-path="drivers/cpufreq/cpufreq_governor.h">
          <div class="file-actions">
              <span class="show-file-notes">
                <label>
                  <input type="checkbox" checked="checked" class="js-toggle-file-notes">
                  Show notes
                </label>
              </span>

                <a href="/Tkkg1994/StockKernel/blob/cbf17b4b432bfe962ae330d9a86f8ded47d33b22/drivers/cpufreq/cpufreq_governor.h" class="btn btn-sm tooltipped tooltipped-nw" rel="nofollow" aria-label="View the whole file at version cbf17b4 ">View</a>


          </div>
          <div class="file-info">
              <span class="diffstat tooltipped tooltipped-e" aria-label="36 additions &amp; 0 deletions">36 <span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span></span>

            <span class="user-select-contain" title="drivers/cpufreq/cpufreq_governor.h">
              drivers/cpufreq/cpufreq_governor.h
            </span>
            
          </div>
        </div>

            <div class="data highlight blob-wrapper">
              <table class="diff-table tab-size  " data-tab-size="8">
                
      <tr class="js-expandable-line" data-position="0">
    <td class="blob-num blob-num-expandable" colspan="2">
      <a href="#diff-41feaf7b700fe8d8e2f5784b70019af4"
            class="diff-expander js-expand" title="Expand" aria-label="Expand"
            data-url="/Tkkg1994/StockKernel/blob_excerpt/af5d1eec347d5052bcc4717a624593e60e2db86f?diff=unified&amp;left_hunk_size=6&amp;mode=100755&amp;next_line_num_left=126&amp;next_line_num_right=126&amp;path=drivers%2Fcpufreq%2Fcpufreq_governor.h&amp;prev_line_num_left=&amp;prev_line_num_right=&amp;right_hunk_size=7"
            data-left-range="1-125" data-right-range="1-125">
        <svg aria-hidden="true" class="octicon octicon-unfold" height="16" role="img" version="1.1" viewBox="0 0 14 16" width="14"><path d="M11.5 8.5l2.5 2.5c0 0.55-0.45 1-1 1H9v-1h3.5L10.5 9H3.5L1.5 11h3.5v1H1c-0.55 0-1-0.45-1-1l2.5-2.5L0 6c0-0.55 0.45-1 1-1h4v1H1.5l2 2h7l2-2H9v-1h4c0.55 0 1 0.45 1 1L11.5 8.5z m-5.5-1.5h2V4h2L7 1 4 4h2v3z m2 3H6v3H4l3 3 3-3H8V10z"></path></svg>
      </a>
    </td>
    <td class="blob-code blob-code-inner blob-code-hunk">@@ -126,6 +126,7 @@ static void *get_cpu_dbs_info_s(int cpu)				\</td>
  </tr>

    <tr>
    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4L126" data-line-number="126"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4R126" data-line-number="126"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> <span class="pl-c"> * cdbs: common dbs</span></span>

  </td>
</tr>


    <tr>
    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4L127" data-line-number="127"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4R127" data-line-number="127"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> <span class="pl-c"> * od_*: On-demand governor</span></span>

  </td>
</tr>


    <tr>
    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4L128" data-line-number="128"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4R128" data-line-number="128"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> <span class="pl-c"> * cs_*: Conservative governor</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4R129" data-line-number="129"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * ex_*: ElementalX governor</span></span>

  </td>
</tr>


    <tr>
    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4L129" data-line-number="129"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4R130" data-line-number="130"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> <span class="pl-c"> */</span></span>

  </td>
</tr>


    <tr>
    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4L130" data-line-number="130"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4R131" data-line-number="131"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> </span>

  </td>
</tr>


    <tr>
    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4L131" data-line-number="131"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4R132" data-line-number="132"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> <span class="pl-c">/* Per cpu structures */</span></span>

  </td>
</tr>


      <tr class="js-expandable-line" data-position="8">
    <td class="blob-num blob-num-expandable" colspan="2">
      <a href="#diff-41feaf7b700fe8d8e2f5784b70019af4"
            class="diff-expander js-expand" title="Expand" aria-label="Expand"
            data-url="/Tkkg1994/StockKernel/blob_excerpt/af5d1eec347d5052bcc4717a624593e60e2db86f?diff=unified&amp;left_hunk_size=6&amp;mode=100755&amp;next_line_num_left=134&amp;next_line_num_right=135&amp;path=drivers%2Fcpufreq%2Fcpufreq_governor.h&amp;prev_line_num_left=131&amp;prev_line_num_right=132&amp;right_hunk_size=13"
            data-left-range="132-133" data-right-range="133-134">
        <svg aria-hidden="true" class="octicon octicon-unfold" height="16" role="img" version="1.1" viewBox="0 0 14 16" width="14"><path d="M11.5 8.5l2.5 2.5c0 0.55-0.45 1-1 1H9v-1h3.5L10.5 9H3.5L1.5 11h3.5v1H1c-0.55 0-1-0.45-1-1l2.5-2.5L0 6c0-0.55 0.45-1 1-1h4v1H1.5l2 2h7l2-2H9v-1h4c0.55 0 1 0.45 1 1L11.5 8.5z m-5.5-1.5h2V4h2L7 1 4 4h2v3z m2 3H6v3H4l3 3 3-3H8V10z"></path></svg>
      </a>
    </td>
    <td class="blob-code blob-code-inner blob-code-hunk">@@ -134,6 +135,13 @@ struct cpu_dbs_common_info {</td>
  </tr>

    <tr>
    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4L134" data-line-number="134"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4R135" data-line-number="135"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 	u64 prev_cpu_idle;</span>

  </td>
</tr>


    <tr>
    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4L135" data-line-number="135"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4R136" data-line-number="136"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 	u64 prev_cpu_wall;</span>

  </td>
</tr>


    <tr>
    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4L136" data-line-number="136"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4R137" data-line-number="137"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 	u64 prev_cpu_nice;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4R138" data-line-number="138"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4R139" data-line-number="139"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 * Used to keep track of load in the previous interval. However, when</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4R140" data-line-number="140"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 * explicitly set to zero, it is used as a flag to ensure that we copy</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4R141" data-line-number="141"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 * the previous load to the current interval only once, upon the first</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4R142" data-line-number="142"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 * wake-up from idle.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4R143" data-line-number="143"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4R144" data-line-number="144"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> prev_load;</span>

  </td>
</tr>


    <tr>
    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4L137" data-line-number="137"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4R145" data-line-number="145"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 	<span class="pl-k">struct</span> cpufreq_policy *cur_policy;</span>

  </td>
</tr>


    <tr>
    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4L138" data-line-number="138"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4R146" data-line-number="146"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 	<span class="pl-k">struct</span> delayed_work work;</span>

  </td>
</tr>


    <tr>
    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4L139" data-line-number="139"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4R147" data-line-number="147"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 	<span class="pl-c">/*</span></span>

  </td>
</tr>


      <tr class="js-expandable-line" data-position="22">
    <td class="blob-num blob-num-expandable" colspan="2">
      <a href="#diff-41feaf7b700fe8d8e2f5784b70019af4"
            class="diff-expander js-expand" title="Expand" aria-label="Expand"
            data-url="/Tkkg1994/StockKernel/blob_excerpt/af5d1eec347d5052bcc4717a624593e60e2db86f?diff=unified&amp;left_hunk_size=6&amp;mode=100755&amp;next_line_num_left=160&amp;next_line_num_right=168&amp;path=drivers%2Fcpufreq%2Fcpufreq_governor.h&amp;prev_line_num_left=139&amp;prev_line_num_right=147&amp;right_hunk_size=14"
            data-left-range="140-159" data-right-range="148-167">
        <svg aria-hidden="true" class="octicon octicon-unfold" height="16" role="img" version="1.1" viewBox="0 0 14 16" width="14"><path d="M11.5 8.5l2.5 2.5c0 0.55-0.45 1-1 1H9v-1h3.5L10.5 9H3.5L1.5 11h3.5v1H1c-0.55 0-1-0.45-1-1l2.5-2.5L0 6c0-0.55 0.45-1 1-1h4v1H1.5l2 2h7l2-2H9v-1h4c0.55 0 1 0.45 1 1L11.5 8.5z m-5.5-1.5h2V4h2L7 1 4 4h2v3z m2 3H6v3H4l3 3 3-3H8V10z"></path></svg>
      </a>
    </td>
    <td class="blob-code blob-code-inner blob-code-hunk">@@ -160,6 +168,14 @@ struct cs_cpu_dbs_info_s {</td>
  </tr>

    <tr>
    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4L160" data-line-number="160"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4R168" data-line-number="168"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> down_skip;</span>

  </td>
</tr>


    <tr>
    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4L161" data-line-number="161"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4R169" data-line-number="169"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> requested_freq;</span>

  </td>
</tr>


    <tr>
    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4L162" data-line-number="162"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4R170" data-line-number="170"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> enable:<span class="pl-c1">1</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4R171" data-line-number="171"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> twostep_counter;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4R172" data-line-number="172"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	u64 twostep_time;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4R173" data-line-number="173"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+};</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4R174" data-line-number="174"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4R175" data-line-number="175"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">struct</span> ex_cpu_dbs_info_s {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4R176" data-line-number="176"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> cpu_dbs_common_info cdbs;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4R177" data-line-number="177"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> down_floor;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4R178" data-line-number="178"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> enable:<span class="pl-c1">1</span>;</span>

  </td>
</tr>


    <tr>
    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4L163" data-line-number="163"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4R179" data-line-number="179"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> };</span>

  </td>
</tr>


    <tr>
    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4L164" data-line-number="164"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4R180" data-line-number="180"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> </span>

  </td>
</tr>


    <tr>
    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4L165" data-line-number="165"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4R181" data-line-number="181"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> <span class="pl-c">/* Per policy Governors sysfs tunables */</span></span>

  </td>
</tr>


      <tr class="js-expandable-line" data-position="37">
    <td class="blob-num blob-num-expandable" colspan="2">
      <a href="#diff-41feaf7b700fe8d8e2f5784b70019af4"
            class="diff-expander js-expand" title="Expand" aria-label="Expand"
            data-url="/Tkkg1994/StockKernel/blob_excerpt/af5d1eec347d5052bcc4717a624593e60e2db86f?diff=unified&amp;left_hunk_size=6&amp;mode=100755&amp;next_line_num_left=179&amp;next_line_num_right=195&amp;path=drivers%2Fcpufreq%2Fcpufreq_governor.h&amp;prev_line_num_left=165&amp;prev_line_num_right=181&amp;right_hunk_size=22"
            data-left-range="166-178" data-right-range="182-194">
        <svg aria-hidden="true" class="octicon octicon-unfold" height="16" role="img" version="1.1" viewBox="0 0 14 16" width="14"><path d="M11.5 8.5l2.5 2.5c0 0.55-0.45 1-1 1H9v-1h3.5L10.5 9H3.5L1.5 11h3.5v1H1c-0.55 0-1-0.45-1-1l2.5-2.5L0 6c0-0.55 0.45-1 1-1h4v1H1.5l2 2h7l2-2H9v-1h4c0.55 0 1 0.45 1 1L11.5 8.5z m-5.5-1.5h2V4h2L7 1 4 4h2v3z m2 3H6v3H4l3 3 3-3H8V10z"></path></svg>
      </a>
    </td>
    <td class="blob-code blob-code-inner blob-code-hunk">@@ -179,6 +195,22 @@ struct cs_dbs_tuners {</td>
  </tr>

    <tr>
    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4L179" data-line-number="179"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4R195" data-line-number="195"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> up_threshold;</span>

  </td>
</tr>


    <tr>
    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4L180" data-line-number="180"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4R196" data-line-number="196"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> down_threshold;</span>

  </td>
</tr>


    <tr>
    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4L181" data-line-number="181"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4R197" data-line-number="197"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> freq_step;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4R198" data-line-number="198"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> input_boost_freq;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4R199" data-line-number="199"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> input_boost_duration;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4R200" data-line-number="200"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> twostep_threshold;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4R201" data-line-number="201"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> min_load;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4R202" data-line-number="202"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+};</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4R203" data-line-number="203"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4R204" data-line-number="204"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">struct</span> ex_dbs_tuners {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4R205" data-line-number="205"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> ignore_nice_load;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4R206" data-line-number="206"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> sampling_rate;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4R207" data-line-number="207"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> up_threshold;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4R208" data-line-number="208"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> down_differential;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4R209" data-line-number="209"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> gboost;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4R210" data-line-number="210"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> gboost_min_freq;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4R211" data-line-number="211"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> active_floor_freq;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4R212" data-line-number="212"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> max_screen_off_freq;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4R213" data-line-number="213"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> sampling_down_factor;</span>

  </td>
</tr>


    <tr>
    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4L182" data-line-number="182"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4R214" data-line-number="214"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> };</span>

  </td>
</tr>


    <tr>
    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4L183" data-line-number="183"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4R215" data-line-number="215"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> </span>

  </td>
</tr>


    <tr>
    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4L184" data-line-number="184"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4R216" data-line-number="216"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> <span class="pl-c">/* Common Governor data across policies */</span></span>

  </td>
</tr>


      <tr class="js-expandable-line" data-position="60">
    <td class="blob-num blob-num-expandable" colspan="2">
      <a href="#diff-41feaf7b700fe8d8e2f5784b70019af4"
            class="diff-expander js-expand" title="Expand" aria-label="Expand"
            data-url="/Tkkg1994/StockKernel/blob_excerpt/af5d1eec347d5052bcc4717a624593e60e2db86f?diff=unified&amp;left_hunk_size=6&amp;mode=100755&amp;next_line_num_left=187&amp;next_line_num_right=219&amp;path=drivers%2Fcpufreq%2Fcpufreq_governor.h&amp;prev_line_num_left=184&amp;prev_line_num_right=216&amp;right_hunk_size=8"
            data-left-range="185-186" data-right-range="217-218">
        <svg aria-hidden="true" class="octicon octicon-unfold" height="16" role="img" version="1.1" viewBox="0 0 14 16" width="14"><path d="M11.5 8.5l2.5 2.5c0 0.55-0.45 1-1 1H9v-1h3.5L10.5 9H3.5L1.5 11h3.5v1H1c-0.55 0-1-0.45-1-1l2.5-2.5L0 6c0-0.55 0.45-1 1-1h4v1H1.5l2 2h7l2-2H9v-1h4c0.55 0 1 0.45 1 1L11.5 8.5z m-5.5-1.5h2V4h2L7 1 4 4h2v3z m2 3H6v3H4l3 3 3-3H8V10z"></path></svg>
      </a>
    </td>
    <td class="blob-code blob-code-inner blob-code-hunk">@@ -187,6 +219,8 @@ struct common_dbs_data {</td>
  </tr>

    <tr>
    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4L187" data-line-number="187"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4R219" data-line-number="219"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 	<span class="pl-c">/* Common across governors */</span></span>

  </td>
</tr>


    <tr>
    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4L188" data-line-number="188"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4R220" data-line-number="220"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 	#<span class="pl-k">define</span> <span class="pl-en">GOV_ONDEMAND</span>		<span class="pl-c1">0</span></span>

  </td>
</tr>


    <tr>
    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4L189" data-line-number="189"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4R221" data-line-number="221"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 	#<span class="pl-k">define</span> <span class="pl-en">GOV_CONSERVATIVE</span>	<span class="pl-c1">1</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4R222" data-line-number="222"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	#<span class="pl-k">define</span> <span class="pl-en">GOV_ELEMENTALX</span>		<span class="pl-c1">2</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4R223" data-line-number="223"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	#<span class="pl-k">define</span> <span class="pl-en">GOV_CONSERVATIVE_X</span>	<span class="pl-c1">3</span></span>

  </td>
</tr>


    <tr>
    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4L190" data-line-number="190"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4R224" data-line-number="224"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 	<span class="pl-k">int</span> governor;</span>

  </td>
</tr>


    <tr>
    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4L191" data-line-number="191"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4R225" data-line-number="225"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 	<span class="pl-k">struct</span> attribute_group *attr_group_gov_sys; <span class="pl-c">/* one governor - system */</span></span>

  </td>
</tr>


    <tr>
    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4L192" data-line-number="192"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4R226" data-line-number="226"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 	<span class="pl-k">struct</span> attribute_group *attr_group_gov_pol; <span class="pl-c">/* one governor - policy */</span></span>

  </td>
</tr>


      <tr class="js-expandable-line" data-position="69">
    <td class="blob-num blob-num-expandable" colspan="2">
      <a href="#diff-41feaf7b700fe8d8e2f5784b70019af4"
            class="diff-expander js-expand" title="Expand" aria-label="Expand"
            data-url="/Tkkg1994/StockKernel/blob_excerpt/af5d1eec347d5052bcc4717a624593e60e2db86f?diff=unified&amp;left_hunk_size=6&amp;mode=100755&amp;next_line_num_left=257&amp;next_line_num_right=291&amp;path=drivers%2Fcpufreq%2Fcpufreq_governor.h&amp;prev_line_num_left=192&amp;prev_line_num_right=226&amp;right_hunk_size=8"
            data-left-range="193-256" data-right-range="227-290">
        <svg aria-hidden="true" class="octicon octicon-unfold" height="16" role="img" version="1.1" viewBox="0 0 14 16" width="14"><path d="M11.5 8.5l2.5 2.5c0 0.55-0.45 1-1 1H9v-1h3.5L10.5 9H3.5L1.5 11h3.5v1H1c-0.55 0-1-0.45-1-1l2.5-2.5L0 6c0-0.55 0.45-1 1-1h4v1H1.5l2 2h7l2-2H9v-1h4c0.55 0 1 0.45 1 1L11.5 8.5z m-5.5-1.5h2V4h2L7 1 4 4h2v3z m2 3H6v3H4l3 3 3-3H8V10z"></path></svg>
      </a>
    </td>
    <td class="blob-code blob-code-inner blob-code-hunk">@@ -257,6 +291,8 @@ static ssize_t show_sampling_rate_min_gov_pol				\</td>
  </tr>

    <tr>
    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4L257" data-line-number="257"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4R291" data-line-number="291"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 	<span class="pl-k">return</span> <span class="pl-c1">sprintf</span>(buf, <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%u</span><span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>, dbs_data-&gt;min_sampling_rate);	\</span>

  </td>
</tr>


    <tr>
    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4L258" data-line-number="258"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4R292" data-line-number="292"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> }</span>

  </td>
</tr>


    <tr>
    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4L259" data-line-number="259"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4R293" data-line-number="293"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> </span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4R294" data-line-number="294"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">extern</span> <span class="pl-k">struct</span> mutex cpufreq_governor_lock;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4R295" data-line-number="295"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4L260" data-line-number="260"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4R296" data-line-number="296"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> <span class="pl-k">void</span> <span class="pl-en">dbs_check_cpu</span>(<span class="pl-k">struct</span> dbs_data *dbs_data, <span class="pl-k">int</span> cpu);</span>

  </td>
</tr>


    <tr>
    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4L261" data-line-number="261"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4R297" data-line-number="297"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> <span class="pl-k">bool</span> <span class="pl-en">need_load_eval</span>(<span class="pl-k">struct</span> cpu_dbs_common_info *cdbs,</span>

  </td>
</tr>


    <tr>
    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4L262" data-line-number="262"
        class="blob-num blob-num-context js-linkable-line-number"></td>

    <td id="diff-41feaf7b700fe8d8e2f5784b70019af4R298" data-line-number="298"
        class="blob-num blob-num-context js-linkable-line-number"></td>

  <td class="blob-code blob-code-context">

    <span class="blob-code-inner"> 		<span class="pl-k">unsigned</span> <span class="pl-k">int</span> sampling_rate);</span>

  </td>
</tr>


  <tr class="js-expandable-line">
   <td class="blob-num blob-num-expandable" colspan="2">
     <a href="#diff-41feaf7b700fe8d8e2f5784b70019af4"
          class="diff-expander js-expand" title="Expand" aria-label="Expand"
          data-url="/Tkkg1994/StockKernel/blob_excerpt/af5d1eec347d5052bcc4717a624593e60e2db86f?diff=unified&amp;mode=100755&amp;path=drivers%2Fcpufreq%2Fcpufreq_governor.h&amp;prev_line_num_left=262&amp;prev_line_num_right=298"
          data-left-range="263-307"
          data-right-range="299-307">
       <svg aria-hidden="true" class="octicon octicon-unfold" height="16" role="img" version="1.1" viewBox="0 0 14 16" width="14"><path d="M11.5 8.5l2.5 2.5c0 0.55-0.45 1-1 1H9v-1h3.5L10.5 9H3.5L1.5 11h3.5v1H1c-0.55 0-1-0.45-1-1l2.5-2.5L0 6c0-0.55 0.45-1 1-1h4v1H1.5l2 2h7l2-2H9v-1h4c0.55 0 1 0.45 1 1L11.5 8.5z m-5.5-1.5h2V4h2L7 1 4 4h2v3z m2 3H6v3H4l3 3 3-3H8V10z"></path></svg>
     </a>
   </td>
   <td class="blob-code blob-code-expandable"></td>
  </tr>

              </table>
            </div>
      </div>

      <a name="diff-ba228da1eb20d9d10794f02a92ec64cb"></a>
      <div id="diff-19"
           class="file js-details-container
                   
                   
                   
                   
                   show-inline-notes
                 ">
        <div class="file-header" data-path="drivers/cpufreq/cpufreq_hellsactive.c">
          <div class="file-actions">
              <span class="show-file-notes">
                <label>
                  <input type="checkbox" checked="checked" class="js-toggle-file-notes">
                  Show notes
                </label>
              </span>

                <a href="/Tkkg1994/StockKernel/blob/cbf17b4b432bfe962ae330d9a86f8ded47d33b22/drivers/cpufreq/cpufreq_hellsactive.c" class="btn btn-sm tooltipped tooltipped-nw" rel="nofollow" aria-label="View the whole file at version cbf17b4 ">View</a>


          </div>
          <div class="file-info">
              <span class="diffstat tooltipped tooltipped-e" aria-label="1,548 additions &amp; 0 deletions">1,548 <span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span></span>

            <span class="user-select-contain" title="drivers/cpufreq/cpufreq_hellsactive.c">
              drivers/cpufreq/cpufreq_hellsactive.c
            </span>
            
          </div>
        </div>

            <div class="data highlight empty">
              1,548 additions,
              0 deletions
              not shown because the diff is too large. Please use a local Git client to view these changes.
            </div>
      </div>

      <a name="diff-a3868800aadebc75e1239d00dbbbce5b"></a>
      <div id="diff-20"
           class="file js-details-container
                   
                   
                   
                   
                   show-inline-notes
                 ">
        <div class="file-header" data-path="drivers/cpufreq/cpufreq_impulse.c">
          <div class="file-actions">
              <span class="show-file-notes">
                <label>
                  <input type="checkbox" checked="checked" class="js-toggle-file-notes">
                  Show notes
                </label>
              </span>

                <a href="/Tkkg1994/StockKernel/blob/cbf17b4b432bfe962ae330d9a86f8ded47d33b22/drivers/cpufreq/cpufreq_impulse.c" class="btn btn-sm tooltipped tooltipped-nw" rel="nofollow" aria-label="View the whole file at version cbf17b4 ">View</a>


          </div>
          <div class="file-info">
              <span class="diffstat tooltipped tooltipped-e" aria-label="1,653 additions &amp; 0 deletions">1,653 <span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span></span>

            <span class="user-select-contain" title="drivers/cpufreq/cpufreq_impulse.c">
              drivers/cpufreq/cpufreq_impulse.c
            </span>
            
          </div>
        </div>

            <div class="data highlight empty">
              1,653 additions,
              0 deletions
              not shown because the diff is too large. Please use a local Git client to view these changes.
            </div>
      </div>

      <a name="diff-2bbd4012b78fe96173447fbc39e1d1a1"></a>
      <div id="diff-21"
           class="file js-details-container
                   
                   
                   
                   
                   show-inline-notes
                 ">
        <div class="file-header" data-path="drivers/cpufreq/cpufreq_intelliactive.c">
          <div class="file-actions">
              <span class="show-file-notes">
                <label>
                  <input type="checkbox" checked="checked" class="js-toggle-file-notes">
                  Show notes
                </label>
              </span>

                <a href="/Tkkg1994/StockKernel/blob/cbf17b4b432bfe962ae330d9a86f8ded47d33b22/drivers/cpufreq/cpufreq_intelliactive.c" class="btn btn-sm tooltipped tooltipped-nw" rel="nofollow" aria-label="View the whole file at version cbf17b4 ">View</a>


          </div>
          <div class="file-info">
              <span class="diffstat tooltipped tooltipped-e" aria-label="1,439 additions &amp; 0 deletions">1,439 <span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span><span class="block-diff-added"></span></span>

            <span class="user-select-contain" title="drivers/cpufreq/cpufreq_intelliactive.c">
              drivers/cpufreq/cpufreq_intelliactive.c
            </span>
            
          </div>
        </div>

            <div class="data highlight blob-wrapper">
              <table class="diff-table tab-size  " data-tab-size="8">
                
      <tr data-position="0">
    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1L-1" class="blob-num blob-num-hunk non-expandable" data-line-number="..."></td>
    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R0" class="blob-num blob-num-hunk non-expandable" data-line-number="..."></td>
    <td class="blob-code blob-code-inner blob-code-hunk">@@ -0,0 +1,1439 @@</td>
  </tr>

    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1" data-line-number="1"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R2" data-line-number="2"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * drivers/cpufreq/cpufreq_intelliactive.c</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R3" data-line-number="3"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> *</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R4" data-line-number="4"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * Copyright (C) 2010 Google, Inc.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R5" data-line-number="5"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * Copyright (C) 2014 Paul Reioux</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R6" data-line-number="6"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> *</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R7" data-line-number="7"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * This software is licensed under the terms of the GNU General Public</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R8" data-line-number="8"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * License version 2, as published by the Free Software Foundation, and</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R9" data-line-number="9"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * may be copied, distributed, and modified under those terms.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R10" data-line-number="10"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> *</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R11" data-line-number="11"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * This program is distributed in the hope that it will be useful,</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R12" data-line-number="12"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R13" data-line-number="13"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R14" data-line-number="14"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * GNU General Public License for more details.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R15" data-line-number="15"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> *</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R16" data-line-number="16"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * Author: Mike Chan (mike@android.com)</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R17" data-line-number="17"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * Author: Paul Reioux (reioux@gmail.com) Modified for intelliactive</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R18" data-line-number="18"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R19" data-line-number="19"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R20" data-line-number="20"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/cpu.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R21" data-line-number="21"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/cpumask.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R22" data-line-number="22"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/cpufreq.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R23" data-line-number="23"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/module.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R24" data-line-number="24"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/moduleparam.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R25" data-line-number="25"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/rwsem.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R26" data-line-number="26"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/sched.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R27" data-line-number="27"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/sched/rt.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R28" data-line-number="28"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/tick.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R29" data-line-number="29"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/time.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R30" data-line-number="30"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/timer.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R31" data-line-number="31"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/workqueue.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R32" data-line-number="32"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/kthread.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R33" data-line-number="33"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>linux/slab.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R34" data-line-number="34"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">include</span> <span class="pl-s"><span class="pl-pds">&lt;</span>asm/cputime.h<span class="pl-pds">&gt;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R35" data-line-number="35"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R36" data-line-number="36"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">int</span> active_count;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R37" data-line-number="37"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R38" data-line-number="38"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">struct</span> cpufreq_interactive_cpuinfo {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R39" data-line-number="39"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> timer_list cpu_timer;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R40" data-line-number="40"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> timer_list cpu_slack_timer;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R41" data-line-number="41"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">spinlock_t</span> load_lock; <span class="pl-c">/* protects the next 4 fields */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R42" data-line-number="42"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	u64 time_in_idle;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R43" data-line-number="43"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	u64 time_in_idle_timestamp;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R44" data-line-number="44"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	u64 cputime_speedadj;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R45" data-line-number="45"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	u64 cputime_speedadj_timestamp;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R46" data-line-number="46"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> cpufreq_policy *policy;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R47" data-line-number="47"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> cpufreq_frequency_table *freq_table;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R48" data-line-number="48"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">spinlock_t</span> target_freq_lock; <span class="pl-c">/*protects target freq */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R49" data-line-number="49"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> target_freq;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R50" data-line-number="50"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> floor_freq;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R51" data-line-number="51"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	u64 floor_validate_time;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R52" data-line-number="52"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	u64 hispeed_validate_time; <span class="pl-c">/* cluster hispeed_validate_time */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R53" data-line-number="53"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> rw_semaphore enable_sem;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R54" data-line-number="54"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> governor_enabled;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R55" data-line-number="55"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> prev_load;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R56" data-line-number="56"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> two_phase_freq;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R57" data-line-number="57"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+};</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R58" data-line-number="58"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R59" data-line-number="59"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-en">DEFINE_PER_CPU</span>(<span class="pl-k">struct</span> cpufreq_interactive_cpuinfo, cpuinfo);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R60" data-line-number="60"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R61" data-line-number="61"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">/* realtime thread handles frequency scaling */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R62" data-line-number="62"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">struct</span> task_struct *speedchange_task;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R63" data-line-number="63"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">cpumask_t</span> speedchange_cpumask;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R64" data-line-number="64"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">spinlock_t</span> speedchange_cpumask_lock;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R65" data-line-number="65"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">struct</span> mutex gov_lock;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R66" data-line-number="66"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R67" data-line-number="67"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">/* Hi speed to bump to from lo speed when load burst (default max) */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R68" data-line-number="68"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">unsigned</span> <span class="pl-k">int</span> hispeed_freq = <span class="pl-c1">1574400</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R69" data-line-number="69"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R70" data-line-number="70"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">/* Go to hi speed when CPU load at or above this value. */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R71" data-line-number="71"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">DEFAULT_GO_HISPEED_LOAD</span> <span class="pl-c1">99</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R72" data-line-number="72"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">unsigned</span> <span class="pl-k">long</span> go_hispeed_load = DEFAULT_GO_HISPEED_LOAD;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R73" data-line-number="73"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R74" data-line-number="74"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">/* Sampling down factor to be applied to min_sample_time at max freq */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R75" data-line-number="75"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">unsigned</span> <span class="pl-k">int</span> sampling_down_factor = <span class="pl-c1">1</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R76" data-line-number="76"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R77" data-line-number="77"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">/* Target load.  Lower values result in higher CPU speeds. */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R78" data-line-number="78"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">DEFAULT_TARGET_LOAD</span> <span class="pl-c1">80</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R79" data-line-number="79"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">unsigned</span> <span class="pl-k">int</span> default_target_loads[] = {DEFAULT_TARGET_LOAD};</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R80" data-line-number="80"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">spinlock_t</span> target_loads_lock;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R81" data-line-number="81"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">unsigned</span> <span class="pl-k">int</span> *target_loads = default_target_loads;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R82" data-line-number="82"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">int</span> ntarget_loads = ARRAY_SIZE(default_target_loads);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R83" data-line-number="83"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R84" data-line-number="84"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R85" data-line-number="85"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * The minimum amount of time to spend at a frequency before we can ramp down.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R86" data-line-number="86"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R87" data-line-number="87"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">DEFAULT_MIN_SAMPLE_TIME</span> (<span class="pl-c1">50</span> * USEC_PER_MSEC)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R88" data-line-number="88"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">unsigned</span> <span class="pl-k">long</span> min_sample_time = DEFAULT_MIN_SAMPLE_TIME;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R89" data-line-number="89"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R90" data-line-number="90"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R91" data-line-number="91"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * The sample rate of the timer used to increase frequency</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R92" data-line-number="92"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R93" data-line-number="93"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">DEFAULT_TIMER_RATE</span> (<span class="pl-c1">20</span> * USEC_PER_MSEC)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R94" data-line-number="94"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">unsigned</span> <span class="pl-k">long</span> timer_rate = DEFAULT_TIMER_RATE;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R95" data-line-number="95"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R96" data-line-number="96"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">/* Busy SDF parameters*/</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R97" data-line-number="97"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">MIN_BUSY_TIME</span> (<span class="pl-c1">100</span> * USEC_PER_MSEC)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R98" data-line-number="98"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R99" data-line-number="99"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R100" data-line-number="100"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * Wait this long before raising speed above hispeed, by default a single</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R101" data-line-number="101"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * timer interval.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R102" data-line-number="102"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R103" data-line-number="103"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">DEFAULT_ABOVE_HISPEED_DELAY</span> DEFAULT_TIMER_RATE</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R104" data-line-number="104"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">unsigned</span> <span class="pl-k">int</span> default_above_hispeed_delay[] = {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R105" data-line-number="105"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	DEFAULT_ABOVE_HISPEED_DELAY };</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R106" data-line-number="106"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">spinlock_t</span> above_hispeed_delay_lock;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R107" data-line-number="107"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">unsigned</span> <span class="pl-k">int</span> *above_hispeed_delay = default_above_hispeed_delay;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R108" data-line-number="108"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">int</span> nabove_hispeed_delay = ARRAY_SIZE(default_above_hispeed_delay);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R109" data-line-number="109"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R110" data-line-number="110"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">/* Non-zero means indefinite speed boost active */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R111" data-line-number="111"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">int</span> boost_val;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R112" data-line-number="112"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">/* Duration of a boot pulse in usecs */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R113" data-line-number="113"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">int</span> boostpulse_duration_val = DEFAULT_MIN_SAMPLE_TIME;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R114" data-line-number="114"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">/* End time of boost pulse in ktime converted to usecs */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R115" data-line-number="115"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> u64 boostpulse_endtime;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R116" data-line-number="116"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R117" data-line-number="117"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R118" data-line-number="118"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * Max additional time to wait in idle, beyond timer_rate, at speeds above</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R119" data-line-number="119"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * minimum before wakeup to reduce speed, or -1 if unnecessary.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R120" data-line-number="120"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R121" data-line-number="121"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">define</span> <span class="pl-en">DEFAULT_TIMER_SLACK</span> (<span class="pl-c1">4</span> * DEFAULT_TIMER_RATE)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R122" data-line-number="122"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">int</span> timer_slack_val = DEFAULT_TIMER_SLACK;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R123" data-line-number="123"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R124" data-line-number="124"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R125" data-line-number="125"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * If the max load among other CPUs is higher than up_threshold_any_cpu_load</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R126" data-line-number="126"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * or if the highest frequency among the other CPUs is higher than</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R127" data-line-number="127"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * up_threshold_any_cpu_freq then do not let the frequency to drop below</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R128" data-line-number="128"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * sync_freq</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R129" data-line-number="129"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R130" data-line-number="130"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">unsigned</span> <span class="pl-k">int</span> up_threshold_any_cpu_load = <span class="pl-c1">80</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R131" data-line-number="131"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">unsigned</span> <span class="pl-k">int</span> sync_freq = <span class="pl-c1">1574400</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R132" data-line-number="132"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">unsigned</span> <span class="pl-k">int</span> up_threshold_any_cpu_freq = <span class="pl-c1">1574400</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R133" data-line-number="133"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R134" data-line-number="134"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">int</span> two_phase_freq_array[NR_CPUS] = {[<span class="pl-c1">0</span> ... NR_CPUS-<span class="pl-c1">1</span>] = <span class="pl-c1">1958400</span>} ;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R135" data-line-number="135"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R136" data-line-number="136"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">void</span> <span class="pl-en">cpufreq_interactive_timer_resched</span>(</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R137" data-line-number="137"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> cpufreq_interactive_cpuinfo *pcpu)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R138" data-line-number="138"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R139" data-line-number="139"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">long</span> expires;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R140" data-line-number="140"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">long</span> flags;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R141" data-line-number="141"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R142" data-line-number="142"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">spin_lock_irqsave</span>(&amp;pcpu-&gt;load_lock, flags);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R143" data-line-number="143"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	pcpu-&gt;time_in_idle =</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R144" data-line-number="144"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">get_cpu_idle_time</span>(<span class="pl-c1">smp_processor_id</span>(),</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R145" data-line-number="145"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				     &amp;pcpu-&gt;time_in_idle_timestamp, <span class="pl-c1">0</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R146" data-line-number="146"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	pcpu-&gt;cputime_speedadj = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R147" data-line-number="147"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	pcpu-&gt;cputime_speedadj_timestamp = pcpu-&gt;time_in_idle_timestamp;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R148" data-line-number="148"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	expires = jiffies + <span class="pl-c1">usecs_to_jiffies</span>(timer_rate);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R149" data-line-number="149"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">mod_timer_pinned</span>(&amp;pcpu-&gt;cpu_timer, expires);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R150" data-line-number="150"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R151" data-line-number="151"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (timer_slack_val &gt;= <span class="pl-c1">0</span> &amp;&amp; pcpu-&gt;target_freq &gt; pcpu-&gt;policy-&gt;min) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R152" data-line-number="152"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		expires += <span class="pl-c1">usecs_to_jiffies</span>(timer_slack_val);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R153" data-line-number="153"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">mod_timer_pinned</span>(&amp;pcpu-&gt;cpu_slack_timer, expires);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R154" data-line-number="154"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R155" data-line-number="155"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R156" data-line-number="156"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">spin_unlock_irqrestore</span>(&amp;pcpu-&gt;load_lock, flags);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R157" data-line-number="157"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R158" data-line-number="158"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R159" data-line-number="159"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">/* The caller shall take enable_sem write semaphore to avoid any timer race.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R160" data-line-number="160"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * The cpu_timer and cpu_slack_timer must be deactivated when calling this</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R161" data-line-number="161"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * function.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R162" data-line-number="162"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R163" data-line-number="163"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">void</span> <span class="pl-en">cpufreq_interactive_timer_start</span>(<span class="pl-k">int</span> cpu)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R164" data-line-number="164"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R165" data-line-number="165"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> cpufreq_interactive_cpuinfo *pcpu = &amp;<span class="pl-c1">per_cpu</span>(cpuinfo, cpu);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R166" data-line-number="166"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">long</span> expires = jiffies + <span class="pl-c1">usecs_to_jiffies</span>(timer_rate);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R167" data-line-number="167"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">long</span> flags;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R168" data-line-number="168"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R169" data-line-number="169"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	pcpu-&gt;cpu_timer.<span class="pl-smi">expires</span> = expires;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R170" data-line-number="170"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (<span class="pl-c1">cpu_online</span>(cpu)) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R171" data-line-number="171"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">add_timer_on</span>(&amp;pcpu-&gt;cpu_timer, cpu);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R172" data-line-number="172"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (timer_slack_val &gt;= <span class="pl-c1">0</span> &amp;&amp;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R173" data-line-number="173"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				pcpu-&gt;target_freq &gt; pcpu-&gt;policy-&gt;min) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R174" data-line-number="174"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			expires += <span class="pl-c1">usecs_to_jiffies</span>(timer_slack_val);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R175" data-line-number="175"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			pcpu-&gt;cpu_slack_timer.<span class="pl-smi">expires</span> = expires;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R176" data-line-number="176"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c1">add_timer_on</span>(&amp;pcpu-&gt;cpu_slack_timer, cpu);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R177" data-line-number="177"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R178" data-line-number="178"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R179" data-line-number="179"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R180" data-line-number="180"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">spin_lock_irqsave</span>(&amp;pcpu-&gt;load_lock, flags);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R181" data-line-number="181"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	pcpu-&gt;time_in_idle =</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R182" data-line-number="182"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">get_cpu_idle_time</span>(cpu, &amp;pcpu-&gt;time_in_idle_timestamp,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R183" data-line-number="183"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				<span class="pl-c1">0</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R184" data-line-number="184"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	pcpu-&gt;cputime_speedadj = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R185" data-line-number="185"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	pcpu-&gt;cputime_speedadj_timestamp = pcpu-&gt;time_in_idle_timestamp;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R186" data-line-number="186"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">spin_unlock_irqrestore</span>(&amp;pcpu-&gt;load_lock, flags);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R187" data-line-number="187"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R188" data-line-number="188"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R189" data-line-number="189"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">unsigned</span> <span class="pl-k">int</span> <span class="pl-en">freq_to_above_hispeed_delay</span>(<span class="pl-k">unsigned</span> <span class="pl-k">int</span> freq)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R190" data-line-number="190"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R191" data-line-number="191"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> i;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R192" data-line-number="192"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R193" data-line-number="193"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">long</span> flags;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R194" data-line-number="194"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R195" data-line-number="195"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">spin_lock_irqsave</span>(&amp;above_hispeed_delay_lock, flags);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R196" data-line-number="196"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R197" data-line-number="197"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">for</span> (i = <span class="pl-c1">0</span>; i &lt; nabove_hispeed_delay - <span class="pl-c1">1</span> &amp;&amp;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R198" data-line-number="198"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			freq &gt;= above_hispeed_delay[i+<span class="pl-c1">1</span>]; i += <span class="pl-c1">2</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R199" data-line-number="199"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R200" data-line-number="200"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R201" data-line-number="201"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	ret = above_hispeed_delay[i];</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R202" data-line-number="202"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	ret = (ret &gt; (<span class="pl-c1">1</span> * USEC_PER_MSEC)) ? (ret - (<span class="pl-c1">1</span> * USEC_PER_MSEC)) : ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R203" data-line-number="203"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R204" data-line-number="204"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">spin_unlock_irqrestore</span>(&amp;above_hispeed_delay_lock, flags);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R205" data-line-number="205"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R206" data-line-number="206"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R207" data-line-number="207"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R208" data-line-number="208"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">unsigned</span> <span class="pl-k">int</span> <span class="pl-en">freq_to_targetload</span>(<span class="pl-k">unsigned</span> <span class="pl-k">int</span> freq)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R209" data-line-number="209"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R210" data-line-number="210"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> i;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R211" data-line-number="211"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R212" data-line-number="212"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">long</span> flags;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R213" data-line-number="213"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R214" data-line-number="214"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">spin_lock_irqsave</span>(&amp;target_loads_lock, flags);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R215" data-line-number="215"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R216" data-line-number="216"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">for</span> (i = <span class="pl-c1">0</span>; i &lt; ntarget_loads - <span class="pl-c1">1</span> &amp;&amp; freq &gt;= target_loads[i+<span class="pl-c1">1</span>]; i += <span class="pl-c1">2</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R217" data-line-number="217"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R218" data-line-number="218"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R219" data-line-number="219"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	ret = target_loads[i];</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R220" data-line-number="220"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">spin_unlock_irqrestore</span>(&amp;target_loads_lock, flags);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R221" data-line-number="221"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R222" data-line-number="222"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R223" data-line-number="223"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R224" data-line-number="224"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R225" data-line-number="225"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * If increasing frequencies never map to a lower target load then</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R226" data-line-number="226"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * choose_freq() will find the minimum frequency that does not exceed its</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R227" data-line-number="227"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> * target load given the current load.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R228" data-line-number="228"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c"> */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R229" data-line-number="229"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R230" data-line-number="230"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">unsigned</span> <span class="pl-k">int</span> <span class="pl-en">choose_freq</span>(</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R231" data-line-number="231"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> cpufreq_interactive_cpuinfo *pcpu, <span class="pl-k">unsigned</span> <span class="pl-k">int</span> loadadjfreq)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R232" data-line-number="232"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R233" data-line-number="233"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> freq = pcpu-&gt;policy-&gt;cur;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R234" data-line-number="234"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> prevfreq, freqmin, freqmax;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R235" data-line-number="235"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> tl;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R236" data-line-number="236"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> <span class="pl-c1">index</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R237" data-line-number="237"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R238" data-line-number="238"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	freqmin = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R239" data-line-number="239"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	freqmax = UINT_MAX;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R240" data-line-number="240"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R241" data-line-number="241"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">do</span> {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R242" data-line-number="242"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		prevfreq = freq;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R243" data-line-number="243"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		tl = <span class="pl-c1">freq_to_targetload</span>(freq);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R244" data-line-number="244"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R245" data-line-number="245"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R246" data-line-number="246"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * Find the lowest frequency where the computed load is less</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R247" data-line-number="247"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * than or equal to the target load.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R248" data-line-number="248"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R249" data-line-number="249"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R250" data-line-number="250"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (<span class="pl-c1">cpufreq_frequency_table_target</span>(</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R251" data-line-number="251"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			    pcpu-&gt;policy, pcpu-&gt;freq_table, loadadjfreq / tl,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R252" data-line-number="252"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			    CPUFREQ_RELATION_L, &amp;<span class="pl-c1">index</span>))</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R253" data-line-number="253"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">break</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R254" data-line-number="254"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		freq = pcpu-&gt;freq_table[<span class="pl-c1">index</span>].<span class="pl-smi">frequency</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R255" data-line-number="255"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R256" data-line-number="256"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (freq &gt; prevfreq) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R257" data-line-number="257"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c">/* The previous frequency is too low. */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R258" data-line-number="258"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			freqmin = prevfreq;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R259" data-line-number="259"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R260" data-line-number="260"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">if</span> (freq &gt;= freqmax) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R261" data-line-number="261"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R262" data-line-number="262"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">				 * Find the highest frequency that is less</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R263" data-line-number="263"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">				 * than freqmax.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R264" data-line-number="264"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">				 */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R265" data-line-number="265"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				<span class="pl-k">if</span> (<span class="pl-c1">cpufreq_frequency_table_target</span>(</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R266" data-line-number="266"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+					    pcpu-&gt;policy, pcpu-&gt;freq_table,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R267" data-line-number="267"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+					    freqmax - <span class="pl-c1">1</span>, CPUFREQ_RELATION_H,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R268" data-line-number="268"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+					    &amp;<span class="pl-c1">index</span>))</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R269" data-line-number="269"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+					<span class="pl-k">break</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R270" data-line-number="270"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				freq = pcpu-&gt;freq_table[<span class="pl-c1">index</span>].<span class="pl-smi">frequency</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R271" data-line-number="271"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R272" data-line-number="272"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				<span class="pl-k">if</span> (freq == freqmin) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R273" data-line-number="273"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+					<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R274" data-line-number="274"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">					 * The first frequency below freqmax</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R275" data-line-number="275"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">					 * has already been found to be too</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R276" data-line-number="276"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">					 * low.  freqmax is the lowest speed</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R277" data-line-number="277"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">					 * we found that is fast enough.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R278" data-line-number="278"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">					 */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R279" data-line-number="279"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+					freq = freqmax;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R280" data-line-number="280"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+					<span class="pl-k">break</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R281" data-line-number="281"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R282" data-line-number="282"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R283" data-line-number="283"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		} <span class="pl-k">else</span> <span class="pl-k">if</span> (freq &lt; prevfreq) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R284" data-line-number="284"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c">/* The previous frequency is high enough. */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R285" data-line-number="285"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			freqmax = prevfreq;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R286" data-line-number="286"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R287" data-line-number="287"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">if</span> (freq &lt;= freqmin) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R288" data-line-number="288"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R289" data-line-number="289"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">				 * Find the lowest frequency that is higher</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R290" data-line-number="290"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">				 * than freqmin.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R291" data-line-number="291"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">				 */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R292" data-line-number="292"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				<span class="pl-k">if</span> (<span class="pl-c1">cpufreq_frequency_table_target</span>(</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R293" data-line-number="293"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+					    pcpu-&gt;policy, pcpu-&gt;freq_table,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R294" data-line-number="294"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+					    freqmin + <span class="pl-c1">1</span>, CPUFREQ_RELATION_L,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R295" data-line-number="295"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+					    &amp;<span class="pl-c1">index</span>))</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R296" data-line-number="296"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+					<span class="pl-k">break</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R297" data-line-number="297"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				freq = pcpu-&gt;freq_table[<span class="pl-c1">index</span>].<span class="pl-smi">frequency</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R298" data-line-number="298"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R299" data-line-number="299"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R300" data-line-number="300"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">				 * If freqmax is the first frequency above</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R301" data-line-number="301"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">				 * freqmin then we have already found that</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R302" data-line-number="302"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">				 * this speed is fast enough.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R303" data-line-number="303"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">				 */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R304" data-line-number="304"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				<span class="pl-k">if</span> (freq == freqmax)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R305" data-line-number="305"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+					<span class="pl-k">break</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R306" data-line-number="306"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R307" data-line-number="307"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R308" data-line-number="308"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R309" data-line-number="309"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c">/* If same frequency chosen as previous then done. */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R310" data-line-number="310"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	} <span class="pl-k">while</span> (freq != prevfreq);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R311" data-line-number="311"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R312" data-line-number="312"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> freq;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R313" data-line-number="313"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R314" data-line-number="314"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R315" data-line-number="315"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> u64 <span class="pl-en">update_load</span>(<span class="pl-k">int</span> cpu)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R316" data-line-number="316"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R317" data-line-number="317"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> cpufreq_interactive_cpuinfo *pcpu = &amp;<span class="pl-c1">per_cpu</span>(cpuinfo, cpu);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R318" data-line-number="318"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	u64 now;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R319" data-line-number="319"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	u64 now_idle;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R320" data-line-number="320"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> delta_idle;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R321" data-line-number="321"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> delta_time;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R322" data-line-number="322"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	u64 active_time;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R323" data-line-number="323"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R324" data-line-number="324"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	now_idle = <span class="pl-c1">get_cpu_idle_time</span>(cpu, &amp;now, <span class="pl-c1">0</span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R325" data-line-number="325"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	delta_idle = (<span class="pl-k">unsigned</span> <span class="pl-k">int</span>)(now_idle - pcpu-&gt;time_in_idle);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R326" data-line-number="326"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	delta_time = (<span class="pl-k">unsigned</span> <span class="pl-k">int</span>)(now - pcpu-&gt;time_in_idle_timestamp);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R327" data-line-number="327"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R328" data-line-number="328"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (delta_time &lt;= delta_idle)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R329" data-line-number="329"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		active_time = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R330" data-line-number="330"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">else</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R331" data-line-number="331"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		active_time = delta_time - delta_idle;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R332" data-line-number="332"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R333" data-line-number="333"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	pcpu-&gt;cputime_speedadj += active_time * pcpu-&gt;policy-&gt;cur;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R334" data-line-number="334"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R335" data-line-number="335"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	pcpu-&gt;time_in_idle = now_idle;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R336" data-line-number="336"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	pcpu-&gt;time_in_idle_timestamp = now;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R337" data-line-number="337"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> now;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R338" data-line-number="338"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R339" data-line-number="339"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R340" data-line-number="340"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">void</span> <span class="pl-en">cpufreq_interactive_timer</span>(<span class="pl-k">unsigned</span> <span class="pl-k">long</span> data)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R341" data-line-number="341"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R342" data-line-number="342"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	u64 now;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R343" data-line-number="343"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> delta_time;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R344" data-line-number="344"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	u64 cputime_speedadj;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R345" data-line-number="345"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> cpu_load;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R346" data-line-number="346"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> cpufreq_interactive_cpuinfo *pcpu =</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R347" data-line-number="347"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		&amp;<span class="pl-c1">per_cpu</span>(cpuinfo, data);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R348" data-line-number="348"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> new_freq;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R349" data-line-number="349"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> loadadjfreq;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R350" data-line-number="350"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> <span class="pl-c1">index</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R351" data-line-number="351"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">long</span> flags;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R352" data-line-number="352"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">bool</span> boosted;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R353" data-line-number="353"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">long</span> mod_min_sample_time;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R354" data-line-number="354"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> i, max_load;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R355" data-line-number="355"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> max_freq;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R356" data-line-number="356"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> cpufreq_interactive_cpuinfo *picpu;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R357" data-line-number="357"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">static</span> <span class="pl-k">unsigned</span> <span class="pl-k">int</span> phase = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R358" data-line-number="358"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">static</span> <span class="pl-k">unsigned</span> <span class="pl-k">int</span> counter = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R359" data-line-number="359"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> nr_cpus;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R360" data-line-number="360"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R361" data-line-number="361"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (!<span class="pl-c1">down_read_trylock</span>(&amp;pcpu-&gt;enable_sem))</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R362" data-line-number="362"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R363" data-line-number="363"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (!pcpu-&gt;governor_enabled)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R364" data-line-number="364"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">goto</span> <span class="pl-c1">exit</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R365" data-line-number="365"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R366" data-line-number="366"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (<span class="pl-c1">cpu_is_offline</span>(data))</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R367" data-line-number="367"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">goto</span> <span class="pl-c1">exit</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R368" data-line-number="368"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R369" data-line-number="369"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">spin_lock_irqsave</span>(&amp;pcpu-&gt;load_lock, flags);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R370" data-line-number="370"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	now = <span class="pl-c1">update_load</span>(data);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R371" data-line-number="371"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	delta_time = (<span class="pl-k">unsigned</span> <span class="pl-k">int</span>)(now - pcpu-&gt;cputime_speedadj_timestamp);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R372" data-line-number="372"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	cputime_speedadj = pcpu-&gt;cputime_speedadj;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R373" data-line-number="373"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">spin_unlock_irqrestore</span>(&amp;pcpu-&gt;load_lock, flags);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R374" data-line-number="374"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R375" data-line-number="375"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (<span class="pl-c1">WARN_ON_ONCE</span>(!delta_time))</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R376" data-line-number="376"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">goto</span> rearm;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R377" data-line-number="377"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R378" data-line-number="378"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">spin_lock_irqsave</span>(&amp;pcpu-&gt;target_freq_lock, flags);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R379" data-line-number="379"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">do_div</span>(cputime_speedadj, delta_time);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R380" data-line-number="380"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	loadadjfreq = (<span class="pl-k">unsigned</span> <span class="pl-k">int</span>)cputime_speedadj * <span class="pl-c1">100</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R381" data-line-number="381"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	cpu_load = loadadjfreq / pcpu-&gt;target_freq;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R382" data-line-number="382"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	pcpu-&gt;prev_load = cpu_load;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R383" data-line-number="383"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	boosted = boost_val || now &lt; boostpulse_endtime;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R384" data-line-number="384"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R385" data-line-number="385"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">cpufreq_notify_utilization</span>(pcpu-&gt;policy, cpu_load);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R386" data-line-number="386"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R387" data-line-number="387"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (counter &lt; <span class="pl-c1">5</span>) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R388" data-line-number="388"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		counter++;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R389" data-line-number="389"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (counter &gt; <span class="pl-c1">2</span>) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R390" data-line-number="390"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			phase = <span class="pl-c1">1</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R391" data-line-number="391"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R392" data-line-number="392"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R393" data-line-number="393"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R394" data-line-number="394"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (cpu_load &gt;= go_hispeed_load || boosted) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R395" data-line-number="395"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (pcpu-&gt;target_freq &lt; hispeed_freq) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R396" data-line-number="396"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			nr_cpus = <span class="pl-c1">num_online_cpus</span>();</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R397" data-line-number="397"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R398" data-line-number="398"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			pcpu-&gt;two_phase_freq = two_phase_freq_array[nr_cpus-<span class="pl-c1">1</span>];</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R399" data-line-number="399"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">if</span> (pcpu-&gt;two_phase_freq &lt; pcpu-&gt;policy-&gt;cur)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R400" data-line-number="400"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				phase = <span class="pl-c1">1</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R401" data-line-number="401"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">if</span> (pcpu-&gt;two_phase_freq != <span class="pl-c1">0</span> &amp;&amp; phase == <span class="pl-c1">0</span>) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R402" data-line-number="402"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				new_freq = pcpu-&gt;two_phase_freq;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R403" data-line-number="403"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			} <span class="pl-k">else</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R404" data-line-number="404"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				new_freq = hispeed_freq;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R405" data-line-number="405"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		} <span class="pl-k">else</span> {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R406" data-line-number="406"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			new_freq = <span class="pl-c1">choose_freq</span>(pcpu, loadadjfreq);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R407" data-line-number="407"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R408" data-line-number="408"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">if</span> (new_freq &lt; hispeed_freq)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R409" data-line-number="409"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				new_freq = hispeed_freq;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R410" data-line-number="410"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R411" data-line-number="411"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	} <span class="pl-k">else</span> {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R412" data-line-number="412"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		new_freq = <span class="pl-c1">choose_freq</span>(pcpu, loadadjfreq);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R413" data-line-number="413"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R414" data-line-number="414"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (sync_freq &amp;&amp; new_freq &lt; sync_freq) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R415" data-line-number="415"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R416" data-line-number="416"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			max_load = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R417" data-line-number="417"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			max_freq = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R418" data-line-number="418"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R419" data-line-number="419"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c1">for_each_online_cpu</span>(i) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R420" data-line-number="420"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				picpu = &amp;<span class="pl-c1">per_cpu</span>(cpuinfo, i);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R421" data-line-number="421"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R422" data-line-number="422"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				<span class="pl-k">if</span> (i == data || picpu-&gt;prev_load &lt;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R423" data-line-number="423"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+						up_threshold_any_cpu_load)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R424" data-line-number="424"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+					<span class="pl-k">continue</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R425" data-line-number="425"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R426" data-line-number="426"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				max_load = <span class="pl-c1">max</span>(max_load, picpu-&gt;prev_load);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R427" data-line-number="427"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				max_freq = <span class="pl-c1">max</span>(max_freq, picpu-&gt;target_freq);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R428" data-line-number="428"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R429" data-line-number="429"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R430" data-line-number="430"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">if</span> (max_freq &gt; up_threshold_any_cpu_freq ||</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R431" data-line-number="431"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				max_load &gt;= up_threshold_any_cpu_load)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R432" data-line-number="432"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				new_freq = sync_freq;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R433" data-line-number="433"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R434" data-line-number="434"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R435" data-line-number="435"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R436" data-line-number="436"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (counter &gt; <span class="pl-c1">0</span>) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R437" data-line-number="437"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		counter--;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R438" data-line-number="438"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (counter == <span class="pl-c1">0</span>) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R439" data-line-number="439"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			phase = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R440" data-line-number="440"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R441" data-line-number="441"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R442" data-line-number="442"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R443" data-line-number="443"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (pcpu-&gt;target_freq &gt;= hispeed_freq &amp;&amp;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R444" data-line-number="444"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	    new_freq &gt; pcpu-&gt;target_freq &amp;&amp;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R445" data-line-number="445"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	    now - pcpu-&gt;hispeed_validate_time &lt;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R446" data-line-number="446"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	    <span class="pl-c1">freq_to_above_hispeed_delay</span>(pcpu-&gt;target_freq)) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R447" data-line-number="447"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">spin_unlock_irqrestore</span>(&amp;pcpu-&gt;target_freq_lock, flags);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R448" data-line-number="448"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">goto</span> rearm;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R449" data-line-number="449"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R450" data-line-number="450"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R451" data-line-number="451"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	pcpu-&gt;hispeed_validate_time = now;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R452" data-line-number="452"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R453" data-line-number="453"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (<span class="pl-c1">cpufreq_frequency_table_target</span>(pcpu-&gt;policy, pcpu-&gt;freq_table,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R454" data-line-number="454"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+					   new_freq, CPUFREQ_RELATION_H,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R455" data-line-number="455"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+					   &amp;<span class="pl-c1">index</span>)) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R456" data-line-number="456"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">spin_unlock_irqrestore</span>(&amp;pcpu-&gt;target_freq_lock, flags);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R457" data-line-number="457"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">goto</span> rearm;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R458" data-line-number="458"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R459" data-line-number="459"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R460" data-line-number="460"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	new_freq = pcpu-&gt;freq_table[<span class="pl-c1">index</span>].<span class="pl-smi">frequency</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R461" data-line-number="461"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R462" data-line-number="462"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R463" data-line-number="463"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 * Do not scale below floor_freq unless we have been at or above the</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R464" data-line-number="464"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 * floor frequency for the minimum sample time since last validated.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R465" data-line-number="465"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R466" data-line-number="466"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (sampling_down_factor &amp;&amp; pcpu-&gt;policy-&gt;cur == pcpu-&gt;policy-&gt;max)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R467" data-line-number="467"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		mod_min_sample_time = sampling_down_factor;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R468" data-line-number="468"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">else</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R469" data-line-number="469"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		mod_min_sample_time = min_sample_time;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R470" data-line-number="470"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R471" data-line-number="471"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (new_freq &lt; pcpu-&gt;floor_freq) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R472" data-line-number="472"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (now - pcpu-&gt;floor_validate_time &lt; mod_min_sample_time) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R473" data-line-number="473"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c1">spin_unlock_irqrestore</span>(&amp;pcpu-&gt;target_freq_lock, flags);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R474" data-line-number="474"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">goto</span> rearm;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R475" data-line-number="475"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R476" data-line-number="476"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R477" data-line-number="477"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R478" data-line-number="478"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R479" data-line-number="479"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 * Update the timestamp for checking whether speed has been held at</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R480" data-line-number="480"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 * or above the selected frequency for a minimum of min_sample_time,</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R481" data-line-number="481"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 * if not boosted to hispeed_freq.  If boosted to hispeed_freq then we</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R482" data-line-number="482"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 * allow the speed to drop as soon as the boostpulse duration expires</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R483" data-line-number="483"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 * (or the indefinite boost is turned off).</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R484" data-line-number="484"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R485" data-line-number="485"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R486" data-line-number="486"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (!boosted || new_freq &gt; hispeed_freq) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R487" data-line-number="487"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		pcpu-&gt;floor_freq = new_freq;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R488" data-line-number="488"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		pcpu-&gt;floor_validate_time = now;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R489" data-line-number="489"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R490" data-line-number="490"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R491" data-line-number="491"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (pcpu-&gt;target_freq == new_freq &amp;&amp;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R492" data-line-number="492"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			pcpu-&gt;target_freq &lt;= pcpu-&gt;policy-&gt;cur) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R493" data-line-number="493"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">spin_unlock_irqrestore</span>(&amp;pcpu-&gt;target_freq_lock, flags);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R494" data-line-number="494"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">goto</span> rearm_if_notmax;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R495" data-line-number="495"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R496" data-line-number="496"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R497" data-line-number="497"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	pcpu-&gt;target_freq = new_freq;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R498" data-line-number="498"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">spin_unlock_irqrestore</span>(&amp;pcpu-&gt;target_freq_lock, flags);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R499" data-line-number="499"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">spin_lock_irqsave</span>(&amp;speedchange_cpumask_lock, flags);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R500" data-line-number="500"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">cpumask_set_cpu</span>(data, &amp;speedchange_cpumask);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R501" data-line-number="501"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">spin_unlock_irqrestore</span>(&amp;speedchange_cpumask_lock, flags);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R502" data-line-number="502"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">wake_up_process</span>(speedchange_task);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R503" data-line-number="503"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R504" data-line-number="504"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+rearm_if_notmax:</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R505" data-line-number="505"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R506" data-line-number="506"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 * Already set max speed and don&#39;t see a need to change that,</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R507" data-line-number="507"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 * wait until next idle to re-evaluate, don&#39;t need timer.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R508" data-line-number="508"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">	 */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R509" data-line-number="509"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (pcpu-&gt;target_freq == pcpu-&gt;policy-&gt;max)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R510" data-line-number="510"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">goto</span> <span class="pl-c1">exit</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R511" data-line-number="511"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R512" data-line-number="512"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+rearm:</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R513" data-line-number="513"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (!<span class="pl-c1">timer_pending</span>(&amp;pcpu-&gt;cpu_timer))</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R514" data-line-number="514"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">cpufreq_interactive_timer_resched</span>(pcpu);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R515" data-line-number="515"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R516" data-line-number="516"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c1">exit</span>:</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R517" data-line-number="517"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">up_read</span>(&amp;pcpu-&gt;enable_sem);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R518" data-line-number="518"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R519" data-line-number="519"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R520" data-line-number="520"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R521" data-line-number="521"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">void</span> <span class="pl-en">cpufreq_interactive_idle_start</span>(<span class="pl-k">void</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R522" data-line-number="522"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R523" data-line-number="523"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> cpu = <span class="pl-c1">smp_processor_id</span>();</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R524" data-line-number="524"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> cpufreq_interactive_cpuinfo *pcpu = &amp;<span class="pl-c1">per_cpu</span>(cpuinfo, cpu);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R525" data-line-number="525"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> pending;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R526" data-line-number="526"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	u64 now;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R527" data-line-number="527"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R528" data-line-number="528"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (!<span class="pl-c1">down_read_trylock</span>(&amp;pcpu-&gt;enable_sem))</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R529" data-line-number="529"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R530" data-line-number="530"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (!pcpu-&gt;governor_enabled)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R531" data-line-number="531"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">goto</span> <span class="pl-c1">exit</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R532" data-line-number="532"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R533" data-line-number="533"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c">/* Cancel the timer if cpu is offline */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R534" data-line-number="534"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (<span class="pl-c1">cpu_is_offline</span>(cpu)) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R535" data-line-number="535"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">del_timer</span>(&amp;pcpu-&gt;cpu_timer);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R536" data-line-number="536"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">del_timer</span>(&amp;pcpu-&gt;cpu_slack_timer);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R537" data-line-number="537"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">goto</span> <span class="pl-c1">exit</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R538" data-line-number="538"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R539" data-line-number="539"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R540" data-line-number="540"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	pending = <span class="pl-c1">timer_pending</span>(&amp;pcpu-&gt;cpu_timer);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R541" data-line-number="541"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R542" data-line-number="542"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (pcpu-&gt;target_freq != pcpu-&gt;policy-&gt;min) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R543" data-line-number="543"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R544" data-line-number="544"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * Entering idle while not at lowest speed.  On some</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R545" data-line-number="545"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * platforms this can hold the other CPU(s) at that speed</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R546" data-line-number="546"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * even though the CPU is idle. Set a timer to re-evaluate</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R547" data-line-number="547"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * speed so this idle CPU doesn&#39;t hold the other CPUs above</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R548" data-line-number="548"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * min indefinitely.  This should probably be a quirk of</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R549" data-line-number="549"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * the CPUFreq driver.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R550" data-line-number="550"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R551" data-line-number="551"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (!pending) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R552" data-line-number="552"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c1">cpufreq_interactive_timer_resched</span>(pcpu);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R553" data-line-number="553"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R554" data-line-number="554"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			now = <span class="pl-c1">ktime_to_us</span>(<span class="pl-c1">ktime_get</span>());</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R555" data-line-number="555"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">if</span> ((pcpu-&gt;policy-&gt;cur == pcpu-&gt;policy-&gt;max) &amp;&amp;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R556" data-line-number="556"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				(now - pcpu-&gt;hispeed_validate_time) &gt;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R557" data-line-number="557"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+							MIN_BUSY_TIME) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R558" data-line-number="558"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				pcpu-&gt;floor_validate_time = now;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R559" data-line-number="559"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R560" data-line-number="560"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R561" data-line-number="561"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R562" data-line-number="562"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R563" data-line-number="563"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R564" data-line-number="564"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c1">exit</span>:</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R565" data-line-number="565"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">up_read</span>(&amp;pcpu-&gt;enable_sem);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R566" data-line-number="566"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R567" data-line-number="567"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R568" data-line-number="568"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">void</span> <span class="pl-en">cpufreq_interactive_idle_end</span>(<span class="pl-k">void</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R569" data-line-number="569"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R570" data-line-number="570"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> cpufreq_interactive_cpuinfo *pcpu =</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R571" data-line-number="571"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		&amp;<span class="pl-c1">per_cpu</span>(cpuinfo, <span class="pl-c1">smp_processor_id</span>());</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R572" data-line-number="572"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R573" data-line-number="573"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (!<span class="pl-c1">down_read_trylock</span>(&amp;pcpu-&gt;enable_sem))</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R574" data-line-number="574"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R575" data-line-number="575"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (!pcpu-&gt;governor_enabled) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R576" data-line-number="576"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">up_read</span>(&amp;pcpu-&gt;enable_sem);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R577" data-line-number="577"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R578" data-line-number="578"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R579" data-line-number="579"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R580" data-line-number="580"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c">/* Arm the timer for 1-2 ticks later if not already. */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R581" data-line-number="581"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (!<span class="pl-c1">timer_pending</span>(&amp;pcpu-&gt;cpu_timer)) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R582" data-line-number="582"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">cpufreq_interactive_timer_resched</span>(pcpu);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R583" data-line-number="583"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	} <span class="pl-k">else</span> <span class="pl-k">if</span> (<span class="pl-c1">time_after_eq</span>(jiffies, pcpu-&gt;cpu_timer.<span class="pl-smi">expires</span>)) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R584" data-line-number="584"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">del_timer</span>(&amp;pcpu-&gt;cpu_timer);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R585" data-line-number="585"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">del_timer</span>(&amp;pcpu-&gt;cpu_slack_timer);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R586" data-line-number="586"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">cpufreq_interactive_timer</span>(<span class="pl-c1">smp_processor_id</span>());</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R587" data-line-number="587"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R588" data-line-number="588"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R589" data-line-number="589"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">up_read</span>(&amp;pcpu-&gt;enable_sem);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R590" data-line-number="590"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R591" data-line-number="591"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R592" data-line-number="592"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">int</span> <span class="pl-en">cpufreq_interactive_speedchange_task</span>(<span class="pl-k">void</span> *data)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R593" data-line-number="593"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R594" data-line-number="594"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> cpu;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R595" data-line-number="595"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">cpumask_t</span> tmp_mask;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R596" data-line-number="596"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">long</span> flags;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R597" data-line-number="597"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> cpufreq_interactive_cpuinfo *pcpu;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R598" data-line-number="598"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R599" data-line-number="599"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">while</span> (<span class="pl-c1">1</span>) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R600" data-line-number="600"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">set_current_state</span>(TASK_INTERRUPTIBLE);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R601" data-line-number="601"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">spin_lock_irqsave</span>(&amp;speedchange_cpumask_lock, flags);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R602" data-line-number="602"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R603" data-line-number="603"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (<span class="pl-c1">cpumask_empty</span>(&amp;speedchange_cpumask)) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R604" data-line-number="604"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c1">spin_unlock_irqrestore</span>(&amp;speedchange_cpumask_lock,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R605" data-line-number="605"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+					       flags);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R606" data-line-number="606"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c1">schedule</span>();</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R607" data-line-number="607"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R608" data-line-number="608"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">if</span> (<span class="pl-c1">kthread_should_stop</span>())</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R609" data-line-number="609"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				<span class="pl-k">break</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R610" data-line-number="610"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R611" data-line-number="611"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c1">spin_lock_irqsave</span>(&amp;speedchange_cpumask_lock, flags);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R612" data-line-number="612"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R613" data-line-number="613"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R614" data-line-number="614"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">set_current_state</span>(TASK_RUNNING);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R615" data-line-number="615"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		tmp_mask = speedchange_cpumask;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R616" data-line-number="616"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">cpumask_clear</span>(&amp;speedchange_cpumask);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R617" data-line-number="617"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">spin_unlock_irqrestore</span>(&amp;speedchange_cpumask_lock, flags);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R618" data-line-number="618"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R619" data-line-number="619"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">for_each_cpu</span>(cpu, &amp;tmp_mask) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R620" data-line-number="620"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">unsigned</span> <span class="pl-k">int</span> j;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R621" data-line-number="621"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">unsigned</span> <span class="pl-k">int</span> max_freq = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R622" data-line-number="622"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R623" data-line-number="623"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			pcpu = &amp;<span class="pl-c1">per_cpu</span>(cpuinfo, cpu);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R624" data-line-number="624"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">if</span> (!<span class="pl-c1">down_read_trylock</span>(&amp;pcpu-&gt;enable_sem))</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R625" data-line-number="625"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				<span class="pl-k">continue</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R626" data-line-number="626"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">if</span> (!pcpu-&gt;governor_enabled) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R627" data-line-number="627"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				<span class="pl-c1">up_read</span>(&amp;pcpu-&gt;enable_sem);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R628" data-line-number="628"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				<span class="pl-k">continue</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R629" data-line-number="629"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R630" data-line-number="630"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R631" data-line-number="631"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c1">for_each_cpu</span>(j, pcpu-&gt;policy-&gt;cpus) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R632" data-line-number="632"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				<span class="pl-k">struct</span> cpufreq_interactive_cpuinfo *pjcpu =</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R633" data-line-number="633"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+					&amp;<span class="pl-c1">per_cpu</span>(cpuinfo, j);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R634" data-line-number="634"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R635" data-line-number="635"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				<span class="pl-k">if</span> (pjcpu-&gt;target_freq &gt; max_freq)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R636" data-line-number="636"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+					max_freq = pjcpu-&gt;target_freq;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R637" data-line-number="637"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R638" data-line-number="638"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R639" data-line-number="639"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">if</span> (max_freq != pcpu-&gt;policy-&gt;cur) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R640" data-line-number="640"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+					<span class="pl-c1">__cpufreq_driver_target</span>(pcpu-&gt;policy,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R641" data-line-number="641"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+								max_freq,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R642" data-line-number="642"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+								CPUFREQ_RELATION_H);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R643" data-line-number="643"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R644" data-line-number="644"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R645" data-line-number="645"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c1">up_read</span>(&amp;pcpu-&gt;enable_sem);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R646" data-line-number="646"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R647" data-line-number="647"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R648" data-line-number="648"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R649" data-line-number="649"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R650" data-line-number="650"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R651" data-line-number="651"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R652" data-line-number="652"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">void</span> <span class="pl-en">cpufreq_interactive_boost</span>(<span class="pl-k">void</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R653" data-line-number="653"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R654" data-line-number="654"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> i;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R655" data-line-number="655"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> anyboost = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R656" data-line-number="656"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">long</span> flags[<span class="pl-c1">2</span>];</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R657" data-line-number="657"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> cpufreq_interactive_cpuinfo *pcpu;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R658" data-line-number="658"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R659" data-line-number="659"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">spin_lock_irqsave</span>(&amp;speedchange_cpumask_lock, flags[<span class="pl-c1">0</span>]);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R660" data-line-number="660"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R661" data-line-number="661"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">for_each_online_cpu</span>(i) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R662" data-line-number="662"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		pcpu = &amp;<span class="pl-c1">per_cpu</span>(cpuinfo, i);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R663" data-line-number="663"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R664" data-line-number="664"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">spin_lock_irqsave</span>(&amp;pcpu-&gt;target_freq_lock, flags[<span class="pl-c1">1</span>]);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R665" data-line-number="665"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (pcpu-&gt;target_freq &lt; hispeed_freq) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R666" data-line-number="666"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			pcpu-&gt;target_freq = hispeed_freq;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R667" data-line-number="667"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c1">cpumask_set_cpu</span>(i, &amp;speedchange_cpumask);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R668" data-line-number="668"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			pcpu-&gt;hispeed_validate_time =</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R669" data-line-number="669"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				<span class="pl-c1">ktime_to_us</span>(<span class="pl-c1">ktime_get</span>());</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R670" data-line-number="670"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			anyboost = <span class="pl-c1">1</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R671" data-line-number="671"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R672" data-line-number="672"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R673" data-line-number="673"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R674" data-line-number="674"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * Set floor freq and (re)start timer for when last</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R675" data-line-number="675"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * validated.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R676" data-line-number="676"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R677" data-line-number="677"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R678" data-line-number="678"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		pcpu-&gt;floor_freq = hispeed_freq;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R679" data-line-number="679"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		pcpu-&gt;floor_validate_time = <span class="pl-c1">ktime_to_us</span>(<span class="pl-c1">ktime_get</span>());</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R680" data-line-number="680"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">spin_unlock_irqrestore</span>(&amp;pcpu-&gt;target_freq_lock, flags[<span class="pl-c1">1</span>]);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R681" data-line-number="681"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R682" data-line-number="682"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R683" data-line-number="683"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">spin_unlock_irqrestore</span>(&amp;speedchange_cpumask_lock, flags[<span class="pl-c1">0</span>]);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R684" data-line-number="684"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R685" data-line-number="685"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (anyboost)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R686" data-line-number="686"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">wake_up_process</span>(speedchange_task);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R687" data-line-number="687"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R688" data-line-number="688"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R689" data-line-number="689"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">int</span> <span class="pl-en">cpufreq_interactive_notifier</span>(</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R690" data-line-number="690"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> notifier_block *nb, <span class="pl-k">unsigned</span> <span class="pl-k">long</span> val, <span class="pl-k">void</span> *data)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R691" data-line-number="691"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R692" data-line-number="692"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> cpufreq_freqs *freq = data;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R693" data-line-number="693"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> cpufreq_interactive_cpuinfo *pcpu;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R694" data-line-number="694"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> cpu;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R695" data-line-number="695"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">long</span> flags;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R696" data-line-number="696"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R697" data-line-number="697"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (val == CPUFREQ_POSTCHANGE) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R698" data-line-number="698"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		pcpu = &amp;<span class="pl-c1">per_cpu</span>(cpuinfo, freq-&gt;cpu);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R699" data-line-number="699"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (!<span class="pl-c1">down_read_trylock</span>(&amp;pcpu-&gt;enable_sem))</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R700" data-line-number="700"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">return</span> <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R701" data-line-number="701"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (!pcpu-&gt;governor_enabled) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R702" data-line-number="702"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c1">up_read</span>(&amp;pcpu-&gt;enable_sem);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R703" data-line-number="703"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">return</span> <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R704" data-line-number="704"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R705" data-line-number="705"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R706" data-line-number="706"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">for_each_cpu</span>(cpu, pcpu-&gt;policy-&gt;cpus) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R707" data-line-number="707"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">struct</span> cpufreq_interactive_cpuinfo *pjcpu =</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R708" data-line-number="708"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				&amp;<span class="pl-c1">per_cpu</span>(cpuinfo, cpu);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R709" data-line-number="709"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">if</span> (cpu != freq-&gt;cpu) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R710" data-line-number="710"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				<span class="pl-k">if</span> (!<span class="pl-c1">down_read_trylock</span>(&amp;pjcpu-&gt;enable_sem))</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R711" data-line-number="711"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+					<span class="pl-k">continue</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R712" data-line-number="712"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				<span class="pl-k">if</span> (!pjcpu-&gt;governor_enabled) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R713" data-line-number="713"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+					<span class="pl-c1">up_read</span>(&amp;pjcpu-&gt;enable_sem);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R714" data-line-number="714"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+					<span class="pl-k">continue</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R715" data-line-number="715"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R716" data-line-number="716"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R717" data-line-number="717"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c1">spin_lock_irqsave</span>(&amp;pjcpu-&gt;load_lock, flags);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R718" data-line-number="718"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c1">update_load</span>(cpu);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R719" data-line-number="719"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c1">spin_unlock_irqrestore</span>(&amp;pjcpu-&gt;load_lock, flags);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R720" data-line-number="720"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">if</span> (cpu != freq-&gt;cpu)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R721" data-line-number="721"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				<span class="pl-c1">up_read</span>(&amp;pjcpu-&gt;enable_sem);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R722" data-line-number="722"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R723" data-line-number="723"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R724" data-line-number="724"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">up_read</span>(&amp;pcpu-&gt;enable_sem);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R725" data-line-number="725"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R726" data-line-number="726"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R727" data-line-number="727"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R728" data-line-number="728"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R729" data-line-number="729"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">struct</span> notifier_block cpufreq_notifier_block = {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R730" data-line-number="730"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">notifier_call</span> = cpufreq_interactive_notifier,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R731" data-line-number="731"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+};</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R732" data-line-number="732"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R733" data-line-number="733"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">unsigned</span> <span class="pl-k">int</span> *<span class="pl-en">get_tokenized_data</span>(<span class="pl-k">const</span> <span class="pl-k">char</span> *buf, <span class="pl-k">int</span> *num_tokens)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R734" data-line-number="734"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R735" data-line-number="735"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">const</span> <span class="pl-k">char</span> *cp;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R736" data-line-number="736"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> i;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R737" data-line-number="737"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> ntokens = <span class="pl-c1">1</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R738" data-line-number="738"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> *tokenized_data;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R739" data-line-number="739"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> err = -EINVAL;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R740" data-line-number="740"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R741" data-line-number="741"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	cp = buf;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R742" data-line-number="742"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">while</span> ((cp = <span class="pl-c1">strpbrk</span>(cp + <span class="pl-c1">1</span>, <span class="pl-s"><span class="pl-pds">&quot;</span> :<span class="pl-pds">&quot;</span></span>)))</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R743" data-line-number="743"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		ntokens++;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R744" data-line-number="744"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R745" data-line-number="745"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (!(ntokens &amp; 0x1))</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R746" data-line-number="746"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">goto</span> err;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R747" data-line-number="747"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R748" data-line-number="748"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	tokenized_data = <span class="pl-c1">kmalloc</span>(ntokens * <span class="pl-k">sizeof</span>(<span class="pl-k">int</span>), GFP_KERNEL);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R749" data-line-number="749"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (!tokenized_data) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R750" data-line-number="750"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		err = -ENOMEM;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R751" data-line-number="751"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">goto</span> err;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R752" data-line-number="752"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R753" data-line-number="753"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R754" data-line-number="754"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	cp = buf;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R755" data-line-number="755"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	i = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R756" data-line-number="756"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">while</span> (i &lt; ntokens) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R757" data-line-number="757"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (<span class="pl-c1">sscanf</span>(cp, <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%d</span><span class="pl-pds">&quot;</span></span>, &amp;tokenized_data[i++]) != <span class="pl-c1">1</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R758" data-line-number="758"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">goto</span> err_kfree;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R759" data-line-number="759"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R760" data-line-number="760"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		cp = <span class="pl-c1">strpbrk</span>(cp, <span class="pl-s"><span class="pl-pds">&quot;</span> :<span class="pl-pds">&quot;</span></span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R761" data-line-number="761"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (!cp)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R762" data-line-number="762"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">break</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R763" data-line-number="763"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		cp++;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R764" data-line-number="764"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R765" data-line-number="765"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R766" data-line-number="766"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (i != ntokens)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R767" data-line-number="767"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">goto</span> err_kfree;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R768" data-line-number="768"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R769" data-line-number="769"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	*num_tokens = ntokens;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R770" data-line-number="770"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> tokenized_data;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R771" data-line-number="771"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R772" data-line-number="772"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+err_kfree:</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R773" data-line-number="773"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">kfree</span>(tokenized_data);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R774" data-line-number="774"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+err:</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R775" data-line-number="775"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> <span class="pl-c1">ERR_PTR</span>(err);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R776" data-line-number="776"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R777" data-line-number="777"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R778" data-line-number="778"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> show_two_phase_freq</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R779" data-line-number="779"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+(<span class="pl-k">struct</span> kobject *kobj, <span class="pl-k">struct</span> attribute *attr, <span class="pl-k">char</span> *buf)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R780" data-line-number="780"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R781" data-line-number="781"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> i = <span class="pl-c1">0</span> ;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R782" data-line-number="782"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> shift = <span class="pl-c1">0</span> ;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R783" data-line-number="783"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">char</span> *buf_pos = buf;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R784" data-line-number="784"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">for</span> ( i = <span class="pl-c1">0</span> ; i &lt; NR_CPUS; i++) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R785" data-line-number="785"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		shift = <span class="pl-c1">sprintf</span>(buf_pos,<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%d</span>,<span class="pl-pds">&quot;</span></span>,two_phase_freq_array[i]);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R786" data-line-number="786"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		buf_pos += shift;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R787" data-line-number="787"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R788" data-line-number="788"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	*(buf_pos-<span class="pl-c1">1</span>) = <span class="pl-s"><span class="pl-pds">&#39;</span><span class="pl-cce">\0</span><span class="pl-pds">&#39;</span></span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R789" data-line-number="789"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> <span class="pl-c1">strlen</span>(buf);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R790" data-line-number="790"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R791" data-line-number="791"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R792" data-line-number="792"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">store_two_phase_freq</span>(<span class="pl-k">struct</span> kobject *a, <span class="pl-k">struct</span> attribute *b,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R793" data-line-number="793"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">const</span> <span class="pl-k">char</span> *buf, <span class="pl-c1">size_t</span> count)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R794" data-line-number="794"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R795" data-line-number="795"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R796" data-line-number="796"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> ret = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R797" data-line-number="797"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (NR_CPUS == <span class="pl-c1">1</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R798" data-line-number="798"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		ret = <span class="pl-c1">sscanf</span>(buf,<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%u</span><span class="pl-pds">&quot;</span></span>,&amp;two_phase_freq_array[<span class="pl-c1">0</span>]);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R799" data-line-number="799"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">else</span> <span class="pl-k">if</span> (NR_CPUS == <span class="pl-c1">2</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R800" data-line-number="800"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		ret = <span class="pl-c1">sscanf</span>(buf,<span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%u</span>,<span class="pl-c1">%u</span><span class="pl-pds">&quot;</span></span>,&amp;two_phase_freq_array[<span class="pl-c1">0</span>],</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R801" data-line-number="801"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				&amp;two_phase_freq_array[<span class="pl-c1">1</span>]);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R802" data-line-number="802"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">else</span> <span class="pl-k">if</span> (NR_CPUS == <span class="pl-c1">4</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R803" data-line-number="803"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		ret = <span class="pl-c1">sscanf</span>(buf, <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%u</span>,<span class="pl-c1">%u</span>,<span class="pl-c1">%u</span>,<span class="pl-c1">%u</span><span class="pl-pds">&quot;</span></span>, &amp;two_phase_freq_array[<span class="pl-c1">0</span>],</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R804" data-line-number="804"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				&amp;two_phase_freq_array[<span class="pl-c1">1</span>],</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R805" data-line-number="805"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				&amp;two_phase_freq_array[<span class="pl-c1">2</span>],</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R806" data-line-number="806"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				&amp;two_phase_freq_array[<span class="pl-c1">3</span>]);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R807" data-line-number="807"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (ret &lt; NR_CPUS)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R808" data-line-number="808"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> -EINVAL;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R809" data-line-number="809"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R810" data-line-number="810"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> count;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R811" data-line-number="811"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R812" data-line-number="812"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R813" data-line-number="813"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">struct</span> global_attr two_phase_freq_attr =</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R814" data-line-number="814"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-en">__ATTR</span>(two_phase_freq, S_IRUGO | S_IWUSR,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R815" data-line-number="815"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		show_two_phase_freq, store_two_phase_freq);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R816" data-line-number="816"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R817" data-line-number="817"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">show_target_loads</span>(</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R818" data-line-number="818"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> kobject *kobj, <span class="pl-k">struct</span> attribute *attr, <span class="pl-k">char</span> *buf)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R819" data-line-number="819"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R820" data-line-number="820"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> i;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R821" data-line-number="821"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">ssize_t</span> ret = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R822" data-line-number="822"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">long</span> flags;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R823" data-line-number="823"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R824" data-line-number="824"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">spin_lock_irqsave</span>(&amp;target_loads_lock, flags);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R825" data-line-number="825"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R826" data-line-number="826"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">for</span> (i = <span class="pl-c1">0</span>; i &lt; ntarget_loads; i++)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R827" data-line-number="827"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		ret += <span class="pl-c1">sprintf</span>(buf + ret, <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%u%s</span><span class="pl-pds">&quot;</span></span>, target_loads[i],</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R828" data-line-number="828"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			       i &amp; 0x1 ? <span class="pl-s"><span class="pl-pds">&quot;</span>:<span class="pl-pds">&quot;</span></span> : <span class="pl-s"><span class="pl-pds">&quot;</span> <span class="pl-pds">&quot;</span></span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R829" data-line-number="829"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R830" data-line-number="830"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">sprintf</span>(buf + ret - <span class="pl-c1">1</span>, <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R831" data-line-number="831"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">spin_unlock_irqrestore</span>(&amp;target_loads_lock, flags);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R832" data-line-number="832"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R833" data-line-number="833"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R834" data-line-number="834"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R835" data-line-number="835"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">store_target_loads</span>(</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R836" data-line-number="836"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> kobject *kobj, <span class="pl-k">struct</span> attribute *attr, <span class="pl-k">const</span> <span class="pl-k">char</span> *buf,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R837" data-line-number="837"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">size_t</span> count)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R838" data-line-number="838"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R839" data-line-number="839"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> ntokens;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R840" data-line-number="840"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> *new_target_loads = <span class="pl-c1">NULL</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R841" data-line-number="841"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">long</span> flags;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R842" data-line-number="842"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R843" data-line-number="843"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	new_target_loads = <span class="pl-c1">get_tokenized_data</span>(buf, &amp;ntokens);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R844" data-line-number="844"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (<span class="pl-c1">IS_ERR</span>(new_target_loads))</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R845" data-line-number="845"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> <span class="pl-c1">PTR_RET</span>(new_target_loads);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R846" data-line-number="846"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R847" data-line-number="847"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">spin_lock_irqsave</span>(&amp;target_loads_lock, flags);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R848" data-line-number="848"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (target_loads != default_target_loads)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R849" data-line-number="849"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">kfree</span>(target_loads);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R850" data-line-number="850"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	target_loads = new_target_loads;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R851" data-line-number="851"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	ntarget_loads = ntokens;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R852" data-line-number="852"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">spin_unlock_irqrestore</span>(&amp;target_loads_lock, flags);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R853" data-line-number="853"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> count;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R854" data-line-number="854"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R855" data-line-number="855"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R856" data-line-number="856"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">struct</span> global_attr target_loads_attr =</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R857" data-line-number="857"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-en">__ATTR</span>(target_loads, S_IRUGO | S_IWUSR,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R858" data-line-number="858"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		show_target_loads, store_target_loads);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R859" data-line-number="859"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R860" data-line-number="860"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">show_above_hispeed_delay</span>(</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R861" data-line-number="861"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> kobject *kobj, <span class="pl-k">struct</span> attribute *attr, <span class="pl-k">char</span> *buf)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R862" data-line-number="862"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R863" data-line-number="863"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> i;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R864" data-line-number="864"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">ssize_t</span> ret = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R865" data-line-number="865"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">long</span> flags;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R866" data-line-number="866"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R867" data-line-number="867"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">spin_lock_irqsave</span>(&amp;above_hispeed_delay_lock, flags);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R868" data-line-number="868"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R869" data-line-number="869"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">for</span> (i = <span class="pl-c1">0</span>; i &lt; nabove_hispeed_delay; i++)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R870" data-line-number="870"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		ret += <span class="pl-c1">sprintf</span>(buf + ret, <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%u%s</span><span class="pl-pds">&quot;</span></span>, above_hispeed_delay[i],</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R871" data-line-number="871"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			       i &amp; 0x1 ? <span class="pl-s"><span class="pl-pds">&quot;</span>:<span class="pl-pds">&quot;</span></span> : <span class="pl-s"><span class="pl-pds">&quot;</span> <span class="pl-pds">&quot;</span></span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R872" data-line-number="872"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R873" data-line-number="873"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">sprintf</span>(buf + ret - <span class="pl-c1">1</span>, <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R874" data-line-number="874"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">spin_unlock_irqrestore</span>(&amp;above_hispeed_delay_lock, flags);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R875" data-line-number="875"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R876" data-line-number="876"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R877" data-line-number="877"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R878" data-line-number="878"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">store_above_hispeed_delay</span>(</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R879" data-line-number="879"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> kobject *kobj, <span class="pl-k">struct</span> attribute *attr, <span class="pl-k">const</span> <span class="pl-k">char</span> *buf,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R880" data-line-number="880"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">size_t</span> count)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R881" data-line-number="881"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R882" data-line-number="882"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> ntokens;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R883" data-line-number="883"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> *new_above_hispeed_delay = <span class="pl-c1">NULL</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R884" data-line-number="884"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">long</span> flags;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R885" data-line-number="885"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R886" data-line-number="886"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	new_above_hispeed_delay = <span class="pl-c1">get_tokenized_data</span>(buf, &amp;ntokens);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R887" data-line-number="887"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (<span class="pl-c1">IS_ERR</span>(new_above_hispeed_delay))</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R888" data-line-number="888"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> <span class="pl-c1">PTR_RET</span>(new_above_hispeed_delay);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R889" data-line-number="889"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R890" data-line-number="890"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">spin_lock_irqsave</span>(&amp;above_hispeed_delay_lock, flags);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R891" data-line-number="891"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (above_hispeed_delay != default_above_hispeed_delay)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R892" data-line-number="892"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">kfree</span>(above_hispeed_delay);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R893" data-line-number="893"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	above_hispeed_delay = new_above_hispeed_delay;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R894" data-line-number="894"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	nabove_hispeed_delay = ntokens;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R895" data-line-number="895"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">spin_unlock_irqrestore</span>(&amp;above_hispeed_delay_lock, flags);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R896" data-line-number="896"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> count;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R897" data-line-number="897"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R898" data-line-number="898"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R899" data-line-number="899"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">struct</span> global_attr above_hispeed_delay_attr =</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R900" data-line-number="900"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-en">__ATTR</span>(above_hispeed_delay, S_IRUGO | S_IWUSR,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R901" data-line-number="901"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		show_above_hispeed_delay, store_above_hispeed_delay);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R902" data-line-number="902"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R903" data-line-number="903"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">show_hispeed_freq</span>(<span class="pl-k">struct</span> kobject *kobj,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R904" data-line-number="904"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				 <span class="pl-k">struct</span> attribute *attr, <span class="pl-k">char</span> *buf)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R905" data-line-number="905"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R906" data-line-number="906"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> <span class="pl-c1">sprintf</span>(buf, <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%u</span><span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>, hispeed_freq);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R907" data-line-number="907"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R908" data-line-number="908"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R909" data-line-number="909"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">store_hispeed_freq</span>(<span class="pl-k">struct</span> kobject *kobj,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R910" data-line-number="910"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				  <span class="pl-k">struct</span> attribute *attr, <span class="pl-k">const</span> <span class="pl-k">char</span> *buf,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R911" data-line-number="911"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				  <span class="pl-c1">size_t</span> count)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R912" data-line-number="912"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R913" data-line-number="913"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R914" data-line-number="914"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">long</span> <span class="pl-k">unsigned</span> <span class="pl-k">int</span> val;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R915" data-line-number="915"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R916" data-line-number="916"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	ret = <span class="pl-c1">strict_strtoul</span>(buf, <span class="pl-c1">0</span>, &amp;val);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R917" data-line-number="917"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (ret &lt; <span class="pl-c1">0</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R918" data-line-number="918"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R919" data-line-number="919"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	hispeed_freq = val;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R920" data-line-number="920"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> count;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R921" data-line-number="921"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R922" data-line-number="922"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R923" data-line-number="923"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">struct</span> global_attr hispeed_freq_attr = __ATTR(hispeed_freq, <span class="pl-c1">0644</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R924" data-line-number="924"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		show_hispeed_freq, store_hispeed_freq);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R925" data-line-number="925"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R926" data-line-number="926"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">show_sampling_down_factor</span>(<span class="pl-k">struct</span> kobject *kobj,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R927" data-line-number="927"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				<span class="pl-k">struct</span> attribute *attr, <span class="pl-k">char</span> *buf)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R928" data-line-number="928"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R929" data-line-number="929"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> <span class="pl-c1">sprintf</span>(buf, <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%u</span><span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>, sampling_down_factor);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R930" data-line-number="930"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R931" data-line-number="931"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R932" data-line-number="932"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">store_sampling_down_factor</span>(<span class="pl-k">struct</span> kobject *kobj,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R933" data-line-number="933"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				<span class="pl-k">struct</span> attribute *attr, <span class="pl-k">const</span> <span class="pl-k">char</span> *buf,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R934" data-line-number="934"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				<span class="pl-c1">size_t</span> count)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R935" data-line-number="935"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R936" data-line-number="936"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R937" data-line-number="937"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">long</span> <span class="pl-k">unsigned</span> <span class="pl-k">int</span> val;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R938" data-line-number="938"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R939" data-line-number="939"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	ret = <span class="pl-c1">strict_strtoul</span>(buf, <span class="pl-c1">0</span>, &amp;val);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R940" data-line-number="940"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (ret &lt; <span class="pl-c1">0</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R941" data-line-number="941"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R942" data-line-number="942"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (val &gt; <span class="pl-c1">3</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R943" data-line-number="943"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		val = <span class="pl-c1">3</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R944" data-line-number="944"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	sampling_down_factor = val;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R945" data-line-number="945"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> count;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R946" data-line-number="946"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R947" data-line-number="947"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R948" data-line-number="948"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">struct</span> global_attr sampling_down_factor_attr =</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R949" data-line-number="949"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				<span class="pl-en">__ATTR</span>(sampling_down_factor, <span class="pl-c1">0644</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R950" data-line-number="950"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		show_sampling_down_factor, store_sampling_down_factor);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R951" data-line-number="951"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R952" data-line-number="952"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">show_go_hispeed_load</span>(<span class="pl-k">struct</span> kobject *kobj,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R953" data-line-number="953"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				     <span class="pl-k">struct</span> attribute *attr, <span class="pl-k">char</span> *buf)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R954" data-line-number="954"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R955" data-line-number="955"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> <span class="pl-c1">sprintf</span>(buf, <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%lu</span><span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>, go_hispeed_load);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R956" data-line-number="956"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R957" data-line-number="957"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R958" data-line-number="958"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">store_go_hispeed_load</span>(<span class="pl-k">struct</span> kobject *kobj,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R959" data-line-number="959"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">struct</span> attribute *attr, <span class="pl-k">const</span> <span class="pl-k">char</span> *buf, <span class="pl-c1">size_t</span> count)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R960" data-line-number="960"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R961" data-line-number="961"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R962" data-line-number="962"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">long</span> val;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R963" data-line-number="963"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R964" data-line-number="964"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	ret = <span class="pl-c1">strict_strtoul</span>(buf, <span class="pl-c1">0</span>, &amp;val);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R965" data-line-number="965"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (ret &lt; <span class="pl-c1">0</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R966" data-line-number="966"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R967" data-line-number="967"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	go_hispeed_load = val;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R968" data-line-number="968"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> count;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R969" data-line-number="969"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R970" data-line-number="970"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R971" data-line-number="971"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">struct</span> global_attr go_hispeed_load_attr = __ATTR(go_hispeed_load, <span class="pl-c1">0644</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R972" data-line-number="972"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		show_go_hispeed_load, store_go_hispeed_load);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R973" data-line-number="973"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R974" data-line-number="974"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">show_min_sample_time</span>(<span class="pl-k">struct</span> kobject *kobj,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R975" data-line-number="975"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				<span class="pl-k">struct</span> attribute *attr, <span class="pl-k">char</span> *buf)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R976" data-line-number="976"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R977" data-line-number="977"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> <span class="pl-c1">sprintf</span>(buf, <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%lu</span><span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>, min_sample_time);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R978" data-line-number="978"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R979" data-line-number="979"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R980" data-line-number="980"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">store_min_sample_time</span>(<span class="pl-k">struct</span> kobject *kobj,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R981" data-line-number="981"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">struct</span> attribute *attr, <span class="pl-k">const</span> <span class="pl-k">char</span> *buf, <span class="pl-c1">size_t</span> count)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R982" data-line-number="982"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R983" data-line-number="983"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R984" data-line-number="984"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">long</span> val;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R985" data-line-number="985"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R986" data-line-number="986"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	ret = <span class="pl-c1">strict_strtoul</span>(buf, <span class="pl-c1">0</span>, &amp;val);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R987" data-line-number="987"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (ret &lt; <span class="pl-c1">0</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R988" data-line-number="988"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R989" data-line-number="989"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	min_sample_time = val;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R990" data-line-number="990"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> count;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R991" data-line-number="991"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R992" data-line-number="992"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R993" data-line-number="993"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">struct</span> global_attr min_sample_time_attr = __ATTR(min_sample_time, <span class="pl-c1">0644</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R994" data-line-number="994"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		show_min_sample_time, store_min_sample_time);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R995" data-line-number="995"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R996" data-line-number="996"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">show_timer_rate</span>(<span class="pl-k">struct</span> kobject *kobj,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R997" data-line-number="997"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">struct</span> attribute *attr, <span class="pl-k">char</span> *buf)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R998" data-line-number="998"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R999" data-line-number="999"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> <span class="pl-c1">sprintf</span>(buf, <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%lu</span><span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>, timer_rate);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1000" data-line-number="1000"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1001" data-line-number="1001"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1002" data-line-number="1002"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">store_timer_rate</span>(<span class="pl-k">struct</span> kobject *kobj,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1003" data-line-number="1003"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">struct</span> attribute *attr, <span class="pl-k">const</span> <span class="pl-k">char</span> *buf, <span class="pl-c1">size_t</span> count)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1004" data-line-number="1004"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1005" data-line-number="1005"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1006" data-line-number="1006"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">long</span> val, val_round;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1007" data-line-number="1007"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1008" data-line-number="1008"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	ret = <span class="pl-c1">strict_strtoul</span>(buf, <span class="pl-c1">0</span>, &amp;val);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1009" data-line-number="1009"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (ret &lt; <span class="pl-c1">0</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1010" data-line-number="1010"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1011" data-line-number="1011"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1012" data-line-number="1012"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	val_round = <span class="pl-c1">jiffies_to_usecs</span>(<span class="pl-c1">usecs_to_jiffies</span>(val));</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1013" data-line-number="1013"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (val != val_round)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1014" data-line-number="1014"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">pr_warn</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>timer_rate not aligned to jiffy. Rounded up to <span class="pl-c1">%lu</span><span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1015" data-line-number="1015"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				val_round);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1016" data-line-number="1016"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1017" data-line-number="1017"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	timer_rate = val_round;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1018" data-line-number="1018"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> count;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1019" data-line-number="1019"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1020" data-line-number="1020"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1021" data-line-number="1021"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">struct</span> global_attr timer_rate_attr = __ATTR(timer_rate, <span class="pl-c1">0644</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1022" data-line-number="1022"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		show_timer_rate, store_timer_rate);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1023" data-line-number="1023"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1024" data-line-number="1024"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">show_timer_slack</span>(</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1025" data-line-number="1025"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> kobject *kobj, <span class="pl-k">struct</span> attribute *attr, <span class="pl-k">char</span> *buf)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1026" data-line-number="1026"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1027" data-line-number="1027"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> <span class="pl-c1">sprintf</span>(buf, <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%d</span><span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>, timer_slack_val);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1028" data-line-number="1028"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1029" data-line-number="1029"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1030" data-line-number="1030"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">store_timer_slack</span>(</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1031" data-line-number="1031"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> kobject *kobj, <span class="pl-k">struct</span> attribute *attr, <span class="pl-k">const</span> <span class="pl-k">char</span> *buf,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1032" data-line-number="1032"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">size_t</span> count)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1033" data-line-number="1033"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1034" data-line-number="1034"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1035" data-line-number="1035"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">long</span> val;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1036" data-line-number="1036"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1037" data-line-number="1037"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	ret = <span class="pl-c1">kstrtol</span>(buf, <span class="pl-c1">10</span>, &amp;val);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1038" data-line-number="1038"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (ret &lt; <span class="pl-c1">0</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1039" data-line-number="1039"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1040" data-line-number="1040"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1041" data-line-number="1041"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	timer_slack_val = val;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1042" data-line-number="1042"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> count;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1043" data-line-number="1043"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1044" data-line-number="1044"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1045" data-line-number="1045"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">define_one_global_rw</span>(timer_slack);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1046" data-line-number="1046"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1047" data-line-number="1047"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">show_boost</span>(<span class="pl-k">struct</span> kobject *kobj, <span class="pl-k">struct</span> attribute *attr,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1048" data-line-number="1048"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			  <span class="pl-k">char</span> *buf)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1049" data-line-number="1049"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1050" data-line-number="1050"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> <span class="pl-c1">sprintf</span>(buf, <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%d</span><span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>, boost_val);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1051" data-line-number="1051"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1052" data-line-number="1052"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1053" data-line-number="1053"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">store_boost</span>(<span class="pl-k">struct</span> kobject *kobj, <span class="pl-k">struct</span> attribute *attr,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1054" data-line-number="1054"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			   <span class="pl-k">const</span> <span class="pl-k">char</span> *buf, <span class="pl-c1">size_t</span> count)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1055" data-line-number="1055"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1056" data-line-number="1056"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1057" data-line-number="1057"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">long</span> val;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1058" data-line-number="1058"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1059" data-line-number="1059"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	ret = <span class="pl-c1">kstrtoul</span>(buf, <span class="pl-c1">0</span>, &amp;val);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1060" data-line-number="1060"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (ret &lt; <span class="pl-c1">0</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1061" data-line-number="1061"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1062" data-line-number="1062"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1063" data-line-number="1063"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	boost_val = val;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1064" data-line-number="1064"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1065" data-line-number="1065"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (boost_val)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1066" data-line-number="1066"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">cpufreq_interactive_boost</span>();</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1067" data-line-number="1067"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1068" data-line-number="1068"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> count;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1069" data-line-number="1069"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1070" data-line-number="1070"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1071" data-line-number="1071"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">define_one_global_rw</span>(boost);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1072" data-line-number="1072"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1073" data-line-number="1073"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">show_boostpulse</span>(</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1074" data-line-number="1074"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> kobject *kobj, <span class="pl-k">struct</span> attribute *attr, <span class="pl-k">char</span> *buf)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1075" data-line-number="1075"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1076" data-line-number="1076"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> <span class="pl-c1">sprintf</span>(buf, <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%u</span><span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>, (<span class="pl-k">unsigned</span>)boostpulse_endtime);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1077" data-line-number="1077"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1078" data-line-number="1078"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1079" data-line-number="1079"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">store_boostpulse</span>(<span class="pl-k">struct</span> kobject *kobj, <span class="pl-k">struct</span> attribute *attr,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1080" data-line-number="1080"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				<span class="pl-k">const</span> <span class="pl-k">char</span> *buf, <span class="pl-c1">size_t</span> count)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1081" data-line-number="1081"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1082" data-line-number="1082"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1083" data-line-number="1083"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">long</span> val;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1084" data-line-number="1084"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1085" data-line-number="1085"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	ret = <span class="pl-c1">kstrtoul</span>(buf, <span class="pl-c1">0</span>, &amp;val);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1086" data-line-number="1086"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (ret &lt; <span class="pl-c1">0</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1087" data-line-number="1087"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1088" data-line-number="1088"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1089" data-line-number="1089"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	boostpulse_endtime = <span class="pl-c1">ktime_to_us</span>(<span class="pl-c1">ktime_get</span>()) + boostpulse_duration_val;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1090" data-line-number="1090"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">cpufreq_interactive_boost</span>();</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1091" data-line-number="1091"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> count;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1092" data-line-number="1092"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1093" data-line-number="1093"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1094" data-line-number="1094"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">struct</span> global_attr boostpulse =</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1095" data-line-number="1095"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-en">__ATTR</span>(boostpulse, <span class="pl-c1">0644</span>, show_boostpulse, store_boostpulse);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1096" data-line-number="1096"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1097" data-line-number="1097"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">show_boostpulse_duration</span>(</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1098" data-line-number="1098"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> kobject *kobj, <span class="pl-k">struct</span> attribute *attr, <span class="pl-k">char</span> *buf)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1099" data-line-number="1099"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1100" data-line-number="1100"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> <span class="pl-c1">sprintf</span>(buf, <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%d</span><span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>, boostpulse_duration_val);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1101" data-line-number="1101"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1102" data-line-number="1102"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1103" data-line-number="1103"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">store_boostpulse_duration</span>(</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1104" data-line-number="1104"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> kobject *kobj, <span class="pl-k">struct</span> attribute *attr, <span class="pl-k">const</span> <span class="pl-k">char</span> *buf,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1105" data-line-number="1105"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">size_t</span> count)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1106" data-line-number="1106"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1107" data-line-number="1107"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1108" data-line-number="1108"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">long</span> val;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1109" data-line-number="1109"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1110" data-line-number="1110"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	ret = <span class="pl-c1">kstrtoul</span>(buf, <span class="pl-c1">0</span>, &amp;val);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1111" data-line-number="1111"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (ret &lt; <span class="pl-c1">0</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1112" data-line-number="1112"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1113" data-line-number="1113"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1114" data-line-number="1114"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	boostpulse_duration_val = val;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1115" data-line-number="1115"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> count;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1116" data-line-number="1116"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1117" data-line-number="1117"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1118" data-line-number="1118"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">define_one_global_rw</span>(boostpulse_duration);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1119" data-line-number="1119"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1120" data-line-number="1120"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">show_sync_freq</span>(<span class="pl-k">struct</span> kobject *kobj,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1121" data-line-number="1121"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">struct</span> attribute *attr, <span class="pl-k">char</span> *buf)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1122" data-line-number="1122"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1123" data-line-number="1123"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> <span class="pl-c1">sprintf</span>(buf, <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%u</span><span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>, sync_freq);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1124" data-line-number="1124"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1125" data-line-number="1125"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1126" data-line-number="1126"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">store_sync_freq</span>(<span class="pl-k">struct</span> kobject *kobj,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1127" data-line-number="1127"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">struct</span> attribute *attr, <span class="pl-k">const</span> <span class="pl-k">char</span> *buf, <span class="pl-c1">size_t</span> count)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1128" data-line-number="1128"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1129" data-line-number="1129"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> ret = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1130" data-line-number="1130"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">long</span> val;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1131" data-line-number="1131"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> mpd = <span class="pl-c1">strcmp</span>(current-&gt;comm, <span class="pl-s"><span class="pl-pds">&quot;</span>mpdecision<span class="pl-pds">&quot;</span></span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1132" data-line-number="1132"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1133" data-line-number="1133"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (mpd == <span class="pl-c1">0</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1134" data-line-number="1134"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1135" data-line-number="1135"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1136" data-line-number="1136"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	ret = <span class="pl-c1">kstrtoul</span>(buf, <span class="pl-c1">0</span>, &amp;val);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1137" data-line-number="1137"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (ret &lt; <span class="pl-c1">0</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1138" data-line-number="1138"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1139" data-line-number="1139"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1140" data-line-number="1140"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	sync_freq = val;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1141" data-line-number="1141"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> count;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1142" data-line-number="1142"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1143" data-line-number="1143"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1144" data-line-number="1144"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">struct</span> global_attr sync_freq_attr = __ATTR(sync_freq, <span class="pl-c1">0644</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1145" data-line-number="1145"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		show_sync_freq, store_sync_freq);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1146" data-line-number="1146"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1147" data-line-number="1147"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">show_up_threshold_any_cpu_load</span>(<span class="pl-k">struct</span> kobject *kobj,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1148" data-line-number="1148"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">struct</span> attribute *attr, <span class="pl-k">char</span> *buf)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1149" data-line-number="1149"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1150" data-line-number="1150"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> <span class="pl-c1">snprintf</span>(buf, PAGE_SIZE, <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%u</span><span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>, up_threshold_any_cpu_load);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1151" data-line-number="1151"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1152" data-line-number="1152"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1153" data-line-number="1153"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">store_up_threshold_any_cpu_load</span>(<span class="pl-k">struct</span> kobject *kobj,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1154" data-line-number="1154"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">struct</span> attribute *attr, <span class="pl-k">const</span> <span class="pl-k">char</span> *buf, <span class="pl-c1">size_t</span> count)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1155" data-line-number="1155"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1156" data-line-number="1156"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1157" data-line-number="1157"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">long</span> val;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1158" data-line-number="1158"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1159" data-line-number="1159"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	ret = <span class="pl-c1">kstrtoul</span>(buf, <span class="pl-c1">0</span>, &amp;val);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1160" data-line-number="1160"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (ret &lt; <span class="pl-c1">0</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1161" data-line-number="1161"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1162" data-line-number="1162"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	up_threshold_any_cpu_load = val;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1163" data-line-number="1163"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> count;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1164" data-line-number="1164"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1165" data-line-number="1165"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1166" data-line-number="1166"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">struct</span> global_attr up_threshold_any_cpu_load_attr =</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1167" data-line-number="1167"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-en">__ATTR</span>(up_threshold_any_cpu_load, <span class="pl-c1">0644</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1168" data-line-number="1168"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		show_up_threshold_any_cpu_load,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1169" data-line-number="1169"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				store_up_threshold_any_cpu_load);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1170" data-line-number="1170"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1171" data-line-number="1171"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">show_up_threshold_any_cpu_freq</span>(<span class="pl-k">struct</span> kobject *kobj,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1172" data-line-number="1172"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">struct</span> attribute *attr, <span class="pl-k">char</span> *buf)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1173" data-line-number="1173"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1174" data-line-number="1174"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> <span class="pl-c1">snprintf</span>(buf, PAGE_SIZE, <span class="pl-s"><span class="pl-pds">&quot;</span><span class="pl-c1">%u</span><span class="pl-cce">\n</span><span class="pl-pds">&quot;</span></span>, up_threshold_any_cpu_freq);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1175" data-line-number="1175"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1176" data-line-number="1176"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1177" data-line-number="1177"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-c1">ssize_t</span> <span class="pl-en">store_up_threshold_any_cpu_freq</span>(<span class="pl-k">struct</span> kobject *kobj,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1178" data-line-number="1178"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">struct</span> attribute *attr, <span class="pl-k">const</span> <span class="pl-k">char</span> *buf, <span class="pl-c1">size_t</span> count)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1179" data-line-number="1179"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1180" data-line-number="1180"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1181" data-line-number="1181"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">long</span> val;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1182" data-line-number="1182"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1183" data-line-number="1183"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	ret = <span class="pl-c1">kstrtoul</span>(buf, <span class="pl-c1">0</span>, &amp;val);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1184" data-line-number="1184"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (ret &lt; <span class="pl-c1">0</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1185" data-line-number="1185"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> ret;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1186" data-line-number="1186"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	up_threshold_any_cpu_freq = val;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1187" data-line-number="1187"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> count;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1188" data-line-number="1188"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1189" data-line-number="1189"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1190" data-line-number="1190"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">struct</span> global_attr up_threshold_any_cpu_freq_attr =</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1191" data-line-number="1191"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-en">__ATTR</span>(up_threshold_any_cpu_freq, <span class="pl-c1">0644</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1192" data-line-number="1192"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		show_up_threshold_any_cpu_freq,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1193" data-line-number="1193"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				store_up_threshold_any_cpu_freq);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1194" data-line-number="1194"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1195" data-line-number="1195"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">struct</span> attribute *interactive_attributes[] = {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1196" data-line-number="1196"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;target_loads_attr.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1197" data-line-number="1197"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;above_hispeed_delay_attr.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1198" data-line-number="1198"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;hispeed_freq_attr.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1199" data-line-number="1199"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;go_hispeed_load_attr.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1200" data-line-number="1200"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;min_sample_time_attr.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1201" data-line-number="1201"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;timer_rate_attr.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1202" data-line-number="1202"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;timer_slack.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1203" data-line-number="1203"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;boost.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1204" data-line-number="1204"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;boostpulse.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1205" data-line-number="1205"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;boostpulse_duration.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1206" data-line-number="1206"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;sampling_down_factor_attr.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1207" data-line-number="1207"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;sync_freq_attr.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1208" data-line-number="1208"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;up_threshold_any_cpu_load_attr.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1209" data-line-number="1209"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;up_threshold_any_cpu_freq_attr.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1210" data-line-number="1210"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	&amp;two_phase_freq_attr.<span class="pl-smi">attr</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1211" data-line-number="1211"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">NULL</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1212" data-line-number="1212"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+};</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1213" data-line-number="1213"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1214" data-line-number="1214"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">struct</span> attribute_group interactive_attr_group = {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1215" data-line-number="1215"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">attrs</span> = interactive_attributes,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1216" data-line-number="1216"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">name</span> = <span class="pl-s"><span class="pl-pds">&quot;</span>intelliactive<span class="pl-pds">&quot;</span></span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1217" data-line-number="1217"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+};</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1218" data-line-number="1218"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1219" data-line-number="1219"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">int</span> <span class="pl-en">cpufreq_interactive_idle_notifier</span>(<span class="pl-k">struct</span> notifier_block *nb,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1220" data-line-number="1220"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+					     <span class="pl-k">unsigned</span> <span class="pl-k">long</span> val,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1221" data-line-number="1221"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+					     <span class="pl-k">void</span> *data)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1222" data-line-number="1222"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1223" data-line-number="1223"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">switch</span> (val) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1224" data-line-number="1224"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">case</span> IDLE_START:</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1225" data-line-number="1225"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">cpufreq_interactive_idle_start</span>();</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1226" data-line-number="1226"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">break</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1227" data-line-number="1227"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">case</span> IDLE_END:</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1228" data-line-number="1228"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">cpufreq_interactive_idle_end</span>();</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1229" data-line-number="1229"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">break</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1230" data-line-number="1230"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1231" data-line-number="1231"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1232" data-line-number="1232"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1233" data-line-number="1233"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1234" data-line-number="1234"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1235" data-line-number="1235"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">struct</span> notifier_block cpufreq_interactive_idle_nb = {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1236" data-line-number="1236"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">notifier_call</span> = cpufreq_interactive_idle_notifier,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1237" data-line-number="1237"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+};</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1238" data-line-number="1238"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1239" data-line-number="1239"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">int</span> <span class="pl-en">cpufreq_governor_intelliactive</span>(<span class="pl-k">struct</span> cpufreq_policy *policy,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1240" data-line-number="1240"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">unsigned</span> <span class="pl-k">int</span> event)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1241" data-line-number="1241"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1242" data-line-number="1242"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">int</span> rc;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1243" data-line-number="1243"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> j;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1244" data-line-number="1244"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> cpufreq_interactive_cpuinfo *pcpu;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1245" data-line-number="1245"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> cpufreq_frequency_table *freq_table;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1246" data-line-number="1246"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">long</span> flags;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1247" data-line-number="1247"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> cpu = policy-&gt;cpu;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1248" data-line-number="1248"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1249" data-line-number="1249"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">switch</span> (event) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1250" data-line-number="1250"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">case</span> CPUFREQ_GOV_START:</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1251" data-line-number="1251"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> ((!<span class="pl-c1">cpu_online</span>(cpu)) || (!policy))</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1252" data-line-number="1252"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">return</span> -EINVAL;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1253" data-line-number="1253"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1254" data-line-number="1254"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">mutex_lock</span>(&amp;gov_lock);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1255" data-line-number="1255"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1256" data-line-number="1256"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		freq_table =</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1257" data-line-number="1257"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c1">cpufreq_frequency_get_table</span>(cpu);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1258" data-line-number="1258"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (!hispeed_freq)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1259" data-line-number="1259"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			hispeed_freq = policy-&gt;max;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1260" data-line-number="1260"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1261" data-line-number="1261"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">for_each_cpu</span>(j, policy-&gt;cpus) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1262" data-line-number="1262"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			pcpu = &amp;<span class="pl-c1">per_cpu</span>(cpuinfo, j);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1263" data-line-number="1263"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			pcpu-&gt;policy = policy;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1264" data-line-number="1264"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			pcpu-&gt;target_freq = policy-&gt;cur;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1265" data-line-number="1265"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			pcpu-&gt;freq_table = freq_table;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1266" data-line-number="1266"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			pcpu-&gt;floor_freq = pcpu-&gt;target_freq;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1267" data-line-number="1267"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			pcpu-&gt;floor_validate_time =</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1268" data-line-number="1268"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				<span class="pl-c1">ktime_to_us</span>(<span class="pl-c1">ktime_get</span>());</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1269" data-line-number="1269"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			pcpu-&gt;hispeed_validate_time =</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1270" data-line-number="1270"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				pcpu-&gt;floor_validate_time;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1271" data-line-number="1271"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c1">down_write</span>(&amp;pcpu-&gt;enable_sem);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1272" data-line-number="1272"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c1">del_timer_sync</span>(&amp;pcpu-&gt;cpu_timer);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1273" data-line-number="1273"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c1">del_timer_sync</span>(&amp;pcpu-&gt;cpu_slack_timer);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1274" data-line-number="1274"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">if</span> (<span class="pl-c1">cpu_online</span>(j))</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1275" data-line-number="1275"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				<span class="pl-c1">cpufreq_interactive_timer_start</span>(j);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1276" data-line-number="1276"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			pcpu-&gt;governor_enabled = <span class="pl-c1">1</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1277" data-line-number="1277"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c1">up_write</span>(&amp;pcpu-&gt;enable_sem);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1278" data-line-number="1278"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1279" data-line-number="1279"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1280" data-line-number="1280"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c">/*</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1281" data-line-number="1281"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * Do not register the idle hook and create sysfs</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1282" data-line-number="1282"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 * entries if we have already done so.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1283" data-line-number="1283"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">		 */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1284" data-line-number="1284"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (++active_count &gt; <span class="pl-c1">1</span>) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1285" data-line-number="1285"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c1">mutex_unlock</span>(&amp;gov_lock);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1286" data-line-number="1286"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">return</span> <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1287" data-line-number="1287"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1288" data-line-number="1288"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1289" data-line-number="1289"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		rc = <span class="pl-c1">sysfs_create_group</span>(cpufreq_global_kobject,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1290" data-line-number="1290"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				&amp;interactive_attr_group);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1291" data-line-number="1291"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (rc) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1292" data-line-number="1292"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c1">mutex_unlock</span>(&amp;gov_lock);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1293" data-line-number="1293"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">return</span> rc;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1294" data-line-number="1294"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1295" data-line-number="1295"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1296" data-line-number="1296"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">idle_notifier_register</span>(&amp;cpufreq_interactive_idle_nb);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1297" data-line-number="1297"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">cpufreq_register_notifier</span>(</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1298" data-line-number="1298"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			&amp;cpufreq_notifier_block, CPUFREQ_TRANSITION_NOTIFIER);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1299" data-line-number="1299"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">mutex_unlock</span>(&amp;gov_lock);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1300" data-line-number="1300"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">break</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1301" data-line-number="1301"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1302" data-line-number="1302"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">case</span> CPUFREQ_GOV_STOP:</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1303" data-line-number="1303"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">mutex_lock</span>(&amp;gov_lock);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1304" data-line-number="1304"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">for_each_cpu</span>(j, policy-&gt;cpus) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1305" data-line-number="1305"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			pcpu = &amp;<span class="pl-c1">per_cpu</span>(cpuinfo, j);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1306" data-line-number="1306"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c1">down_write</span>(&amp;pcpu-&gt;enable_sem);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1307" data-line-number="1307"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			pcpu-&gt;governor_enabled = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1308" data-line-number="1308"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			pcpu-&gt;target_freq = <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1309" data-line-number="1309"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c1">del_timer_sync</span>(&amp;pcpu-&gt;cpu_timer);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1310" data-line-number="1310"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c1">del_timer_sync</span>(&amp;pcpu-&gt;cpu_slack_timer);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1311" data-line-number="1311"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c1">up_write</span>(&amp;pcpu-&gt;enable_sem);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1312" data-line-number="1312"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1313" data-line-number="1313"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1314" data-line-number="1314"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (--active_count &gt; <span class="pl-c1">0</span>) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1315" data-line-number="1315"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c1">mutex_unlock</span>(&amp;gov_lock);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1316" data-line-number="1316"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">return</span> <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1317" data-line-number="1317"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1318" data-line-number="1318"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1319" data-line-number="1319"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">cpufreq_unregister_notifier</span>(</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1320" data-line-number="1320"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			&amp;cpufreq_notifier_block, CPUFREQ_TRANSITION_NOTIFIER);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1321" data-line-number="1321"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">idle_notifier_unregister</span>(&amp;cpufreq_interactive_idle_nb);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1322" data-line-number="1322"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">sysfs_remove_group</span>(cpufreq_global_kobject,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1323" data-line-number="1323"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				&amp;interactive_attr_group);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1324" data-line-number="1324"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">mutex_unlock</span>(&amp;gov_lock);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1325" data-line-number="1325"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1326" data-line-number="1326"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">break</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1327" data-line-number="1327"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1328" data-line-number="1328"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">case</span> CPUFREQ_GOV_LIMITS:</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1329" data-line-number="1329"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c">/* If device is being removed, skip set limits */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1330" data-line-number="1330"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">if</span> (!policy)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1331" data-line-number="1331"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">break</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1332" data-line-number="1332"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">__cpufreq_driver_target</span>(policy,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1333" data-line-number="1333"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				policy-&gt;cur, CPUFREQ_RELATION_L);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1334" data-line-number="1334"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">for_each_cpu</span>(j, policy-&gt;cpus) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1335" data-line-number="1335"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			pcpu = &amp;<span class="pl-c1">per_cpu</span>(cpuinfo, j);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1336" data-line-number="1336"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1337" data-line-number="1337"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c">/* hold write semaphore to avoid race */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1338" data-line-number="1338"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c1">down_write</span>(&amp;pcpu-&gt;enable_sem);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1339" data-line-number="1339"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">if</span> (pcpu-&gt;governor_enabled == <span class="pl-c1">0</span>) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1340" data-line-number="1340"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				<span class="pl-c1">up_write</span>(&amp;pcpu-&gt;enable_sem);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1341" data-line-number="1341"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				<span class="pl-k">continue</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1342" data-line-number="1342"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1343" data-line-number="1343"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1344" data-line-number="1344"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c1">spin_lock_irqsave</span>(&amp;pcpu-&gt;target_freq_lock, flags);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1345" data-line-number="1345"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c">/* update target_freq firstly */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1346" data-line-number="1346"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">if</span> (policy-&gt;max &lt; pcpu-&gt;target_freq)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1347" data-line-number="1347"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				pcpu-&gt;target_freq = policy-&gt;max;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1348" data-line-number="1348"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-k">else</span> <span class="pl-k">if</span> (policy-&gt;min &gt; pcpu-&gt;target_freq)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1349" data-line-number="1349"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+				pcpu-&gt;target_freq = policy-&gt;min;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1350" data-line-number="1350"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1351" data-line-number="1351"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c1">spin_unlock_irqrestore</span>(&amp;pcpu-&gt;target_freq_lock, flags);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1352" data-line-number="1352"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c">/* Reschedule timer.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1353" data-line-number="1353"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">			 * Delete the timers, else the timer callback may</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1354" data-line-number="1354"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">			 * return without re-arm the timer when failed</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1355" data-line-number="1355"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">			 * acquire the semaphore. This race may cause timer</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1356" data-line-number="1356"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">			 * stopped unexpectedly.</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1357" data-line-number="1357"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-c">			 */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1358" data-line-number="1358"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c1">del_timer_sync</span>(&amp;pcpu-&gt;cpu_timer);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1359" data-line-number="1359"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c1">del_timer_sync</span>(&amp;pcpu-&gt;cpu_slack_timer);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1360" data-line-number="1360"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c1">cpufreq_interactive_timer_start</span>(j);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1361" data-line-number="1361"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			<span class="pl-c1">up_write</span>(&amp;pcpu-&gt;enable_sem);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1362" data-line-number="1362"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1363" data-line-number="1363"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">break</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1364" data-line-number="1364"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1365" data-line-number="1365"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> <span class="pl-c1">0</span>;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1366" data-line-number="1366"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1367" data-line-number="1367"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1368" data-line-number="1368"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">ifndef</span> CONFIG_CPU_FREQ_DEFAULT_GOV_INTELLIACTIVE</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1369" data-line-number="1369"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1370" data-line-number="1370"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">endif</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1371" data-line-number="1371"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">struct</span> cpufreq_governor cpufreq_gov_intelliactive = {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1372" data-line-number="1372"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">name</span> = <span class="pl-s"><span class="pl-pds">&quot;</span>intelliactive<span class="pl-pds">&quot;</span></span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1373" data-line-number="1373"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">governor</span> = cpufreq_governor_intelliactive,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1374" data-line-number="1374"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">max_transition_latency</span> = <span class="pl-c1">10000000</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1375" data-line-number="1375"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	.<span class="pl-smi">owner</span> = THIS_MODULE,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1376" data-line-number="1376"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+};</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1377" data-line-number="1377"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1378" data-line-number="1378"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">void</span> <span class="pl-en">cpufreq_interactive_nop_timer</span>(<span class="pl-k">unsigned</span> <span class="pl-k">long</span> data)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1379" data-line-number="1379"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1380" data-line-number="1380"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1381" data-line-number="1381"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1382" data-line-number="1382"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">int</span> __init <span class="pl-en">cpufreq_intelliactive_init</span>(<span class="pl-k">void</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1383" data-line-number="1383"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1384" data-line-number="1384"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">unsigned</span> <span class="pl-k">int</span> i;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1385" data-line-number="1385"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> cpufreq_interactive_cpuinfo *pcpu;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1386" data-line-number="1386"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">struct</span> <span class="pl-c1">sched_param</span> param = { .<span class="pl-smi">sched_priority</span> = MAX_RT_PRIO-<span class="pl-c1">1</span> };</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1387" data-line-number="1387"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1388" data-line-number="1388"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c">/* Initalize per-cpu timers */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1389" data-line-number="1389"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">for_each_possible_cpu</span>(i) {</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1390" data-line-number="1390"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		pcpu = &amp;<span class="pl-c1">per_cpu</span>(cpuinfo, i);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1391" data-line-number="1391"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">init_timer_deferrable</span>(&amp;pcpu-&gt;cpu_timer);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1392" data-line-number="1392"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		pcpu-&gt;cpu_timer.<span class="pl-smi">function</span> = cpufreq_interactive_timer;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1393" data-line-number="1393"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		pcpu-&gt;cpu_timer.<span class="pl-smi">data</span> = i;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1394" data-line-number="1394"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">init_timer</span>(&amp;pcpu-&gt;cpu_slack_timer);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1395" data-line-number="1395"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		pcpu-&gt;cpu_slack_timer.<span class="pl-smi">function</span> = cpufreq_interactive_nop_timer;</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1396" data-line-number="1396"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">spin_lock_init</span>(&amp;pcpu-&gt;load_lock);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1397" data-line-number="1397"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">spin_lock_init</span>(&amp;pcpu-&gt;target_freq_lock);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1398" data-line-number="1398"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">init_rwsem</span>(&amp;pcpu-&gt;enable_sem);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1399" data-line-number="1399"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1400" data-line-number="1400"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1401" data-line-number="1401"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">spin_lock_init</span>(&amp;target_loads_lock);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1402" data-line-number="1402"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">spin_lock_init</span>(&amp;speedchange_cpumask_lock);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1403" data-line-number="1403"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">spin_lock_init</span>(&amp;above_hispeed_delay_lock);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1404" data-line-number="1404"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">mutex_init</span>(&amp;gov_lock);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1405" data-line-number="1405"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	speedchange_task =</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1406" data-line-number="1406"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-c1">kthread_create</span>(cpufreq_interactive_speedchange_task, <span class="pl-c1">NULL</span>,</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1407" data-line-number="1407"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+			       <span class="pl-s"><span class="pl-pds">&quot;</span>cfintelliactive<span class="pl-pds">&quot;</span></span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1408" data-line-number="1408"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">if</span> (<span class="pl-c1">IS_ERR</span>(speedchange_task))</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1409" data-line-number="1409"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+		<span class="pl-k">return</span> <span class="pl-c1">PTR_ERR</span>(speedchange_task);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1410" data-line-number="1410"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1411" data-line-number="1411"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">sched_setscheduler_nocheck</span>(speedchange_task, SCHED_FIFO, &amp;param);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1412" data-line-number="1412"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">get_task_struct</span>(speedchange_task);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1413" data-line-number="1413"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1414" data-line-number="1414"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c">/* NB: wake up so the thread does not look hung to the freezer */</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1415" data-line-number="1415"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">wake_up_process</span>(speedchange_task);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1416" data-line-number="1416"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1417" data-line-number="1417"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-k">return</span> <span class="pl-c1">cpufreq_register_governor</span>(&amp;cpufreq_gov_intelliactive);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1418" data-line-number="1418"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1419" data-line-number="1419"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1420" data-line-number="1420"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">ifdef</span> CONFIG_CPU_FREQ_DEFAULT_GOV_INTELLIACTIVE</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1421" data-line-number="1421"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">fs_initcall</span>(cpufreq_intelliactive_init);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1422" data-line-number="1422"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">else</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1423" data-line-number="1423"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">module_init</span>(cpufreq_intelliactive_init);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1424" data-line-number="1424"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+#<span class="pl-k">endif</span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1425" data-line-number="1425"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1426" data-line-number="1426"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-k">static</span> <span class="pl-k">void</span> __exit <span class="pl-en">cpufreq_interactive_exit</span>(<span class="pl-k">void</span>)</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1427" data-line-number="1427"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+{</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1428" data-line-number="1428"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">cpufreq_unregister_governor</span>(&amp;cpufreq_gov_intelliactive);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1429" data-line-number="1429"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">kthread_stop</span>(speedchange_task);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1430" data-line-number="1430"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-c1">put_task_struct</span>(speedchange_task);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1431" data-line-number="1431"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+}</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1432" data-line-number="1432"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1433" data-line-number="1433"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">module_exit</span>(cpufreq_interactive_exit);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1434" data-line-number="1434"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1435" data-line-number="1435"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">MODULE_AUTHOR</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>Mike Chan &lt;mike@android.com&gt;<span class="pl-pds">&quot;</span></span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1436" data-line-number="1436"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">MODULE_AUTHOR</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>Paul Reioux &lt;reioux@gmail.com&gt;<span class="pl-pds">&quot;</span></span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1437" data-line-number="1437"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">MODULE_DESCRIPTION</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>&#39;cpufreq_intelliactive&#39; - A cpufreq governor for <span class="pl-pds">&quot;</span></span></span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1438" data-line-number="1438"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+	<span class="pl-s"><span class="pl-pds">&quot;</span>Latency sensitive workloads based on Google&#39;s Interactive<span class="pl-pds">&quot;</span></span>);</span>

  </td>
</tr>


    <tr>
    <td class="blob-num blob-num-addition empty-cell"></td>

    <td id="diff-2bbd4012b78fe96173447fbc39e1d1a1R1439" data-line-number="1439"
        class="blob-num blob-num-addition js-linkable-line-number"></td>

  <td class="blob-code blob-code-addition">

    <span class="blob-code-inner">+<span class="pl-en">MODULE_LICENSE</span>(<span class="pl-s"><span class="pl-pds">&quot;</span>GPL<span class="pl-pds">&quot;</span></span>);</span>

  </td>
</tr>



              </table>
            </div>
      </div>

      <a name="diff-2fb2ff31b83f32cfa38e7c82f8c8ae78"></a>
      <div id="diff-22"
           class="file js-details-container
                   
                   
                   
                   
                   show-inline-notes
                 ">
        <div class="file-header" data-path="drivers/cpufreq/cpufreq_intellidemand.c">
          <div class="file-actions">
              <span class="show-file-notes">
                <label>
                  <input type="checkbox" checked="checked" class="js-toggle-file-notes">
                  Show notes
                </label>
              </span>

                <a href="/Tkkg1994/StockKernel/blob/cbf17b4b432bfe962ae330d9a86f8ded47d33b22/drivers/cpufreq/cpufreq_intellidemand.c" class="btn btn-sm tooltipped tooltipped-nw" rel="nofollow" aria-label="View the whole file at version cbf17b4 ">View</a>


          </div>
          <div class="file-info">
              <span class="diffstat tooltipped tooltipped-e" aria-label="Empty file added">
                0
                <span class="text-diff-added">
                  <span class="block-diff-neutral"></span><span class="block-diff-neutral"></span><span class="block-diff-neutral"></span><span class="block-diff-neutral"></span><span class="block-diff-neutral"></span>
                </span>
              </span>

            <span class="user-select-contain" title="drivers/cpufreq/cpufreq_intellidemand.c">
              drivers/cpufreq/cpufreq_intellidemand.c
            </span>
            
          </div>
        </div>

            <div class="data highlight empty">
                Sorry, we could not display the changes to this file because there were too many other changes to display.

            </div>
      </div>

      <a name="diff-434ba37622b446a3b29e2b5c027e7e2e"></a>
      <div id="diff-23"
           class="file js-details-container
                   
                   
                   
                   
                   show-inline-notes
                 ">
        <div class="file-header" data-path="drivers/cpufreq/cpufreq_intellimm.c">
          <div class="file-actions">
              <span class="show-file-notes">
                <label>
                  <input type="checkbox" checked="checked" class="js-toggle-file-notes">
                  Show notes
                </label>
              </span>

                <a href="/Tkkg1994/StockKernel/blob/cbf17b4b432bfe962ae330d9a86f8ded47d33b22/drivers/cpufreq/cpufreq_intellimm.c" class="btn btn-sm tooltipped tooltipped-nw" rel="nofollow" aria-label="View the whole file at version cbf17b4 ">View</a>


          </div>
          <div class="file-info">
              <span class="diffstat tooltipped tooltipped-e" aria-label="Empty file added">
                0
                <span class="text-diff-added">
                  <span class="block-diff-neutral"></span><span class="block-diff-neutral"></span><span class="block-diff-neutral"></span><span class="block-diff-neutral"></span><span class="block-diff-neutral"></span>
                </span>
              </span>

            <span class="user-select-contain" title="drivers/cpufreq/cpufreq_intellimm.c">
              drivers/cpufreq/cpufreq_intellimm.c
            </span>
            
          </div>
        </div>

            <div class="data highlight empty">
                Sorry, we could not display the changes to this file because there were too many other changes to display.

            </div>
      </div>

      <a name="diff-326df1cd1e1a58b40f05e363caadb178"></a>
      <div id="diff-24"
           class="file js-details-container
                   
                   
                   
                   
                   show-inline-notes
                 ">
        <div class="file-header" data-path="drivers/cpufreq/cpufreq_interactive_pro.c">
          <div class="file-actions">
              <span class="show-file-notes">
                <label>
                  <input type="checkbox" checked="checked" class="js-toggle-file-notes">
                  Show notes
                </label>
              </span>

                <a href="/Tkkg1994/StockKernel/blob/cbf17b4b432bfe962ae330d9a86f8ded47d33b22/drivers/cpufreq/cpufreq_interactive_pro.c" class="btn btn-sm tooltipped tooltipped-nw" rel="nofollow" aria-label="View the whole file at version cbf17b4 ">View</a>


          </div>
          <div class="file-info">
              <span class="diffstat tooltipped tooltipped-e" aria-label="Empty file added">
                0
                <span class="text-diff-added">
                  <span class="block-diff-neutral"></span><span class="block-diff-neutral"></span><span class="block-diff-neutral"></span><span class="block-diff-neutral"></span><span class="block-diff-neutral"></span>
                </span>
              </span>

            <span class="user-select-contain" title="drivers/cpufreq/cpufreq_interactive_pro.c">
              drivers/cpufreq/cpufreq_interactive_pro.c
            </span>
            
          </div>
        </div>

            <div class="data highlight empty">
                Sorry, we could not display the changes to this file because there were too many other changes to display.

            </div>
      </div>

      <a name="diff-2cb62447eb42168527cad703640c543d"></a>
      <div id="diff-25"
           class="file js-details-container
                   
                   
                   
                   
                   show-inline-notes
                 ">
        <div class="file-header" data-path="drivers/cpufreq/cpufreq_interactive_x.c">
          <div class="file-actions">
              <span class="show-file-notes">
                <label>
                  <input type="checkbox" checked="checked" class="js-toggle-file-notes">
                  Show notes
                </label>
              </span>

                <a href="/Tkkg1994/StockKernel/blob/cbf17b4b432bfe962ae330d9a86f8ded47d33b22/drivers/cpufreq/cpufreq_interactive_x.c" class="btn btn-sm tooltipped tooltipped-nw" rel="nofollow" aria-label="View the whole file at version cbf17b4 ">View</a>


          </div>
          <div class="file-info">
              <span class="diffstat tooltipped tooltipped-e" aria-label="Empty file added">
                0
                <span class="text-diff-added">
                  <span class="block-diff-neutral"></span><span class="block-diff-neutral"></span><span class="block-diff-neutral"></span><span class="block-diff-neutral"></span><span class="block-diff-neutral"></span>
                </span>
              </span>

            <span class="user-select-contain" title="drivers/cpufreq/cpufreq_interactive_x.c">
              drivers/cpufreq/cpufreq_interactive_x.c
            </span>
            
          </div>
        </div>

            <div class="data highlight empty">
                Sorry, we could not display the changes to this file because there were too many other changes to display.

            </div>
      </div>

      <a name="diff-79939ea7f30f0fa9a75469a8499eccb8"></a>
      <div id="diff-26"
           class="file js-details-container
                   
                   
                   
                   
                   show-inline-notes
                 ">
        <div class="file-header" data-path="drivers/cpufreq/cpufreq_ironactive.c">
          <div class="file-actions">
              <span class="show-file-notes">
                <label>
                  <input type="checkbox" checked="checked" class="js-toggle-file-notes">
                  Show notes
                </label>
              </span>

                <a href="/Tkkg1994/StockKernel/blob/cbf17b4b432bfe962ae330d9a86f8ded47d33b22/drivers/cpufreq/cpufreq_ironactive.c" class="btn btn-sm tooltipped tooltipped-nw" rel="nofollow" aria-label="View the whole file at version cbf17b4 ">View</a>


          </div>
          <div class="file-info">
              <span class="diffstat tooltipped tooltipped-e" aria-label="Empty file added">
                0
                <span class="text-diff-added">
                  <span class="block-diff-neutral"></span><span class="block-diff-neutral"></span><span class="block-diff-neutral"></span><span class="block-diff-neutral"></span><span class="block-diff-neutral"></span>
                </span>
              </span>

            <span class="user-select-contain" title="drivers/cpufreq/cpufreq_ironactive.c">
              drivers/cpufreq/cpufreq_ironactive.c
            </span>
            
          </div>
        </div>

            <div class="data highlight empty">
                Sorry, we could not display the changes to this file because there were too many other changes to display.

            </div>
      </div>

      <a name="diff-150dad2a905aedd4732801288ab63199"></a>
      <div id="diff-27"
           class="file js-details-container
                   
                   
                   
                   
                   show-inline-notes
                 ">
        <div class="file-header" data-path="drivers/cpufreq/cpufreq_lionheart.c">
          <div class="file-actions">
              <span class="show-file-notes">
                <label>
                  <input type="checkbox" checked="checked" class="js-toggle-file-notes">
                  Show notes
                </label>
              </span>

                <a href="/Tkkg1994/StockKernel/blob/cbf17b4b432bfe962ae330d9a86f8ded47d33b22/drivers/cpufreq/cpufreq_lionheart.c" class="btn btn-sm tooltipped tooltipped-nw" rel="nofollow" aria-label="View the whole file at version cbf17b4 ">View</a>


          </div>
          <div class="file-info">
              <span class="diffstat tooltipped tooltipped-e" aria-label="Empty file added">
                0
                <span class="text-diff-added">
                  <span class="block-diff-neutral"></span><span class="block-diff-neutral"></span><span class="block-diff-neutral"></span><span class="block-diff-neutral"></span><span class="block-diff-neutral"></span>
                </span>
              </span>

            <span class="user-select-contain" title="drivers/cpufreq/cpufreq_lionheart.c">
              drivers/cpufreq/cpufreq_lionheart.c
            </span>
            
          </div>
        </div>

            <div class="data highlight empty">
                Sorry, we could not display the changes to this file because there were too many other changes to display.

            </div>
      </div>

      <a name="diff-922af161d8be7fc7f53248d1c29507d4"></a>
      <div id="diff-28"
           class="file js-details-container
                   
                   
                   
                   
                   show-inline-notes
                 ">
        <div class="file-header" data-path="drivers/cpufreq/cpufreq_nightmare.c">
          <div class="file-actions">
              <span class="show-file-notes">
                <label>
                  <input type="checkbox" checked="checked" class="js-toggle-file-notes">
                  Show notes
                </label>
              </span>

                <a href="/Tkkg1994/StockKernel/blob/cbf17b4b432bfe962ae330d9a86f8ded47d33b22/drivers/cpufreq/cpufreq_nightmare.c" class="btn btn-sm tooltipped tooltipped-nw" rel="nofollow" aria-label="View the whole file at version cbf17b4 ">View</a>


          </div>
          <div class="file-info">
              <span class="diffstat tooltipped tooltipped-e" aria-label="Empty file added">
                0
                <span class="text-diff-added">
                  <span class="block-diff-neutral"></span><span class="block-diff-neutral"></span><span class="block-diff-neutral"></span><span class="block-diff-neutral"></span><span class="block-diff-neutral"></span>
                </span>
              </span>

            <span class="user-select-contain" title="drivers/cpufreq/cpufreq_nightmare.c">
              drivers/cpufreq/cpufreq_nightmare.c
            </span>
            
          </div>
        </div>

            <div class="data highlight empty">
                Sorry, we could not display the changes to this file because there were too many other changes to display.

            </div>
      </div>

      <a name="diff-599eaec7652f23305777ff5de6680a9a"></a>
      <div id="diff-29"
           class="file js-details-container
                   
                   
                   
                   
                   show-inline-notes
                 ">
        <div class="file-header" data-path="drivers/cpufreq/cpufreq_ondemand.c">
          <div class="file-actions">
              <span class="show-file-notes">
                <label>
                  <input type="checkbox" checked="checked" class="js-toggle-file-notes">
                  Show notes
                </label>
              </span>

                <a href="/Tkkg1994/StockKernel/blob/cbf17b4b432bfe962ae330d9a86f8ded47d33b22/drivers/cpufreq/cpufreq_ondemand.c" class="btn btn-sm tooltipped tooltipped-nw" rel="nofollow" aria-label="View the whole file at version cbf17b4 ">View</a>


          </div>
          <div class="file-info">
              <span class="diffstat tooltipped tooltipped-e" aria-label="Empty file changed">
                0
                <span class="text-diff-added">
                  <span class="block-diff-neutral"></span><span class="block-diff-neutral"></span><span class="block-diff-neutral"></span><span class="block-diff-neutral"></span><span class="block-diff-neutral"></span>
                </span>
              </span>

            <span class="user-select-contain" title="drivers/cpufreq/cpufreq_ondemand.c">
              drivers/cpufreq/cpufreq_ondemand.c
            </span>
            
          </div>
        </div>

            <div class="data highlight empty">
                Sorry, we could not display the changes to this file because there were too many other changes to display.

            </div>
      </div>

      <a name="diff-af8c5bc3f9b3c3fea74b616b6c79d615"></a>
      <div id="diff-30"
           class="file js-details-container
                   
                   
                   
                   
                   show-inline-notes
                 ">
        <div class="file-header" data-path="drivers/cpufreq/cpufreq_ondemand_x.c">
          <div class="file-actions">
              <span class="show-file-notes">
                <label>
                  <input type="checkbox" checked="checked" class="js-toggle-file-notes">
                  Show notes
                </label>
              </span>

                <a href="/Tkkg1994/StockKernel/blob/cbf17b4b432bfe962ae330d9a86f8ded47d33b22/drivers/cpufreq/cpufreq_ondemand_x.c" class="btn btn-sm tooltipped tooltipped-nw" rel="nofollow" aria-label="View the whole file at version cbf17b4 ">View</a>


          </div>
          <div class="file-info">
              <span class="diffstat tooltipped tooltipped-e" aria-label="Empty file added">
                0
                <span class="text-diff-added">
                  <span class="block-diff-neutral"></span><span class="block-diff-neutral"></span><span class="block-diff-neutral"></span><span class="block-diff-neutral"></span><span class="block-diff-neutral"></span>
                </span>
              </span>

            <span class="user-select-contain" title="drivers/cpufreq/cpufreq_ondemand_x.c">
              drivers/cpufreq/cpufreq_ondemand_x.c
            </span>
            
          </div>
        </div>

            <div class="data highlight empty">
                Sorry, we could not display the changes to this file because there were too many other changes to display.

            </div>
      </div>

      <a name="diff-8aae0dbd34835c97053390ab7139028a"></a>
      <div id="diff-31"
           class="file js-details-container
                   
                   
                   
                   
                   show-inline-notes
                 ">
        <div class="file-header" data-path="drivers/cpufreq/cpufreq_ondemandplus.c">
          <div class="file-actions">
              <span class="show-file-notes">
                <label>
                  <input type="checkbox" checked="checked" class="js-toggle-file-notes">
                  Show notes
                </label>
              </span>

                <a href="/Tkkg1994/StockKernel/blob/cbf17b4b432bfe962ae330d9a86f8ded47d33b22/drivers/cpufreq/cpufreq_ondemandplus.c" class="btn btn-sm tooltipped tooltipped-nw" rel="nofollow" aria-label="View the whole file at version cbf17b4 ">View</a>


          </div>
          <div class="file-info">
              <span class="diffstat tooltipped tooltipped-e" aria-label="Empty file added">
                0
                <span class="text-diff-added">
                  <span class="block-diff-neutral"></span><span class="block-diff-neutral"></span><span class="block-diff-neutral"></span><span class="block-diff-neutral"></span><span class="block-diff-neutral"></span>
                </span>
              </span>

            <span class="user-select-contain" title="drivers/cpufreq/cpufreq_ondemandplus.c">
              drivers/cpufreq/cpufreq_ondemandplus.c
            </span>
            
          </div>
        </div>

            <div class="data highlight empty">
                Sorry, we could not display the changes to this file because there were too many other changes to display.

            </div>
      </div>

      <a name="diff-31bd63e783571f9d447d6927190ca2d4"></a>
      <div id="diff-32"
           class="file js-details-container
                   
                   
                   
                   
                   show-inline-notes
                 ">
        <div class="file-header" data-path="drivers/cpufreq/cpufreq_pegasusq.c">
          <div class="file-actions">
              <span class="show-file-notes">
                <label>
                  <input type="checkbox" checked="checked" class="js-toggle-file-notes">
                  Show notes
                </label>
              </span>

                <a href="/Tkkg1994/StockKernel/blob/cbf17b4b432bfe962ae330d9a86f8ded47d33b22/drivers/cpufreq/cpufreq_pegasusq.c" class="btn btn-sm tooltipped tooltipped-nw" rel="nofollow" aria-label="View the whole file at version cbf17b4 ">View</a>


          </div>
          <div class="file-info">
              <span class="diffstat tooltipped tooltipped-e" aria-label="Empty file added">
                0
                <span class="text-diff-added">
                  <span class="block-diff-neutral"></span><span class="block-diff-neutral"></span><span class="block-diff-neutral"></span><span class="block-diff-neutral"></span><span class="block-diff-neutral"></span>
                </span>
              </span>

            <span class="user-select-contain" title="drivers/cpufreq/cpufreq_pegasusq.c">
              drivers/cpufreq/cpufreq_pegasusq.c
            </span>
            
          </div>
        </div>

            <div class="data highlight empty">
                Sorry, we could not display the changes to this file because there were too many other changes to display.

            </div>
      </div>

      <a name="diff-cce47fa6664764dd25077af13b881451"></a>
      <div id="diff-33"
           class="file js-details-container
                   
                   
                   
                   
                   show-inline-notes
                 ">
        <div class="file-header" data-path="drivers/cpufreq/cpufreq_raccoon_city.c">
          <div class="file-actions">
              <span class="show-file-notes">
                <label>
                  <input type="checkbox" checked="checked" class="js-toggle-file-notes">
                  Show notes
                </label>
              </span>

                <a href="/Tkkg1994/StockKernel/blob/cbf17b4b432bfe962ae330d9a86f8ded47d33b22/drivers/cpufreq/cpufreq_raccoon_city.c" class="btn btn-sm tooltipped tooltipped-nw" rel="nofollow" aria-label="View the whole file at version cbf17b4 ">View</a>


          </div>
          <div class="file-info">
              <span class="diffstat tooltipped tooltipped-e" aria-label="Empty file added">
                0
                <span class="text-diff-added">
                  <span class="block-diff-neutral"></span><span class="block-diff-neutral"></span><span class="block-diff-neutral"></span><span class="block-diff-neutral"></span><span class="block-diff-neutral"></span>
                </span>
              </span>

            <span class="user-select-contain" title="drivers/cpufreq/cpufreq_raccoon_city.c">
              drivers/cpufreq/cpufreq_raccoon_city.c
            </span>
            
          </div>
        </div>

            <div class="data highlight empty">
                Sorry, we could not display the changes to this file because there were too many other changes to display.

            </div>
      </div>

      <a name="diff-a0c5567184fece6aa1ac4ada629394cd"></a>
      <div id="diff-34"
           class="file js-details-container
                   
                   
                   
                   
                   show-inline-notes
                 ">
        <div class="file-header" data-path="drivers/cpufreq/cpufreq_smartass2.c">
          <div class="file-actions">
              <span class="show-file-notes">
                <label>
                  <input type="checkbox" checked="checked" class="js-toggle-file-notes">
                  Show notes
                </label>
              </span>

                <a href="/Tkkg1994/StockKernel/blob/cbf17b4b432bfe962ae330d9a86f8ded47d33b22/drivers/cpufreq/cpufreq_smartass2.c" class="btn btn-sm tooltipped tooltipped-nw" rel="nofollow" aria-label="View the whole file at version cbf17b4 ">View</a>


          </div>
          <div class="file-info">
              <span class="diffstat tooltipped tooltipped-e" aria-label="Empty file added">
                0
                <span class="text-diff-added">
                  <span class="block-diff-neutral"></span><span class="block-diff-neutral"></span><span class="block-diff-neutral"></span><span class="block-diff-neutral"></span><span class="block-diff-neutral"></span>
                </span>
              </span>

            <span class="user-select-contain" title="drivers/cpufreq/cpufreq_smartass2.c">
              drivers/cpufreq/cpufreq_smartass2.c
            </span>
            
          </div>
        </div>

            <div class="data highlight empty">
                Sorry, we could not display the changes to this file because there were too many other changes to display.

            </div>
      </div>

      <a name="diff-c102b6c42020e97019a5f24faa7aed24"></a>
      <div id="diff-35"
           class="file js-details-container
                   
                   
                   
                   
                   show-inline-notes
                 ">
        <div class="file-header" data-path="drivers/cpufreq/cpufreq_smartmax.c">
          <div class="file-actions">
              <span class="show-file-notes">
                <label>
                  <input type="checkbox" checked="checked" class="js-toggle-file-notes">
                  Show notes
                </label>
              </span>

                <a href="/Tkkg1994/StockKernel/blob/cbf17b4b432bfe962ae330d9a86f8ded47d33b22/drivers/cpufreq/cpufreq_smartmax.c" class="btn btn-sm tooltipped tooltipped-nw" rel="nofollow" aria-label="View the whole file at version cbf17b4 ">View</a>


          </div>
          <div class="file-info">
              <span class="diffstat tooltipped tooltipped-e" aria-label="Empty file added">
                0
                <span class="text-diff-added">
                  <span class="block-diff-neutral"></span><span class="block-diff-neutral"></span><span class="block-diff-neutral"></span><span class="block-diff-neutral"></span><span class="block-diff-neutral"></span>
                </span>
              </span>

            <span class="user-select-contain" title="drivers/cpufreq/cpufreq_smartmax.c">
              drivers/cpufreq/cpufreq_smartmax.c
            </span>
            
          </div>
        </div>

            <div class="data highlight empty">
                Sorry, we could not display the changes to this file because there were too many other changes to display.

            </div>
      </div>

      <a name="diff-f91f691ca72243f5c10464b5b48b76df"></a>
      <div id="diff-36"
           class="file js-details-container
                   
                   
                   
                   
                   show-inline-notes
                 ">
        <div class="file-header" data-path="drivers/cpufreq/cpufreq_smartmax_eps.c">
          <div class="file-actions">
              <span class="show-file-notes">
                <label>
                  <input type="checkbox" checked="checked" class="js-toggle-file-notes">
                  Show notes
                </label>
              </span>

                <a href="/Tkkg1994/StockKernel/blob/cbf17b4b432bfe962ae330d9a86f8ded47d33b22/drivers/cpufreq/cpufreq_smartmax_eps.c" class="btn btn-sm tooltipped tooltipped-nw" rel="nofollow" aria-label="View the whole file at version cbf17b4 ">View</a>


          </div>
          <div class="file-info">
              <span class="diffstat tooltipped tooltipped-e" aria-label="Empty file added">
                0
                <span class="text-diff-added">
                  <span class="block-diff-neutral"></span><span class="block-diff-neutral"></span><span class="block-diff-neutral"></span><span class="block-diff-neutral"></span><span class="block-diff-neutral"></span>
                </span>
              </span>

            <span class="user-select-contain" title="drivers/cpufreq/cpufreq_smartmax_eps.c">
              drivers/cpufreq/cpufreq_smartmax_eps.c
            </span>
            
          </div>
        </div>

            <div class="data highlight empty">
                Sorry, we could not display the changes to this file because there were too many other changes to display.

            </div>
      </div>

      <a name="diff-8840ef3d9b40b71a35f1106fdbd3631e"></a>
      <div id="diff-37"
           class="file js-details-container
                   
                   
                   
                   
                   show-inline-notes
                 ">
        <div class="file-header" data-path="drivers/cpufreq/cpufreq_umbrella_core.c">
          <div class="file-actions">
              <span class="show-file-notes">
                <label>
                  <input type="checkbox" checked="checked" class="js-toggle-file-notes">
                  Show notes
                </label>
              </span>

                <a href="/Tkkg1994/StockKernel/blob/cbf17b4b432bfe962ae330d9a86f8ded47d33b22/drivers/cpufreq/cpufreq_umbrella_core.c" class="btn btn-sm tooltipped tooltipped-nw" rel="nofollow" aria-label="View the whole file at version cbf17b4 ">View</a>


          </div>
          <div class="file-info">
              <span class="diffstat tooltipped tooltipped-e" aria-label="Empty file added">
                0
                <span class="text-diff-added">
                  <span class="block-diff-neutral"></span><span class="block-diff-neutral"></span><span class="block-diff-neutral"></span><span class="block-diff-neutral"></span><span class="block-diff-neutral"></span>
                </span>
              </span>

            <span class="user-select-contain" title="drivers/cpufreq/cpufreq_umbrella_core.c">
              drivers/cpufreq/cpufreq_umbrella_core.c
            </span>
            
          </div>
        </div>

            <div class="data highlight empty">
                Sorry, we could not display the changes to this file because there were too many other changes to display.

            </div>
      </div>

      <a name="diff-4f5e46722e1925970e9876034c610e6a"></a>
      <div id="diff-38"
           class="file js-details-container
                   
                   
                   
                   
                   show-inline-notes
                 ">
        <div class="file-header" data-path="drivers/cpufreq/cpufreq_yankactive.c">
          <div class="file-actions">
              <span class="show-file-notes">
                <label>
                  <input type="checkbox" checked="checked" class="js-toggle-file-notes">
                  Show notes
                </label>
              </span>

                <a href="/Tkkg1994/StockKernel/blob/cbf17b4b432bfe962ae330d9a86f8ded47d33b22/drivers/cpufreq/cpufreq_yankactive.c" class="btn btn-sm tooltipped tooltipped-nw" rel="nofollow" aria-label="View the whole file at version cbf17b4 ">View</a>


          </div>
          <div class="file-info">
              <span class="diffstat tooltipped tooltipped-e" aria-label="Empty file added">
                0
                <span class="text-diff-added">
                  <span class="block-diff-neutral"></span><span class="block-diff-neutral"></span><span class="block-diff-neutral"></span><span class="block-diff-neutral"></span><span class="block-diff-neutral"></span>
                </span>
              </span>

            <span class="user-select-contain" title="drivers/cpufreq/cpufreq_yankactive.c">
              drivers/cpufreq/cpufreq_yankactive.c
            </span>
            
          </div>
        </div>

            <div class="data highlight empty">
                Sorry, we could not display the changes to this file because there were too many other changes to display.

            </div>
      </div>

      <a name="diff-ff4ed14f2db18b1a5bf67d3f94d2a4f3"></a>
      <div id="diff-39"
           class="file js-details-container
                   
                   
                   
                   
                   show-inline-notes
                 ">
        <div class="file-header" data-path="drivers/cpufreq/cpufreq_zzmoove.c">
          <div class="file-actions">
              <span class="show-file-notes">
                <label>
                  <input type="checkbox" checked="checked" class="js-toggle-file-notes">
                  Show notes
                </label>
              </span>

                <a href="/Tkkg1994/StockKernel/blob/cbf17b4b432bfe962ae330d9a86f8ded47d33b22/drivers/cpufreq/cpufreq_zzmoove.c" class="btn btn-sm tooltipped tooltipped-nw" rel="nofollow" aria-label="View the whole file at version cbf17b4 ">View</a>


          </div>
          <div class="file-info">
              <span class="diffstat tooltipped tooltipped-e" aria-label="Empty file added">
                0
                <span class="text-diff-added">
                  <span class="block-diff-neutral"></span><span class="block-diff-neutral"></span><span class="block-diff-neutral"></span><span class="block-diff-neutral"></span><span class="block-diff-neutral"></span>
                </span>
              </span>

            <span class="user-select-contain" title="drivers/cpufreq/cpufreq_zzmoove.c">
              drivers/cpufreq/cpufreq_zzmoove.c
            </span>
            
          </div>
        </div>

            <div class="data highlight empty">
                Sorry, we could not display the changes to this file because there were too many other changes to display.

            </div>
      </div>

      <a name="diff-3281892901adf82363e7aed237c9884a"></a>
      <div id="diff-40"
           class="file js-details-container
                   
                   
                   
                   
                   show-inline-notes
                 ">
        <div class="file-header" data-path="drivers/cpufreq/cpufreq_zzmoove_profiles.h">
          <div class="file-actions">
              <span class="show-file-notes">
                <label>
                  <input type="checkbox" checked="checked" class="js-toggle-file-notes">
                  Show notes
                </label>
              </span>

                <a href="/Tkkg1994/StockKernel/blob/cbf17b4b432bfe962ae330d9a86f8ded47d33b22/drivers/cpufreq/cpufreq_zzmoove_profiles.h" class="btn btn-sm tooltipped tooltipped-nw" rel="nofollow" aria-label="View the whole file at version cbf17b4 ">View</a>


          </div>
          <div class="file-info">
              <span class="diffstat tooltipped tooltipped-e" aria-label="Empty file added">
                0
                <span class="text-diff-added">
                  <span class="block-diff-neutral"></span><span class="block-diff-neutral"></span><span class="block-diff-neutral"></span><span class="block-diff-neutral"></span><span class="block-diff-neutral"></span>
                </span>
              </span>

            <span class="user-select-contain" title="drivers/cpufreq/cpufreq_zzmoove_profiles.h">
              drivers/cpufreq/cpufreq_zzmoove_profiles.h
            </span>
            
          </div>
        </div>

            <div class="data highlight empty">
                Sorry, we could not display the changes to this file because there were too many other changes to display.

            </div>
      </div>

      <a name="diff-a20c5be16a95b59d8023e63f9ffa6523"></a>
      <div id="diff-41"
           class="file js-details-container
                   
                   
                   
                   
                   show-inline-notes
                 ">
        <div class="file-header" data-path="drivers/gpu/msm/kgsl_pwrctrl.c">
          <div class="file-actions">
              <span class="show-file-notes">
                <label>
                  <input type="checkbox" checked="checked" class="js-toggle-file-notes">
                  Show notes
                </label>
              </span>

                <a href="/Tkkg1994/StockKernel/blob/cbf17b4b432bfe962ae330d9a86f8ded47d33b22/drivers/gpu/msm/kgsl_pwrctrl.c" class="btn btn-sm tooltipped tooltipped-nw" rel="nofollow" aria-label="View the whole file at version cbf17b4 ">View</a>


          </div>
          <div class="file-info">
              <span class="diffstat tooltipped tooltipped-e" aria-label="Empty file changed">
                0
                <span class="text-diff-added">
                  <span class="block-diff-neutral"></span><span class="block-diff-neutral"></span><span class="block-diff-neutral"></span><span class="block-diff-neutral"></span><span class="block-diff-neutral"></span>
                </span>
              </span>

            <span class="user-select-contain" title="drivers/gpu/msm/kgsl_pwrctrl.c">
              drivers/gpu/msm/kgsl_pwrctrl.c
            </span>
            
          </div>
        </div>

            <div class="data highlight empty">
                Sorry, we could not display the changes to this file because there were too many other changes to display.

            </div>
      </div>

      <a name="diff-2de6be860f73920a185f16aaa6c4073e"></a>
      <div id="diff-42"
           class="file js-details-container
                   
                   
                   
                   
                   show-inline-notes
                 ">
        <div class="file-header" data-path="include/linux/cpufreq.h">
          <div class="file-actions">
              <span class="show-file-notes">
                <label>
                  <input type="checkbox" checked="checked" class="js-toggle-file-notes">
                  Show notes
                </label>
              </span>

                <a href="/Tkkg1994/StockKernel/blob/cbf17b4b432bfe962ae330d9a86f8ded47d33b22/include/linux/cpufreq.h" class="btn btn-sm tooltipped tooltipped-nw" rel="nofollow" aria-label="View the whole file at version cbf17b4 ">View</a>


          </div>
          <div class="file-info">
              <span class="diffstat tooltipped tooltipped-e" aria-label="Empty file changed">
                0
                <span class="text-diff-added">
                  <span class="block-diff-neutral"></span><span class="block-diff-neutral"></span><span class="block-diff-neutral"></span><span class="block-diff-neutral"></span><span class="block-diff-neutral"></span>
                </span>
              </span>

            <span class="user-select-contain" title="include/linux/cpufreq.h">
              include/linux/cpufreq.h
            </span>
            
          </div>
        </div>

            <div class="data highlight empty">
                Sorry, we could not display the changes to this file because there were too many other changes to display.

            </div>
      </div>

      <a name="diff-5c6f762a375c247e5aa23692eb03064e"></a>
      <div id="diff-43"
           class="file js-details-container
                   
                   
                   
                   
                   show-inline-notes
                 ">
        <div class="file-header" data-path="include/linux/msm_kgsl.h">
          <div class="file-actions">
              <span class="show-file-notes">
                <label>
                  <input type="checkbox" checked="checked" class="js-toggle-file-notes">
                  Show notes
                </label>
              </span>

                <a href="/Tkkg1994/StockKernel/blob/cbf17b4b432bfe962ae330d9a86f8ded47d33b22/include/linux/msm_kgsl.h" class="btn btn-sm tooltipped tooltipped-nw" rel="nofollow" aria-label="View the whole file at version cbf17b4 ">View</a>


          </div>
          <div class="file-info">
              <span class="diffstat tooltipped tooltipped-e" aria-label="Empty file changed">
                0
                <span class="text-diff-added">
                  <span class="block-diff-neutral"></span><span class="block-diff-neutral"></span><span class="block-diff-neutral"></span><span class="block-diff-neutral"></span><span class="block-diff-neutral"></span>
                </span>
              </span>

            <span class="user-select-contain" title="include/linux/msm_kgsl.h">
              include/linux/msm_kgsl.h
            </span>
            
          </div>
        </div>

            <div class="data highlight empty">
                Sorry, we could not display the changes to this file because there were too many other changes to display.

            </div>
      </div>

      <a name="diff-b3e1b0ffdce565ef04e308fd53cd299a"></a>
      <div id="diff-44"
           class="file js-details-container
                   
                   
                   
                   
                   show-inline-notes
                 ">
        <div class="file-header" data-path="include/trace/events/cpufreq_barry_allen.h">
          <div class="file-actions">
              <span class="show-file-notes">
                <label>
                  <input type="checkbox" checked="checked" class="js-toggle-file-notes">
                  Show notes
                </label>
              </span>

                <a href="/Tkkg1994/StockKernel/blob/cbf17b4b432bfe962ae330d9a86f8ded47d33b22/include/trace/events/cpufreq_barry_allen.h" class="btn btn-sm tooltipped tooltipped-nw" rel="nofollow" aria-label="View the whole file at version cbf17b4 ">View</a>


          </div>
          <div class="file-info">
              <span class="diffstat tooltipped tooltipped-e" aria-label="Empty file added">
                0
                <span class="text-diff-added">
                  <span class="block-diff-neutral"></span><span class="block-diff-neutral"></span><span class="block-diff-neutral"></span><span class="block-diff-neutral"></span><span class="block-diff-neutral"></span>
                </span>
              </span>

            <span class="user-select-contain" title="include/trace/events/cpufreq_barry_allen.h">
              include/trace/events/cpufreq_barry_allen.h
            </span>
            
          </div>
        </div>

            <div class="data highlight empty">
                Sorry, we could not display the changes to this file because there were too many other changes to display.

            </div>
      </div>

      <a name="diff-ac85ef1c88d3ad24fe312529d9b88c59"></a>
      <div id="diff-45"
           class="file js-details-container
                   
                   
                   
                   
                   show-inline-notes
                 ">
        <div class="file-header" data-path="include/trace/events/cpufreq_cafactive.h">
          <div class="file-actions">
              <span class="show-file-notes">
                <label>
                  <input type="checkbox" checked="checked" class="js-toggle-file-notes">
                  Show notes
                </label>
              </span>

                <a href="/Tkkg1994/StockKernel/blob/cbf17b4b432bfe962ae330d9a86f8ded47d33b22/include/trace/events/cpufreq_cafactive.h" class="btn btn-sm tooltipped tooltipped-nw" rel="nofollow" aria-label="View the whole file at version cbf17b4 ">View</a>


          </div>
          <div class="file-info">
              <span class="diffstat tooltipped tooltipped-e" aria-label="Empty file added">
                0
                <span class="text-diff-added">
                  <span class="block-diff-neutral"></span><span class="block-diff-neutral"></span><span class="block-diff-neutral"></span><span class="block-diff-neutral"></span><span class="block-diff-neutral"></span>
                </span>
              </span>

            <span class="user-select-contain" title="include/trace/events/cpufreq_cafactive.h">
              include/trace/events/cpufreq_cafactive.h
            </span>
            
          </div>
        </div>

            <div class="data highlight empty">
                Sorry, we could not display the changes to this file because there were too many other changes to display.

            </div>
      </div>

      <a name="diff-4f734ccad5d6b04d2117e90515bc4d55"></a>
      <div id="diff-46"
           class="file js-details-container
                   
                   
                   
                   
                   show-inline-notes
                 ">
        <div class="file-header" data-path="include/trace/events/cpufreq_electroactive.h">
          <div class="file-actions">
              <span class="show-file-notes">
                <label>
                  <input type="checkbox" checked="checked" class="js-toggle-file-notes">
                  Show notes
                </label>
              </span>

                <a href="/Tkkg1994/StockKernel/blob/cbf17b4b432bfe962ae330d9a86f8ded47d33b22/include/trace/events/cpufreq_electroactive.h" class="btn btn-sm tooltipped tooltipped-nw" rel="nofollow" aria-label="View the whole file at version cbf17b4 ">View</a>


          </div>
          <div class="file-info">
              <span class="diffstat tooltipped tooltipped-e" aria-label="Empty file added">
                0
                <span class="text-diff-added">
                  <span class="block-diff-neutral"></span><span class="block-diff-neutral"></span><span class="block-diff-neutral"></span><span class="block-diff-neutral"></span><span class="block-diff-neutral"></span>
                </span>
              </span>

            <span class="user-select-contain" title="include/trace/events/cpufreq_electroactive.h">
              include/trace/events/cpufreq_electroactive.h
            </span>
            
          </div>
        </div>

            <div class="data highlight empty">
                Sorry, we could not display the changes to this file because there were too many other changes to display.

            </div>
      </div>

      <a name="diff-1e29dcdb72f59f6cfb5feb7c17aaca13"></a>
      <div id="diff-47"
           class="file js-details-container
                   
                   
                   
                   
                   show-inline-notes
                 ">
        <div class="file-header" data-path="include/trace/events/cpufreq_interactive.h">
          <div class="file-actions">
              <span class="show-file-notes">
                <label>
                  <input type="checkbox" checked="checked" class="js-toggle-file-notes">
                  Show notes
                </label>
              </span>

                <a href="/Tkkg1994/StockKernel/blob/cbf17b4b432bfe962ae330d9a86f8ded47d33b22/include/trace/events/cpufreq_interactive.h" class="btn btn-sm tooltipped tooltipped-nw" rel="nofollow" aria-label="View the whole file at version cbf17b4 ">View</a>


          </div>
          <div class="file-info">
              <span class="diffstat tooltipped tooltipped-e" aria-label="Empty file changed">
                0
                <span class="text-diff-added">
                  <span class="block-diff-neutral"></span><span class="block-diff-neutral"></span><span class="block-diff-neutral"></span><span class="block-diff-neutral"></span><span class="block-diff-neutral"></span>
                </span>
              </span>

            <span class="user-select-contain" title="include/trace/events/cpufreq_interactive.h">
              include/trace/events/cpufreq_interactive.h
            </span>
            
          </div>
        </div>

            <div class="data highlight empty">
                Sorry, we could not display the changes to this file because there were too many other changes to display.

            </div>
      </div>

      <a name="diff-4d61160cb6b3d1d5cab6eeec330be653"></a>
      <div id="diff-48"
           class="file js-details-container
                   
                   
                   
                   
                   show-inline-notes
                 ">
        <div class="file-header" data-path="include/trace/events/cpufreq_interactive_x.h">
          <div class="file-actions">
              <span class="show-file-notes">
                <label>
                  <input type="checkbox" checked="checked" class="js-toggle-file-notes">
                  Show notes
                </label>
              </span>

                <a href="/Tkkg1994/StockKernel/blob/cbf17b4b432bfe962ae330d9a86f8ded47d33b22/include/trace/events/cpufreq_interactive_x.h" class="btn btn-sm tooltipped tooltipped-nw" rel="nofollow" aria-label="View the whole file at version cbf17b4 ">View</a>


          </div>
          <div class="file-info">
              <span class="diffstat tooltipped tooltipped-e" aria-label="Empty file added">
                0
                <span class="text-diff-added">
                  <span class="block-diff-neutral"></span><span class="block-diff-neutral"></span><span class="block-diff-neutral"></span><span class="block-diff-neutral"></span><span class="block-diff-neutral"></span>
                </span>
              </span>

            <span class="user-select-contain" title="include/trace/events/cpufreq_interactive_x.h">
              include/trace/events/cpufreq_interactive_x.h
            </span>
            
          </div>
        </div>

            <div class="data highlight empty">
                Sorry, we could not display the changes to this file because there were too many other changes to display.

            </div>
      </div>

      <a name="diff-97fae072fac7188ef96cc722081e71aa"></a>
      <div id="diff-49"
           class="file js-details-container
                   
                   
                   
                   
                   show-inline-notes
                 ">
        <div class="file-header" data-path="include/trace/events/cpufreq_ironactive.h">
          <div class="file-actions">
              <span class="show-file-notes">
                <label>
                  <input type="checkbox" checked="checked" class="js-toggle-file-notes">
                  Show notes
                </label>
              </span>

                <a href="/Tkkg1994/StockKernel/blob/cbf17b4b432bfe962ae330d9a86f8ded47d33b22/include/trace/events/cpufreq_ironactive.h" class="btn btn-sm tooltipped tooltipped-nw" rel="nofollow" aria-label="View the whole file at version cbf17b4 ">View</a>


          </div>
          <div class="file-info">
              <span class="diffstat tooltipped tooltipped-e" aria-label="Empty file added">
                0
                <span class="text-diff-added">
                  <span class="block-diff-neutral"></span><span class="block-diff-neutral"></span><span class="block-diff-neutral"></span><span class="block-diff-neutral"></span><span class="block-diff-neutral"></span>
                </span>
              </span>

            <span class="user-select-contain" title="include/trace/events/cpufreq_ironactive.h">
              include/trace/events/cpufreq_ironactive.h
            </span>
            
          </div>
        </div>

            <div class="data highlight empty">
                Sorry, we could not display the changes to this file because there were too many other changes to display.

            </div>
      </div>

      <a name="diff-1675a2cd445504eab27f92c0cb084510"></a>
      <div id="diff-50"
           class="file js-details-container
                   
                   
                   
                   
                   show-inline-notes
                 ">
        <div class="file-header" data-path="include/trace/events/cpufreq_ondemandplus.h">
          <div class="file-actions">
              <span class="show-file-notes">
                <label>
                  <input type="checkbox" checked="checked" class="js-toggle-file-notes">
                  Show notes
                </label>
              </span>

                <a href="/Tkkg1994/StockKernel/blob/cbf17b4b432bfe962ae330d9a86f8ded47d33b22/include/trace/events/cpufreq_ondemandplus.h" class="btn btn-sm tooltipped tooltipped-nw" rel="nofollow" aria-label="View the whole file at version cbf17b4 ">View</a>


          </div>
          <div class="file-info">
              <span class="diffstat tooltipped tooltipped-e" aria-label="Empty file added">
                0
                <span class="text-diff-added">
                  <span class="block-diff-neutral"></span><span class="block-diff-neutral"></span><span class="block-diff-neutral"></span><span class="block-diff-neutral"></span><span class="block-diff-neutral"></span>
                </span>
              </span>

            <span class="user-select-contain" title="include/trace/events/cpufreq_ondemandplus.h">
              include/trace/events/cpufreq_ondemandplus.h
            </span>
            
          </div>
        </div>

            <div class="data highlight empty">
                Sorry, we could not display the changes to this file because there were too many other changes to display.

            </div>
      </div>

      <a name="diff-93e5c23c18ad8bf0a627a9010b4045bf"></a>
      <div id="diff-51"
           class="file js-details-container
                   
                   
                   
                   
                   show-inline-notes
                 ">
        <div class="file-header" data-path="include/trace/events/cpufreq_umbrella_core.h">
          <div class="file-actions">
              <span class="show-file-notes">
                <label>
                  <input type="checkbox" checked="checked" class="js-toggle-file-notes">
                  Show notes
                </label>
              </span>

                <a href="/Tkkg1994/StockKernel/blob/cbf17b4b432bfe962ae330d9a86f8ded47d33b22/include/trace/events/cpufreq_umbrella_core.h" class="btn btn-sm tooltipped tooltipped-nw" rel="nofollow" aria-label="View the whole file at version cbf17b4 ">View</a>


          </div>
          <div class="file-info">
              <span class="diffstat tooltipped tooltipped-e" aria-label="Empty file added">
                0
                <span class="text-diff-added">
                  <span class="block-diff-neutral"></span><span class="block-diff-neutral"></span><span class="block-diff-neutral"></span><span class="block-diff-neutral"></span><span class="block-diff-neutral"></span>
                </span>
              </span>

            <span class="user-select-contain" title="include/trace/events/cpufreq_umbrella_core.h">
              include/trace/events/cpufreq_umbrella_core.h
            </span>
            
          </div>
        </div>

            <div class="data highlight empty">
                Sorry, we could not display the changes to this file because there were too many other changes to display.

            </div>
      </div>

      <a name="diff-74f9f96234d5dea5dbfcb7eb84a8e1be"></a>
      <div id="diff-52"
           class="file js-details-container
                   
                   
                   
                   
                   show-inline-notes
                 ">
        <div class="file-header" data-path="include/trace/events/cpufreq_yankactive.h">
          <div class="file-actions">
              <span class="show-file-notes">
                <label>
                  <input type="checkbox" checked="checked" class="js-toggle-file-notes">
                  Show notes
                </label>
              </span>

                <a href="/Tkkg1994/StockKernel/blob/cbf17b4b432bfe962ae330d9a86f8ded47d33b22/include/trace/events/cpufreq_yankactive.h" class="btn btn-sm tooltipped tooltipped-nw" rel="nofollow" aria-label="View the whole file at version cbf17b4 ">View</a>


          </div>
          <div class="file-info">
              <span class="diffstat tooltipped tooltipped-e" aria-label="Empty file added">
                0
                <span class="text-diff-added">
                  <span class="block-diff-neutral"></span><span class="block-diff-neutral"></span><span class="block-diff-neutral"></span><span class="block-diff-neutral"></span><span class="block-diff-neutral"></span>
                </span>
              </span>

            <span class="user-select-contain" title="include/trace/events/cpufreq_yankactive.h">
              include/trace/events/cpufreq_yankactive.h
            </span>
            
          </div>
        </div>

            <div class="data highlight empty">
                Sorry, we could not display the changes to this file because there were too many other changes to display.

            </div>
      </div>
</div>

<button class="js-toggle-all-file-notes" data-hotkey="i" style="display:none">Toggle all file notes</button>


<div id="all_commit_comments" class="js-quote-selection-container ">

  <div class="commit-comments-heading">
    
<div id="partial-visible-comments-header">
  <span class="right">
    
  </span>

  <h4 class="commit-comment-count">
    0 comments
    on commit <code class="commit-sha">cbf17b4</code>
  </h4>

</div>


  </div>

  <div id="comments" class="comment-holder">
    

<!-- Rendered timeline since 2016-03-25 06:13:45 -->
<div id="partial-timeline-marker"
      class="js-timeline-marker js-socket-channel js-updatable-content"
      data-channel="Tkkg1994/StockKernel:commit:cbf17b4b432bfe962ae330d9a86f8ded47d33b22"
      data-url="/Tkkg1994/StockKernel/commit/cbf17b4b432bfe962ae330d9a86f8ded47d33b22/show_partial?partial=commit%2Ftimeline_marker&amp;since=1458911625"
      data-last-modified="Fri, 25 Mar 2016 13:13:45 GMT">

</div>

  </div>

  

    Please <a href="/login?return_to=https%3A%2F%2Fgithub.com%2FTkkg1994%2FStockKernel%2Fcommit%2Fcbf17b4b432bfe962ae330d9a86f8ded47d33b22" rel="nofollow">sign in</a> to comment.

</div>


  </div>
  <div class="modal-backdrop"></div>
</div>


    </div>
  </div>

    </div>

        <div class="container site-footer-container">
  <div class="site-footer" role="contentinfo">
    <ul class="site-footer-links right">
        <li><a href="https://status.github.com/" data-ga-click="Footer, go to status, text:status">Status</a></li>
      <li><a href="https://developer.github.com" data-ga-click="Footer, go to api, text:api">API</a></li>
      <li><a href="https://training.github.com" data-ga-click="Footer, go to training, text:training">Training</a></li>
      <li><a href="https://shop.github.com" data-ga-click="Footer, go to shop, text:shop">Shop</a></li>
        <li><a href="https://github.com/blog" data-ga-click="Footer, go to blog, text:blog">Blog</a></li>
        <li><a href="https://github.com/about" data-ga-click="Footer, go to about, text:about">About</a></li>

    </ul>

    <a href="https://github.com" aria-label="Homepage" class="site-footer-mark">
      <svg aria-hidden="true" class="octicon octicon-mark-github" height="24" role="img" title="GitHub " version="1.1" viewBox="0 0 16 16" width="24"><path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59 0.4 0.07 0.55-0.17 0.55-0.38 0-0.19-0.01-0.82-0.01-1.49-2.01 0.37-2.53-0.49-2.69-0.94-0.09-0.23-0.48-0.94-0.82-1.13-0.28-0.15-0.68-0.52-0.01-0.53 0.63-0.01 1.08 0.58 1.23 0.82 0.72 1.21 1.87 0.87 2.33 0.66 0.07-0.52 0.28-0.87 0.51-1.07-1.78-0.2-3.64-0.89-3.64-3.95 0-0.87 0.31-1.59 0.82-2.15-0.08-0.2-0.36-1.02 0.08-2.12 0 0 0.67-0.21 2.2 0.82 0.64-0.18 1.32-0.27 2-0.27 0.68 0 1.36 0.09 2 0.27 1.53-1.04 2.2-0.82 2.2-0.82 0.44 1.1 0.16 1.92 0.08 2.12 0.51 0.56 0.82 1.27 0.82 2.15 0 3.07-1.87 3.75-3.65 3.95 0.29 0.25 0.54 0.73 0.54 1.48 0 1.07-0.01 1.93-0.01 2.2 0 0.21 0.15 0.46 0.55 0.38C13.71 14.53 16 11.53 16 8 16 3.58 12.42 0 8 0z"></path></svg>
</a>
    <ul class="site-footer-links">
      <li>&copy; 2016 <span title="0.79844s from github-fe133-cp1-prd.iad.github.net">GitHub</span>, Inc.</li>
        <li><a href="https://github.com/site/terms" data-ga-click="Footer, go to terms, text:terms">Terms</a></li>
        <li><a href="https://github.com/site/privacy" data-ga-click="Footer, go to privacy, text:privacy">Privacy</a></li>
        <li><a href="https://github.com/security" data-ga-click="Footer, go to security, text:security">Security</a></li>
        <li><a href="https://github.com/contact" data-ga-click="Footer, go to contact, text:contact">Contact</a></li>
        <li><a href="https://help.github.com" data-ga-click="Footer, go to help, text:help">Help</a></li>
    </ul>
  </div>
</div>



    
    

    <div id="ajax-error-message" class="ajax-error-message flash flash-error">
      <svg aria-hidden="true" class="octicon octicon-alert" height="16" role="img" version="1.1" viewBox="0 0 16 16" width="16"><path d="M15.72 12.5l-6.85-11.98C8.69 0.21 8.36 0.02 8 0.02s-0.69 0.19-0.87 0.5l-6.85 11.98c-0.18 0.31-0.18 0.69 0 1C0.47 13.81 0.8 14 1.15 14h13.7c0.36 0 0.69-0.19 0.86-0.5S15.89 12.81 15.72 12.5zM9 12H7V10h2V12zM9 9H7V5h2V9z"></path></svg>
      <button type="button" class="flash-close js-flash-close js-ajax-error-dismiss" aria-label="Dismiss error">
        <svg aria-hidden="true" class="octicon octicon-x" height="16" role="img" version="1.1" viewBox="0 0 12 16" width="12"><path d="M7.48 8l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75-1.48-1.48 3.75-3.75L0.77 4.25l1.48-1.48 3.75 3.75 3.75-3.75 1.48 1.48-3.75 3.75z"></path></svg>
      </button>
      Something went wrong with that request. Please try again.
    </div>


      <script crossorigin="anonymous" src="https://assets-cdn.github.com/assets/compat-7db58f8b7b91111107fac755dd8b178fe7db0f209ced51fc339c446ad3f8da2b.js"></script>
      <script crossorigin="anonymous" src="https://assets-cdn.github.com/assets/frameworks-eadd096b8f37795fc0cf0934c37c7ec3d1eb7f3020e9d6c817b0a6525c417b5a.js"></script>
      <script async="async" crossorigin="anonymous" src="https://assets-cdn.github.com/assets/github-d8270eef9e7b4bbbab5ba50e23533b7663f84d8af12f38bdc7aeb7d1b1a53045.js"></script>
      
      
      
      
    <div class="js-stale-session-flash stale-session-flash flash flash-warn flash-banner hidden">
      <svg aria-hidden="true" class="octicon octicon-alert" height="16" role="img" version="1.1" viewBox="0 0 16 16" width="16"><path d="M15.72 12.5l-6.85-11.98C8.69 0.21 8.36 0.02 8 0.02s-0.69 0.19-0.87 0.5l-6.85 11.98c-0.18 0.31-0.18 0.69 0 1C0.47 13.81 0.8 14 1.15 14h13.7c0.36 0 0.69-0.19 0.86-0.5S15.89 12.81 15.72 12.5zM9 12H7V10h2V12zM9 9H7V5h2V9z"></path></svg>
      <span class="signed-in-tab-flash">You signed in with another tab or window. <a href="">Reload</a> to refresh your session.</span>
      <span class="signed-out-tab-flash">You signed out in another tab or window. <a href="">Reload</a> to refresh your session.</span>
    </div>
    <div class="facebox" id="facebox" style="display:none;">
  <div class="facebox-popup">
    <div class="facebox-content" role="dialog" aria-labelledby="facebox-header" aria-describedby="facebox-description">
    </div>
    <button type="button" class="facebox-close js-facebox-close" aria-label="Close modal">
      <svg aria-hidden="true" class="octicon octicon-x" height="16" role="img" version="1.1" viewBox="0 0 12 16" width="12"><path d="M7.48 8l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75-1.48-1.48 3.75-3.75L0.77 4.25l1.48-1.48 3.75 3.75 3.75-3.75 1.48 1.48-3.75 3.75z"></path></svg>
    </button>
  </div>
</div>

  </body>
</html>

