From 98a287a2cf6d9ca4d55cf1359d150064989a8aa2 Mon Sep 17 00:00:00 2001
From: robcore <robpatershuk@gmail.com>
Date: Tue, 26 Apr 2016 09:59:16 -0600
Subject: [PATCH] updated build script, testing out kcal, 5.9

---
 arch/arm/configs/AEL_config | 16 +++++++++-------
 build_kernel.sh             |  2 ++
 2 files changed, 11 insertions(+), 7 deletions(-)

diff --git a/arch/arm/configs/AEL_config b/arch/arm/configs/AEL_config
index 43590c8..1ad0c2b 100644
--- a/arch/arm/configs/AEL_config
+++ b/arch/arm/configs/AEL_config
@@ -1,6 +1,6 @@
 #
 # Automatically generated file; DO NOT EDIT.
-# Linux/arm 3.4.110 Kernel Configuration
+# Linux/arm 3.4.111 Kernel Configuration
 #
 CT_ARCH_ARCH=""
 CT_ARCH_CPU="cortex-a15"
@@ -864,6 +864,7 @@ CONFIG_LAZYPLUG=y
 CONFIG_CPU_IDLE=y
 CONFIG_CPU_IDLE_GOV_LADDER=y
 CONFIG_CPU_IDLE_GOV_MENU=y
+CONFIG_KERNEL_MODE_NEON=y
 CONFIG_CPU_FREQ_MSM=y
 
 #
@@ -876,7 +877,6 @@ CONFIG_CPU_FREQ_MSM=y
 CONFIG_VFP=y
 CONFIG_VFPv3=y
 CONFIG_NEON=y
-CONFIG_KERNEL_MODE_NEON=y
 
 #
 # Userspace binary formats
@@ -2433,8 +2433,8 @@ CONFIG_IR_LIRC_CODEC=y
 # CONFIG_RC_LOOPBACK is not set
 CONFIG_IR_GPIO_CIR=y
 # CONFIG_MEDIA_ATTACH is not set
-CONFIG_MEDIA_TUNER is not set
-CONFIG_MEDIA_TUNER_CUSTOMISE is not set
+# CONFIG_MEDIA_TUNER is not set
+# CONFIG_MEDIA_TUNER_CUSTOMISE is not set
 CONFIG_VIDEO_V4L2=y
 CONFIG_VIDEOBUF2_CORE=y
 CONFIG_VIDEOBUF2_MEMOPS=y
@@ -3592,6 +3592,11 @@ CONFIG_IR_REMOCON_FPGA=y
 CONFIG_SEC_NET_FILTER=y
 
 #
+# KControl Module
+#
+CONFIG_KCONTROL_GPU_MODULE_MSM=m
+
+#
 # File systems
 #
 CONFIG_LOW_ORDER_SEQ_MALLOC=y
@@ -3852,7 +3857,6 @@ CONFIG_HAVE_C_RECORDMCOUNT=y
 CONFIG_TRACER_MAX_TRACE=y
 CONFIG_RING_BUFFER=y
 CONFIG_EVENT_TRACING=y
-CONFIG_EVENT_POWER_TRACING_DEPRECATED=y
 CONFIG_CONTEXT_SWITCH_TRACER=y
 CONFIG_RING_BUFFER_ALLOW_SWAP=y
 CONFIG_TRACING=y
@@ -3887,8 +3891,6 @@ CONFIG_DEBUG_USER=y
 # Samsung Debugging Feature
 #
 # CONFIG_SEC_DEBUG is not set
-# CONFIG_SEC_DEBUG_SCHED_LOG is not set
-# CONFIG_SEC_DEBUG_SEMAPHORE_LOG is not set
 # CONFIG_SEC_FORKHANG_DEBUG is not set
 # CONFIG_SEC_DEBUG_USER is not set
 # CONFIG_SEC_DEBUG_IRQ_EXIT_LOG is not set
diff --git a/build_kernel.sh b/build_kernel.sh
index b44c116..39ba27a 100755
--- a/build_kernel.sh
+++ b/build_kernel.sh
@@ -14,3 +14,5 @@ make ARCH=arm -j7 -C $(pwd) O=$(pwd)/out;
 cp $(pwd)/out/arch/arm/boot/zImage $(pwd)/arch/arm/boot/zImage;
 cp $(pwd)/out/drivers/net/wireless/bcmdhd/dhd.ko $(pwd)/arch/arm/boot/dhd.ko;
 cp $(pwd)/out/drivers/scsi/scsi_wait_scan.ko $(pwd)/arch/arm/boot/scsi_wait_scan.ko;
+cp $(pwd)/out/drivers/gpu/kcontrol_module/kcontrol_gpu_msm.ko $(pwd)/arch/arm/boot/kcontrol_gpu_msm.ko;
+mv $(pwd)/arch/arm/boot/zImage $(pwd)/arch/arm/boot/boot.img-zImage
-- 
2.8.0.rc3

